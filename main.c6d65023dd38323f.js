(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8697:(qt,Ke,k)=>{"use strict";k.d(Ke,{nm:()=>to});var g=k(8186);k(5879),k(3182);var He=k(5861),pe=k(534),Re=k(4537),ke=k(9058),Ee=k(7879);const te=new Map,dt={activated:!1,tokenObservers:[]},Ve={initialized:!1,enabled:!1};function st(We){return te.get(We)||Object.assign({},dt)}function ft(){return Ve}const Wt="https://content-firebaseappcheck.googleapis.com/v1",ht="exchangeDebugToken",le={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xe{constructor(Ge,Je,St,jt,Zt){if(this.operation=Ge,this.retryPolicy=Je,this.getWaitDuration=St,this.lowerBound=jt,this.upperBound=Zt,this.pending=null,this.nextErrorWaitInterval=jt,jt>Zt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ge){var Je=this;return(0,He.Z)(function*(){Je.stop();try{Je.pending=new ke.BH,yield function Be(We){return new Promise(Ge=>{setTimeout(Ge,We)})}(Je.getNextRun(Ge)),Je.pending.resolve(),yield Je.pending.promise,Je.pending=new ke.BH,yield Je.operation(),Je.pending.resolve(),yield Je.pending.promise,Je.process(!0).catch(()=>{})}catch(St){Je.retryPolicy(St)?Je.process(!1).catch(()=>{}):Je.stop()}})()}getNextRun(Ge){if(Ge)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Je=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Je}}}const Xe=new ke.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ct(We){if(!st(We).activated)throw Xe.create("use-before-activation",{appName:We.name})}function Pe(We,Ge){return Et.apply(this,arguments)}function Et(){return(Et=(0,He.Z)(function*({url:We,body:Ge},Je){const St={"Content-Type":"application/json"},jt=Je.getImmediate({optional:!0});if(jt){const vi=yield jt.getHeartbeatsHeader();vi&&(St["X-Firebase-Client"]=vi)}const Zt={method:"POST",body:JSON.stringify(Ge),headers:St};let Gn,Un;try{Gn=yield fetch(We,Zt)}catch(vi){throw Xe.create("fetch-network-error",{originalErrorMessage:null==vi?void 0:vi.message})}if(200!==Gn.status)throw Xe.create("fetch-status-error",{httpStatus:Gn.status});try{Un=yield Gn.json()}catch(vi){throw Xe.create("fetch-parse-error",{originalErrorMessage:null==vi?void 0:vi.message})}const ir=Un.ttl.match(/^([\d.]+)(s)$/);if(!ir||!ir[2]||isNaN(Number(ir[1])))throw Xe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Un.ttl}`});const di=1e3*Number(ir[1]),Io=Date.now();return{token:Un.token,expireTimeMillis:Io+di,issuedAtTimeMillis:Io}})).apply(this,arguments)}function cn(We,Ge){const{projectId:Je,appId:St,apiKey:jt}=We.options;return{url:`${Wt}/projects/${Je}/apps/${St}:${ht}?key=${jt}`,body:{debug_token:Ge}}}const an="firebase-app-check-database",mn=1,Nn="firebase-app-check-store";let _n=null;function qn(){return(qn=(0,He.Z)(function*(We,Ge){const St=(yield function Rn(){return _n||(_n=new Promise((We,Ge)=>{try{const Je=indexedDB.open(an,mn);Je.onsuccess=St=>{We(St.target.result)},Je.onerror=St=>{var jt;Ge(Xe.create("storage-open",{originalErrorMessage:null===(jt=St.target.error)||void 0===jt?void 0:jt.message}))},Je.onupgradeneeded=St=>{0===St.oldVersion&&St.target.result.createObjectStore(Nn,{keyPath:"compositeKey"})}}catch(Je){Ge(Xe.create("storage-open",{originalErrorMessage:null==Je?void 0:Je.message}))}}),_n)}()).transaction(Nn,"readwrite"),Zt=St.objectStore(Nn).put({compositeKey:We,value:Ge});return new Promise((Gn,Un)=>{Zt.onsuccess=ir=>{Gn()},St.onerror=ir=>{var di;Un(Xe.create("storage-set",{originalErrorMessage:null===(di=ir.target.error)||void 0===di?void 0:di.message}))}})})).apply(this,arguments)}const Yt=new Ee.Yd("@firebase/app-check");function Qr(We,Ge){return(0,ke.hl)()?function sr(We,Ge){return function Mn(We,Ge){return qn.apply(this,arguments)}(function ar(We){return`${We.options.appId}-${We.name}`}(We),Ge)}(We,Ge).catch(Je=>{Yt.warn(`Failed to write token to IndexedDB. Error: ${Je}`)}):Promise.resolve()}function Yr(){return ft().enabled}function oi(){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,He.Z)(function*(){const We=ft();if(We.enabled&&We.token)return We.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Cr={error:"UNKNOWN_ERROR"};function Pr(We){return ke.US.encodeString(JSON.stringify(We),!1)}function Vr(We){return yr.apply(this,arguments)}function yr(){return(yr=(0,He.Z)(function*(We,Ge=!1){const Je=We.app;Ct(Je);const St=st(Je);let Zt,jt=St.token;if(jt&&!B(jt)&&(St.token=void 0,jt=void 0),!jt){const ir=yield St.cachedTokenPromise;ir&&(B(ir)?jt=ir:yield Qr(Je,void 0))}if(!Ge&&jt&&B(jt))return{token:jt.token};let Un,Gn=!1;if(Yr()){St.exchangeTokenPromise||(St.exchangeTokenPromise=Pe(cn(Je,yield oi()),We.heartbeatServiceProvider).finally(()=>{St.exchangeTokenPromise=void 0}),Gn=!0);const ir=yield St.exchangeTokenPromise;return yield Qr(Je,ir),St.token=ir,{token:ir.token}}try{St.exchangeTokenPromise||(St.exchangeTokenPromise=St.provider.getToken().finally(()=>{St.exchangeTokenPromise=void 0}),Gn=!0),jt=yield st(Je).exchangeTokenPromise}catch(ir){"appCheck/throttled"===ir.code?Yt.warn(ir.message):Yt.error(ir),Zt=ir}return jt?Zt?Un=B(jt)?{token:jt.token,internalError:Zt}:de(Zt):(Un={token:jt.token},St.token=jt,yield Qr(Je,jt)):Un=de(Zt),Gn&&function G(We,Ge){const Je=st(We).tokenObservers;for(const St of Je)try{"EXTERNAL"===St.type&&null!=Ge.error?St.error(Ge.error):St.next(Ge)}catch{}}(Je,Un),Un})).apply(this,arguments)}function Wr(We){return fr.apply(this,arguments)}function fr(){return(fr=(0,He.Z)(function*(We){const Ge=We.app;Ct(Ge);const{provider:Je}=st(Ge);if(Yr()){const St=yield oi(),{token:jt}=yield Pe(cn(Ge,St),We.heartbeatServiceProvider);return{token:jt}}{const{token:St}=yield Je.getToken();return{token:St}}})).apply(this,arguments)}function Ne(We,Ge){const Je=st(We),St=Je.tokenObservers.filter(jt=>jt.next!==Ge);0===St.length&&Je.tokenRefresher&&Je.tokenRefresher.isRunning()&&Je.tokenRefresher.stop(),Je.tokenObservers=St}function X(We){const{app:Ge}=We,Je=st(Ge);let St=Je.tokenRefresher;St||(St=function V(We){const{app:Ge}=We;return new xe((0,He.Z)(function*(){let St;if(St=st(Ge).token?yield Vr(We,!0):yield Vr(We),St.error)throw St.error;if(St.internalError)throw St.internalError}),()=>!0,()=>{const Je=st(Ge);if(Je.token){let St=Je.token.issuedAtTimeMillis+.5*(Je.token.expireTimeMillis-Je.token.issuedAtTimeMillis)+3e5;return St=Math.min(St,Je.token.expireTimeMillis-3e5),Math.max(0,St-Date.now())}return 0},le.RETRIAL_MIN_WAIT,le.RETRIAL_MAX_WAIT)}(We),Je.tokenRefresher=St),!St.isRunning()&&Je.isTokenAutoRefreshEnabled&&St.start()}function B(We){return We.expireTimeMillis-Date.now()>0}function de(We){return{token:Pr(Cr),error:We}}class je{constructor(Ge,Je){this.app=Ge,this.heartbeatServiceProvider=Je}_delete(){const{tokenObservers:Ge}=st(this.app);for(const Je of Ge)Ne(this.app,Je.next);return Promise.resolve()}}const $i="app-check-internal";!function Ni(){(0,pe._registerComponent)(new Re.wA("app-check",We=>function yt(We,Ge){return new je(We,Ge)}(We.getProvider("app").getImmediate(),We.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((We,Ge,Je)=>{We.getProvider($i).initialize()})),(0,pe._registerComponent)(new Re.wA($i,We=>function $t(We){return{getToken:Ge=>Vr(We,Ge),getLimitedUseToken:()=>Wr(We),addTokenListener:Ge=>function rr(We,Ge,Je,St){const{app:jt}=We,Zt=st(jt);if(Zt.tokenObservers=[...Zt.tokenObservers,{next:Je,error:St,type:Ge}],Zt.token&&B(Zt.token)){const Un=Zt.token;Promise.resolve().then(()=>{Je({token:Un.token}),X(We)}).catch(()=>{})}Zt.cachedTokenPromise.then(()=>X(We))}(We,"INTERNAL",Ge),removeTokenListener:Ge=>Ne(We.app,Ge)}}(We.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)("@firebase/app-check","0.8.0")}();class to{constructor(){return(0,g.vb)("app-check")}}typeof window<"u"&&window},6796:(qt,Ke,k)=>{"use strict";k.d(Ke,{zQ:()=>Wt,ww:()=>In,rT:()=>Ve,f7:()=>lt,L6:()=>te,_Q:()=>dt,lh:()=>st,Qv:()=>Ee,nw:()=>ft});var g=k(5879),f=k(8645),W=k(2096),J=k(5592),Ce=k(2459),ve=k(3019),he=k(3093),Ue=k(4664),Ae=k(7398),fe=k(4552);class Q extends f.x{constructor(ht=1/0,le=1/0,ge=fe.l){super(),this._bufferSize=ht,this._windowTime=le,this._timestampProvider=ge,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=le===1/0,this._bufferSize=Math.max(1,ht),this._windowTime=Math.max(1,le)}next(ht){const{isStopped:le,_buffer:ge,_infiniteTimeWindow:xe,_timestampProvider:Be,_windowTime:Ze}=this;le||(ge.push(ht),!xe&&ge.push(Be.now()+Ze)),this._trimBuffer(),super.next(ht)}_subscribe(ht){this._throwIfClosed(),this._trimBuffer();const le=this._innerSubscribe(ht),{_infiniteTimeWindow:ge,_buffer:xe}=this,Be=xe.slice();for(let Ze=0;Ze<Be.length&&!ht.closed;Ze+=ge?1:2)ht.next(Be[Ze]);return this._checkFinalizedStatuses(ht),le}_trimBuffer(){const{_bufferSize:ht,_timestampProvider:le,_buffer:ge,_infiniteTimeWindow:xe}=this,Be=(xe?1:2)*ht;if(ht<1/0&&Be<ge.length&&ge.splice(0,ge.length-Be),!xe){const Ze=le.now();let Xe=0;for(let Bt=1;Bt<ge.length&&ge[Bt]<=Ze;Bt+=2)Xe=Bt;Xe&&ge.splice(0,Xe+1)}}}var be=k(3020);function Ie(zt,ht,le){let ge,xe=!1;return zt&&"object"==typeof zt?({bufferSize:ge=1/0,windowTime:ht=1/0,refCount:xe=!1,scheduler:le}=zt):ge=null!=zt?zt:1/0,(0,be.B)({connector:()=>new Q(ge,ht,le),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:xe})}var Me=k(1374),Le=k(4674);function rt(zt,ht){return(0,Le.m)(ht)?(0,Ue.w)(()=>zt,ht):(0,Ue.w)(()=>zt)}var Te=k(5137),we=k(2181),oe=k(8186),ot=k(6304),He=k(6814),pe=k(8697),Re=k(7142);const Ee=new g.OlP("angularfire2.auth.use-emulator"),te=new g.OlP("angularfire2.auth.settings"),dt=new g.OlP("angularfire2.auth.tenant-id"),Ve=new g.OlP("angularfire2.auth.langugage-code"),st=new g.OlP("angularfire2.auth.use-device-language"),lt=new g.OlP("angularfire.auth.persistence"),ft=(zt,ht,le,ge,xe,Be,Ze,Xe)=>(0,ot.cc)(`${zt.name}.auth`,"AngularFireAuth",zt.name,()=>{const Bt=ht.runOutsideAngular(()=>zt.auth());if(le&&Bt.useEmulator(...le),ge&&(Bt.tenantId=ge),Bt.languageCode=xe,Be&&Bt.useDeviceLanguage(),Ze)for(const[Ct,at]of Object.entries(Ze))Bt.settings[Ct]=at;return Xe&&Bt.setPersistence(Xe),Bt},[le,ge,xe,Be,Ze,Xe]);let Wt=(()=>{class zt{constructor(le,ge,xe,Be,Ze,Xe,Bt,Ct,at,gt,Pe,Et){const _t=new f.x,Ut=(0,W.of)(void 0).pipe((0,he.Q)(Ze.outsideAngular),(0,Ue.w)(()=>Be.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6365)))),(0,Ae.U)(()=>(0,ot.on)(le,Be,ge)),(0,Ae.U)(cn=>ft(cn,Be,Xe,Ct,at,gt,Bt,Pe)),Ie({bufferSize:1,refCount:!1}));if((0,He.PM)(xe))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{Ut.pipe((0,Me.P)()).subscribe();const an=Ut.pipe((0,Ue.w)(bn=>bn.getRedirectResult().then(_n=>_n,()=>null)),oe.iC,Ie({bufferSize:1,refCount:!1})),mn=Ut.pipe((0,Ue.w)(bn=>new J.y(_n=>({unsubscribe:Be.runOutsideAngular(()=>bn.onAuthStateChanged(Rn=>_n.next(Rn),Rn=>_n.error(Rn),()=>_n.complete()))})))),Nn=Ut.pipe((0,Ue.w)(bn=>new J.y(_n=>({unsubscribe:Be.runOutsideAngular(()=>bn.onIdTokenChanged(Rn=>_n.next(Rn),Rn=>_n.error(Rn),()=>_n.complete()))}))));this.authState=an.pipe(rt(mn),(0,Te.R)(Ze.outsideAngular),(0,he.Q)(Ze.insideAngular)),this.user=an.pipe(rt(Nn),(0,Te.R)(Ze.outsideAngular),(0,he.Q)(Ze.insideAngular)),this.idToken=this.user.pipe((0,Ue.w)(bn=>bn?(0,Ce.D)(bn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,Ue.w)(bn=>bn?(0,Ce.D)(bn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,ve.T)(an,_t,this.authState.pipe((0,we.h)(bn=>!bn))).pipe((0,Ae.U)(bn=>null!=bn&&bn.user?bn:null),(0,Te.R)(Ze.outsideAngular),(0,he.Q)(Ze.insideAngular))}return(0,ot.pX)(this,Ut,Be,{spy:{apply:(cn,an,mn)=>{(cn.startsWith("signIn")||cn.startsWith("createUser"))&&mn.then(Nn=>_t.next(Nn))}}})}}return zt.\u0275fac=function(le){return new(le||zt)(g.LFG(ot.Dh),g.LFG(ot.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(oe.HU),g.LFG(Ee,8),g.LFG(te,8),g.LFG(dt,8),g.LFG(Ve,8),g.LFG(st,8),g.LFG(lt,8),g.LFG(pe.nm,8))},zt.\u0275prov=g.Yz7({token:zt,factory:zt.\u0275fac,providedIn:"any"}),zt})(),In=(()=>{class zt{constructor(){Re.Z.registerVersion("angularfire",oe.q4.full,"auth-compat")}}return zt.\u0275fac=function(le){return new(le||zt)},zt.\u0275mod=g.oAB({type:zt}),zt.\u0275inj=g.cJS({providers:[Wt]}),zt})()},8330:(qt,Ke,k)=>{"use strict";k.d(Ke,{ST:()=>Sm,yb:()=>Jy});var g=k(5879),f=k(6321),W=k(5592),J=k(2459),Ce=k(2096),ve=k(8186),he=k(7921),Ue=k(9360),Ae=k(8251);function fe(){return(0,Ue.e)((i,e)=>{let t,o=!1;i.subscribe((0,Ae.x)(e,l=>{const u=t;t=l,o&&e.next([u,l]),o=!0}))})}var te,Q=k(7398),be=k(6699),Ie=k(3997),Me=k(2181),Le=k(6304),rt=k(6814),we=(k(6365),k(3106)),oe=k(5861),ot=k(534),He=k(4537),pe=k(7879),Re=k(9058),ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ee={},dt=dt||{},Ve=ke||self;function st(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function lt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Wt="closure_uid_"+(1e9*Math.random()>>>0),In=0;function zt(i,e,t){return i.call.apply(i.bind,arguments)}function ht(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function le(i,e,t){return(le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zt:ht).apply(null,arguments)}function ge(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function xe(i,e){function t(){}t.prototype=e.prototype,i.$=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.ac=function(o,l,u){for(var m=Array(arguments.length-2),M=2;M<arguments.length;M++)m[M-2]=arguments[M];return e.prototype[l].apply(o,m)}}function Be(){this.s=this.s,this.o=this.o}Be.prototype.s=!1,Be.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ft(i){Object.prototype.hasOwnProperty.call(i,Wt)&&i[Wt]||(i[Wt]=++In)}(this)},Be.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Bt(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Ct(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(st(o)){const l=i.length||0,u=o.length||0;i.length=l+u;for(let m=0;m<u;m++)i[l+m]=o[m]}else i.push(o)}}function at(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!Ve.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ve.addEventListener("test",()=>{},e),Ve.removeEventListener("test",()=>{},e)}catch{}return i}();function Pe(i){return/^[\s\xa0]*$/.test(i)}function Et(){var i=Ve.navigator;return i&&(i=i.userAgent)?i:""}function _t(i){return-1!=Et().indexOf(i)}function Ut(i){return Ut[" "](i),i}Ut[" "]=function(){};var sr,i,an=_t("Opera"),mn=_t("Trident")||_t("MSIE"),Nn=_t("Edge"),bn=Nn||mn,_n=_t("Gecko")&&!(-1!=Et().toLowerCase().indexOf("webkit")&&!_t("Edge"))&&!(_t("Trident")||_t("MSIE"))&&!_t("Edge"),Rn=-1!=Et().toLowerCase().indexOf("webkit")&&!_t("Edge");function br(){var i=Ve.document;return i?i.documentMode:void 0}e:{var vr="",Jt=(i=Et(),_n?/rv:([^\);]+)(\)|;)/.exec(i):Nn?/Edge\/([\d\.]+)/.exec(i):mn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Rn?/WebKit\/(\S+)/.exec(i):an?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Jt&&(vr=Jt?Jt[1]:""),mn){var Mn=br();if(null!=Mn&&Mn>parseFloat(vr)){sr=String(Mn);break e}}sr=vr}var Fr=Ve.document&&mn&&(br()||parseInt(sr,10))||void 0;function ar(i,e){if(at.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(_n){e:{try{Ut(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Yt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ar.$.h.call(this)}}xe(ar,at);var Yt={2:"touch",3:"pen",4:"mouse"};ar.prototype.h=function(){ar.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Lr="closure_listenable_"+(1e6*Math.random()|0),xt=0;function Qr(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.la=l,this.key=++xt,this.fa=this.ia=!1}function $n(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Er(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function oi(i){const e={};for(const t in i)e[t]=i[t];return e}const Mr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xr(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let u=0;u<Mr.length;u++)t=Mr[u],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Cr(i){this.src=i,this.g={},this.h=0}function Pr(i,e){var t=e.type;if(t in i.g){var u,o=i.g[t],l=Xe(o,e);(u=0<=l)&&Array.prototype.splice.call(o,l,1),u&&($n(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Vr(i,e,t,o){for(var l=0;l<i.length;++l){var u=i[l];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==o)return l}return-1}Cr.prototype.add=function(i,e,t,o,l){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var m=Vr(i,e,o,l);return-1<m?(e=i[m],t||(e.ia=!1)):((e=new Qr(e,this.src,u,!!o,l)).ia=t,i.push(e)),e};var yr="closure_lm_"+(1e6*Math.random()|0),Wr={};function fr(i,e,t,o,l){if(o&&o.once)return X(i,e,t,o,l);if(Array.isArray(e)){for(var u=0;u<e.length;u++)fr(i,e[u],t,o,l);return null}return t=$t(t),i&&i[Lr]?i.O(e,t,lt(o)?!!o.capture:!!o,l):rr(i,e,t,!1,o,l)}function rr(i,e,t,o,l,u){if(!e)throw Error("Invalid event type");var m=lt(l)?!!l.capture:!!l,M=je(i);if(M||(i[yr]=M=new Cr(i)),(t=M.add(e,t,o,m,u)).proxy)return t;if(o=function Ne(){const e=de;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)gt||(l=m),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(B(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function X(i,e,t,o,l){if(Array.isArray(e)){for(var u=0;u<e.length;u++)X(i,e[u],t,o,l);return null}return t=$t(t),i&&i[Lr]?i.P(e,t,lt(o)?!!o.capture:!!o,l):rr(i,e,t,!0,o,l)}function V(i,e,t,o,l){if(Array.isArray(e))for(var u=0;u<e.length;u++)V(i,e[u],t,o,l);else o=lt(o)?!!o.capture:!!o,t=$t(t),i&&i[Lr]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Vr(u=i.g[e],t,o,l))&&($n(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete i.g[e],i.h--))):i&&(i=je(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Vr(e,t,o,l)),(t=-1<i?e[i]:null)&&G(t))}function G(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Lr])Pr(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(B(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=je(e))?(Pr(t,i),0==t.h&&(t.src=null,e[yr]=null)):$n(i)}}}function B(i){return i in Wr?Wr[i]:Wr[i]="on"+i}function de(i,e){if(i.fa)i=!0;else{e=new ar(e,this);var t=i.listener,o=i.la||i.src;i.ia&&G(i),i=t.call(o,e)}return i}function je(i){return(i=i[yr])instanceof Cr?i:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function $t(i){return"function"==typeof i?i:(i[yt]||(i[yt]=function(e){return i.handleEvent(e)}),i[yt])}function Vt(){Be.call(this),this.i=new Cr(this),this.S=this,this.J=null}function Gt(i,e){var t,o=i.J;if(o)for(t=[];o;o=o.J)t.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new at(e,i);else if(e instanceof at)e.target=e.target||i;else{var l=e;xr(e=new at(o,i),l)}if(l=!0,t)for(var u=t.length-1;0<=u;u--){var m=e.g=t[u];l=dn(m,o,!0,e)&&l}if(l=dn(m=e.g=i,o,!0,e)&&l,l=dn(m,o,!1,e)&&l,t)for(u=0;u<t.length;u++)l=dn(m=e.g=t[u],o,!1,e)&&l}function dn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,u=0;u<e.length;++u){var m=e[u];if(m&&!m.fa&&m.capture==t){var M=m.listener,$=m.la||m.src;m.ia&&Pr(i.i,m),l=!1!==M.call($,o)&&l}}return l&&!o.defaultPrevented}xe(Vt,Be),Vt.prototype[Lr]=!0,Vt.prototype.removeEventListener=function(i,e,t,o){V(this,i,e,t,o)},Vt.prototype.N=function(){if(Vt.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)$n(t[o]);delete i.g[e],i.h--}}this.J=null},Vt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Vt.prototype.P=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Jn=Ve.JSON.stringify;function Ur(){var i=Xn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var pt=new class xn{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new it,i=>i.reset());class it{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Lt(i){var e=1;i=i.split(":");const t=[];for(;0<e&&i.length;)t.push(i.shift()),e--;return i.length&&t.push(i.join(":")),t}function hn(i){Ve.setTimeout(()=>{throw i},0)}let fn,en=!1,Xn=new class qr{constructor(){this.h=this.g=null}add(e,t){const o=pt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}},Nr=()=>{const i=Ve.Promise.resolve(void 0);fn=()=>{i.then(Tr)}};var Tr=()=>{for(var i;i=Ur();){try{i.h.call(i.g)}catch(t){hn(t)}var e=pt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}en=!1};function mr(i,e){Vt.call(this),this.h=i||1,this.g=e||Ve,this.j=le(this.qb,this),this.l=Date.now()}function er(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Qn(i,e,t){if("function"==typeof i)t&&(i=le(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=le(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ve.setTimeout(i,e||0)}function yo(i){i.g=Qn(()=>{i.g=null,i.i&&(i.i=!1,yo(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}xe(mr,Vt),(te=mr.prototype).ga=!1,te.T=null,te.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(er(this),this.start()))}},te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},te.N=function(){mr.$.N.call(this),er(this),delete this.g};class lo extends Be{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(Ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(i){Be.call(this),this.h=i,this.g={}}xe(si,Be);var Bi=[];function Hi(i,e,t,o){Array.isArray(t)||(t&&(Bi[0]=t.toString()),t=Bi);for(var l=0;l<t.length;l++){var u=fr(e,t[l],o||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function Kr(i){Er(i.g,function(e,t){this.g.hasOwnProperty(t)&&G(e)},i),i.g={}}function _r(){this.g=!0}function mi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function to(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var u=l[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var m=1;m<l.length;m++)l[m]=""}}}return Jn(t)}catch{return e}}(i,t)+(o?" "+o:"")})}si.prototype.N=function(){si.$.N.call(this),Kr(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_r.prototype.Ea=function(){this.g=!1},_r.prototype.info=function(){};var Z={},me=null;function ie(){return me=me||new Vt}function Se(i){at.call(this,Z.Ta,i)}function Ye(i){const e=ie();Gt(e,new Se(e))}function Qe(i,e){at.call(this,Z.STAT_EVENT,i),this.stat=e}function vt(i){const e=ie();Gt(e,new Qe(e,i))}function Mt(i,e){at.call(this,Z.Ua,i),this.size=e}function Ft(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ve.setTimeout(function(){i()},e)}Z.Ta="serverreachability",xe(Se,at),Z.STAT_EVENT="statevent",xe(Qe,at),Z.Ua="timingevent",xe(Mt,at);var Rt={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dn(){}function Dr(){}Dn.prototype.h=null;var Je,Ai={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function We(){at.call(this,"d")}function Ge(){at.call(this,"c")}function St(){}function jt(i,e,t,o){this.l=i,this.j=e,this.m=t,this.W=o||1,this.U=new si(this),this.P=Gn,this.V=new mr(i=bn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zt}function Zt(){this.i=null,this.g="",this.h=!1}xe(We,at),xe(Ge,at),xe(St,Dn),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},Je=new St;var Gn=45e3,Un={},ir={};function di(i,e,t){i.L=1,i.v=qi(Pn(e)),i.s=t,i.S=!0,Io(i,null)}function Io(i,e){i.G=Date.now(),zo(i),i.A=Pn(i.v);var t=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),ei(t.i,"t",o),i.C=0,t=i.l.J,i.h=new Zt,i.g=ol(i.l,t?e:null,!i.s),0<i.O&&(i.M=new lo(le(i.Pa,i,i.g),i.O)),Hi(i.U,i.g,"readystatechange",i.nb),e=i.I?oi(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Ye(),function $i(i,e,t,o,l,u){i.info(function(){if(i.g)if(u)for(var m="",M=u.split("&"),$=0;$<M.length;$++){var z=M[$].split("=");if(1<z.length){var re=z[0];z=z[1];var Fe=re.split("_");m=2<=Fe.length&&"type"==Fe[1]?m+(re+"=")+z+"&":m+(re+"=redacted&")}}else m=null;else m=u;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.W,i.s)}function vi(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Mi(i,e,t){let l,o=!0;for(;!i.J&&i.C<t.length;){if(l=Jo(i,t),l==ir){4==e&&(i.o=4,vt(14),o=!1),mi(i.j,i.m,null,"[Incomplete Response]");break}if(l==Un){i.o=4,vt(15),mi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}mi(i.j,i.m,l,null),Ti(i,l)}vi(i)&&l!=ir&&l!=Un&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,vt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Aa(e),e.M=!0,vt(11))):(mi(i.j,i.m,t,"[Invalid Chunked Response]"),ur(i),Wn(i))}function Jo(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?ir:(t=Number(e.substring(t,o)),isNaN(t)?Un:(o+=1)+t>e.length?ir:(e=e.slice(o,o+t),i.C=o+t,e))}function zo(i){i.Y=Date.now()+i.P,cr(i,i.P)}function cr(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ft(le(i.lb,i),e)}function rn(i){i.B&&(Ve.clearTimeout(i.B),i.B=null)}function Wn(i){0==i.l.H||i.J||ga(i.l,i)}function ur(i){rn(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,er(i.V),Kr(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Ti(i,e){try{var t=i.l;if(0!=t.H&&(t.g==i||wo(t.i,i)))if(!i.K&&wo(t.i,i)&&3==t.H){try{var o=t.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<i.G))break e;Ma(t),es(t)}Os(t),vt(18)}}else t.Fa=l[1],0<t.Fa-t.V&&37500>l[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ft(le(t.ib,t),6e3));if(1>=_i(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else $o(t,11)}else if((i.K||t.g==i)&&Ma(t),!Pe(e))for(l=t.Ja.g.parse(e),e=0;e<l.length;e++){let z=l[e];if(t.V=z[0],z=z[1],2==t.H)if("c"==z[0]){t.K=z[1],t.pa=z[2];const re=z[3];null!=re&&(t.ra=re,t.l.info("VER="+t.ra));const Fe=z[4];null!=Fe&&(t.Ga=Fe,t.l.info("SVER="+t.Ga));const mt=z[5];null!=mt&&"number"==typeof mt&&0<mt&&(t.L=o=1.5*mt,t.l.info("backChannelRequestTimeoutMs_="+o)),o=t;const Nt=i.g;if(Nt){const nn=Nt.g?Nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nn){var u=o.i;u.g||-1==nn.indexOf("spdy")&&-1==nn.indexOf("quic")&&-1==nn.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(xi(u,u.h),u.h=null))}if(o.F){const An=Nt.g?Nt.g.getResponseHeader("X-HTTP-Session-Id"):null;An&&(o.Da=An,Zn(o.I,o.F,An))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-i.G,t.l.info("Handshake RTT: "+t.S+"ms"));var m=i;if((o=t).wa=Ns(o,o.J?o.pa:null,o.Y),m.K){bo(o.i,m);var M=m,$=o.L;$&&M.setTimeout($),M.B&&(rn(M),zo(M)),o.g=m}else za(o);0<t.j.length&&pa(t)}else"stop"!=z[0]&&"close"!=z[0]||$o(t,7);else 3==t.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?$o(t,7):oo(t):"noop"!=z[0]&&t.h&&t.h.Aa(z),t.A=0)}Ye()}catch{}}function rs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(st(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Jr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(st(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function Go(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(st(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length,u=0;u<l;u++)e.call(void 0,o[u],t&&t[u],i)}(te=jt.prototype).setTimeout=function(i){this.P=i},te.nb=function(i){i=i.target;const e=this.M;e&&3==tn(i)?e.l():this.Pa(i)},te.Pa=function(i){try{if(i==this.g)e:{const re=tn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>re)&&(3!=re||bn||this.g&&(this.h.h||this.g.ja()||Bn(this.g)))){this.J||4!=re||7==e||Ye(),rn(this);var t=this.g.da();this.ca=t;t:if(vi(this)){var o=Bn(this.g);i="";var l=o.length,u=4==tn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ur(this),Wn(this);var m="";break t}this.h.i=new Ve.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:u&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ja();if(this.i=200==t,function Ni(i,e,t,o,l,u,m){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+u+" "+m})}(this.j,this.u,this.A,this.m,this.W,re,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var M,$=this.g;if((M=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pe(M)){var z=M;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,vt(12),ur(this),Wn(this);break e}mi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ti(this,t)}this.S?(Mi(this,re,m),bn&&this.i&&3==re&&(Hi(this.U,this.V,"tick",this.mb),this.V.start())):(mi(this.j,this.m,m,null),Ti(this,m)),4==re&&ur(this),this.i&&!this.J&&(4==re?ga(this.l,this):(this.i=!1,zo(this)))}else(function lr(i){const e={};i=(i.g&&2<=tn(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(Pe(i[o]))continue;var t=Lt(i[o]);const l=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[l]||[];e[l]=u,u.push(t)}!function Yr(i,e){for(const t in i)e.call(void 0,i[t],t,i)}(e,function(o){return o.join(", ")})})(this.g),400==t&&0<m.indexOf("Unknown SID")?(this.o=3,vt(12)):(this.o=0,vt(13)),ur(this),Wn(this)}}}catch{}},te.mb=function(){if(this.g){var i=tn(this.g),e=this.g.ja();this.C<e.length&&(rn(this),Mi(this,i,e),this.i&&4!=i&&zo(this))}},te.cancel=function(){this.J=!0,ur(this)},te.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function _o(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ye(),vt(17)),ur(this),this.o=2,Wn(this)):cr(this,this.Y-i)};var ri=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ii(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof ii){this.h=i.h,Po(this,i.j),this.s=i.s,this.g=i.g,No(this,i.m),this.l=i.l;var e=i.i,t=new Vn;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),us(this,t),this.o=i.o}else i&&(e=String(i).match(ri))?(this.h=!1,Po(this,e[1]||"",!0),this.s=no(e[2]||""),this.g=no(e[3]||"",!0),No(this,e[4]),this.l=no(e[5]||"",!0),us(this,e[6]||"",!0),this.o=no(e[7]||"")):(this.h=!1,this.i=new Vn(null,this.h))}function Pn(i){return new ii(i)}function Po(i,e,t){i.j=t?no(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function No(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function us(i,e,t){e instanceof Vn?(i.i=e,function Fo(i,e){e&&!i.j&&(ho(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(fo(this,o),ei(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=yi(e,uo)),i.i=new Vn(e,i.h))}function Zn(i,e,t){i.i.set(e,t)}function qi(i){return Zn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function no(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function yi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,ds),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ds(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ii.prototype.toString=function(){var i=[],e=this.j;e&&i.push(yi(e,Us,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(yi(e,Us,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(yi(t,"/"==t.charAt(0)?zi:Eo,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",yi(t,is)),i.join("")};var Us=/[#\/\?@]/g,Eo=/[#\?:]/g,zi=/[#\?]/g,uo=/[#\?@]/g,is=/#/g;function Vn(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ho(i){i.g||(i.g=new Map,i.h=0,i.i&&function co(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var u=i[t].substring(0,o);l=i[t].substring(o+1)}else u=i[t];e(u,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fo(i,e){ho(i),e=ro(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ko(i,e){return ho(i),e=ro(i,e),i.g.has(e)}function ei(i,e,t){fo(i,e),0<t.length&&(i.i=null,i.g.set(ro(i,e),Bt(t)),i.h+=t.length)}function ro(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function fi(i){this.l=i||js,i=Ve.PerformanceNavigationTiming?0<(i=Ve.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ve.g&&Ve.g.Ka&&Ve.g.Ka()&&Ve.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(te=Vn.prototype).add=function(i,e){ho(this),this.i=null,i=ro(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},te.forEach=function(i,e){ho(this),this.g.forEach(function(t,o){t.forEach(function(l){i.call(e,l,o,this)},this)},this)},te.ta=function(){ho(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const l=i[o];for(let u=0;u<l.length;u++)t.push(e[o])}return t},te.Z=function(i){ho(this);let e=[];if("string"==typeof i)ko(this,i)&&(e=e.concat(this.g.get(ro(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},te.set=function(i,e){return ho(this),this.i=null,ko(this,i=ro(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},te.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const u=encodeURIComponent(String(o)),m=this.Z(o);for(o=0;o<m.length;o++){var l=u;""!==m[o]&&(l+="="+encodeURIComponent(String(m[o]))),i.push(l)}}return this.i=i.join("&")};var js=10;function pi(i){return!!i.h||!!i.g&&i.g.size>=i.j}function _i(i){return i.h?1:i.g?i.g.size:0}function wo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function xi(i,e){i.g?i.g.add(e):i.h=e}function bo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Si(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.F);return e}return Bt(i.i)}fi.prototype.cancel=function(){if(this.i=Si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Es=class{stringify(i){return Ve.JSON.stringify(i,void 0)}parse(i){return Ve.JSON.parse(i,void 0)}};function Js(){this.g=new Es}function Hs(i,e,t){const o=t||"";try{rs(i,function(l,u){let m=l;lt(l)&&(m=Jn(l)),e.push(o+u+"="+encodeURIComponent(m))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function hs(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch{}}function fs(i){this.l=i.fc||null,this.j=i.ob||!1}function ea(i,e){Vt.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=ha,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xe(fs,Dn),fs.prototype.g=function(){return new ea(this.l,this.j)},fs.prototype.i=function(i){return function(){return i}}({}),xe(ea,Vt);var ha=0;function fa(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function $r(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Lo(i)}function Lo(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(te=ea.prototype).open=function(i,e){if(this.readyState!=ha)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Lo(this)},te.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$r(this)),this.readyState=ha},te.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Lo(this)),this.g&&(this.readyState=3,Lo(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ve.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fa(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},te.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?$r(this):Lo(this),3==this.readyState&&fa(this)}},te.Za=function(i){this.g&&(this.response=this.responseText=i,$r(this))},te.Ya=function(i){this.g&&(this.response=i,$r(this))},te.ka=function(){this.g&&$r(this)},te.setRequestHeader=function(i,e){this.v.append(i,e)},te.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},te.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(ea.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var il=Ve.JSON.parse;function U(i){Vt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P,this.L=this.M=!1}xe(U,Vt);var P="",se=/^https?$/i,d=["POST","PUT"];function _(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,N(i),It(i)}function N(i){i.F||(i.F=!0,Gt(i,"complete"),Gt(i,"error"))}function ne(i){if(i.h&&typeof dt<"u"&&(!i.C[1]||4!=tn(i)||2!=i.da()))if(i.v&&4==tn(i))Qn(i.La,0,i);else if(Gt(i,"readystatechange"),4==tn(i)){i.h=!1;try{const m=i.da();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===m){var l=String(i.I).match(ri)[1]||null;!l&&Ve.self&&Ve.self.location&&(l=Ve.self.location.protocol.slice(0,-1)),o=!se.test(l?l.toLowerCase():"")}t=o}if(t)Gt(i,"complete"),Gt(i,"success");else{i.m=6;try{var u=2<tn(i)?i.g.statusText:""}catch{u=""}i.j=u+" ["+i.da()+"]",N(i)}}finally{It(i)}}}function It(i,e){if(i.g){on(i);const t=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Gt(i,"ready");try{t.onreadystatechange=o}catch{}}}function on(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Ve.clearTimeout(i.A),i.A=null)}function tn(i){return i.g?i.g.readyState:0}function Bn(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case P:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function gi(i){let e="";return Er(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function io(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=gi(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Zn(i,e,t))}function Gi(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Bo(i){this.Ga=0,this.j=[],this.l=new _r,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gi("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gi("baseRetryDelayMs",5e3,i),this.hb=Gi("retryDelaySeedMs",1e4,i),this.eb=Gi("forwardChannelMaxRetries",2,i),this.xa=Gi("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new fi(i&&i.concurrentRequestLimit),this.Ja=new Js,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function oo(i){if(ta(i),3==i.H){var e=i.W++,t=Pn(i.I);if(Zn(t,"SID",i.K),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),ki(i,t),(e=new jt(i,i.l,e)).L=2,e.v=qi(Pn(t)),t=!1,Ve.navigator&&Ve.navigator.sendBeacon)try{t=Ve.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ve.Image&&((new Image).src=e.v,t=!0),t||(e.g=ol(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zo(e)}Ga(i)}function es(i){i.g&&(Aa(i),i.g.cancel(),i.g=null)}function ta(i){es(i),i.u&&(Ve.clearTimeout(i.u),i.u=null),Ma(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ve.clearTimeout(i.m),i.m=null)}function pa(i){if(!pi(i.i)&&!i.m){i.m=!0;var e=i.Na;fn||Nr(),en||(fn(),en=!0),Xn.add(e,i),i.C=0}}function na(i,e){var t;t=e?e.m:i.W++;const o=Pn(i.I);Zn(o,"SID",i.K),Zn(o,"RID",t),Zn(o,"AID",i.V),ki(i,o),i.o&&i.s&&io(o,i.o,i.s),t=new jt(i,i.l,t,i.C+1),null===i.o&&(t.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Vi(i,t,1e3),t.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),xi(i.i,t),di(t,o,e)}function ki(i,e){i.na&&Er(i.na,function(t,o){Zn(e,o,t)}),i.h&&rs({},function(t,o){Zn(e,o,t)})}function Vi(i,e,t){t=Math.min(i.j.length,t);var o=i.h?le(i.h.Va,i.h,i):null;e:{var l=i.j;let u=-1;for(;;){const m=["count="+t];-1==u?0<t?(u=l[0].g,m.push("ofs="+u)):u=0:m.push("ofs="+u);let M=!0;for(let $=0;$<t;$++){let z=l[$].g;const re=l[$].map;if(z-=u,0>z)u=Math.max(0,l[$].g-100),M=!1;else try{Hs(re,m,"req"+z+"_")}catch{o&&o(re)}}if(M){o=m.join("&");break e}}}return i=i.j.splice(0,t),e.F=i,o}function za(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;fn||Nr(),en||(fn(),en=!0),Xn.add(e,i),i.A=0}}function Os(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Ft(le(i.Ma,i),xa(i,i.A)),i.A++,0))}function Aa(i){null!=i.B&&(Ve.clearTimeout(i.B),i.B=null)}function Ps(i){i.g=new jt(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Pn(i.wa);Zn(e,"RID","rpc"),Zn(e,"SID",i.K),Zn(e,"AID",i.V),Zn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Zn(e,"TO",i.qa),Zn(e,"TYPE","xmlhttp"),ki(i,e),i.o&&i.s&&io(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var t=i.g;i=i.pa,t.L=1,t.v=qi(Pn(e)),t.s=null,t.S=!0,Io(t,i)}function Ma(i){null!=i.v&&(Ve.clearTimeout(i.v),i.v=null)}function ga(i,e){var t=null;if(i.g==e){Ma(i),Aa(i),i.g=null;var o=2}else{if(!wo(i.i,e))return;t=e.F,bo(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.G;var l=i.C;Gt(o=ie(),new Mt(o,t)),pa(i)}else za(i);else if(3==(l=e.o)||0==l&&0<e.ca||!(1==o&&function Co(i,e){return!(_i(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Ft(le(i.Na,i,e),xa(i,i.C)),i.C++,0)))}(i,e)||2==o&&Os(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:$o(i,5);break;case 4:$o(i,10);break;case 3:$o(i,6);break;default:$o(i,2)}}function xa(i,e){let t=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(t*=2),t*e}function $o(i,e){if(i.l.info("Error code "+e),2==e){var t=null;i.h&&(t=null);var o=le(i.pb,i);t||(t=new ii("//www.google.com/images/cleardot.gif"),Ve.location&&"http"==Ve.location.protocol||Po(t,"https"),qi(t)),function da(i,e){const t=new _r;if(Ve.Image){const o=new Image;o.onload=ge(hs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=ge(hs,t,o,"TestLoadImage: error",!1,e),o.onabort=ge(hs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=ge(hs,t,o,"TestLoadImage: timeout",!1,e),Ve.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else vt(2);i.H=0,i.h&&i.h.za(e),Ga(i),ta(i)}function Ga(i){if(i.H=0,i.ma=[],i.h){const e=Si(i.i);(0!=e.length||0!=i.j.length)&&(Ct(i.ma,e),Ct(i.ma,i.j),i.i.i.length=0,Bt(i.j),i.j.length=0),i.h.ya()}}function Ns(i,e,t){var o=t instanceof ii?Pn(t):new ii(t);if(""!=o.g)e&&(o.g=e+"."+o.g),No(o,o.m);else{var l=Ve.location;o=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var u=new ii(null);o&&Po(u,o),e&&(u.g=e),l&&No(u,l),t&&(u.l=t),o=u}return e=i.Da,(t=i.F)&&e&&Zn(o,t,e),Zn(o,"VER",i.ra),ki(i,o),o}function ol(i,e,t){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new U(t&&i.Ha&&!i.va?new fs({ob:!0}):i.va)).Oa(i.J),e}function sl(){}function Ra(){if(mn&&!(10<=Number(Fr)))throw Error("Environmental error: no available transport.")}function Wo(i,e){Vt.call(this),this.g=new Bo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Pe(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pe(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new zs(this)}function ma(i){We.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Wa(){Ge.call(this),this.status=1}function zs(i){this.g=i}function po(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function os(i,e,t){t||(t=0);var o=Array(16);if("string"==typeof e)for(var l=0;16>l;++l)o[l]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(l=0;16>l;++l)o[l]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=i.g[3],m=(e=i.g[0])+(u^(t=i.g[1])&((l=i.g[2])^u))+o[0]+3614090360&4294967295;m=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=(t=(l=(u=(e=t+(m<<7&4294967295|m>>>25))+((m=u+(l^e&(t^l))+o[1]+3905402710&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^u&(e^t))+o[2]+606105819&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(u^e))+o[3]+3250441966&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^t&(l^u))+o[4]+4118548399&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(t^l))+o[5]+1200080426&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^u&(e^t))+o[6]+2821735955&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(u^e))+o[7]+4249261313&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^t&(l^u))+o[8]+1770035416&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(t^l))+o[9]+2336552879&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^u&(e^t))+o[10]+4294925233&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(u^e))+o[11]+2304563134&4294967295)<<22&4294967295|m>>>10))+((m=e+(u^t&(l^u))+o[12]+1804603682&4294967295)<<7&4294967295|m>>>25))+((m=u+(l^e&(t^l))+o[13]+4254626195&4294967295)<<12&4294967295|m>>>20))+((m=l+(t^u&(e^t))+o[14]+2792965006&4294967295)<<17&4294967295|m>>>15))+((m=t+(e^l&(u^e))+o[15]+1236535329&4294967295)<<22&4294967295|m>>>10))+((m=e+(l^u&(t^l))+o[1]+4129170786&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^l&(e^t))+o[6]+3225465664&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(u^e))+o[11]+643717713&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(l^u))+o[0]+3921069994&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(t^l))+o[5]+3593408605&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^l&(e^t))+o[10]+38016083&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(u^e))+o[15]+3634488961&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(l^u))+o[4]+3889429448&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(t^l))+o[9]+568446438&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^l&(e^t))+o[14]+3275163606&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(u^e))+o[3]+4107603335&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(l^u))+o[8]+1163531501&4294967295)<<20&4294967295|m>>>12))+((m=e+(l^u&(t^l))+o[13]+2850285829&4294967295)<<5&4294967295|m>>>27))+((m=u+(t^l&(e^t))+o[2]+4243563512&4294967295)<<9&4294967295|m>>>23))+((m=l+(e^t&(u^e))+o[7]+1735328473&4294967295)<<14&4294967295|m>>>18))+((m=t+(u^e&(l^u))+o[12]+2368359562&4294967295)<<20&4294967295|m>>>12))+((m=e+(t^l^u)+o[5]+4294588738&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^l)+o[8]+2272392833&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^t)+o[11]+1839030562&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^u^e)+o[14]+4259657740&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^l^u)+o[1]+2763975236&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^l)+o[4]+1272893353&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^t)+o[7]+4139469664&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^u^e)+o[10]+3200236656&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^l^u)+o[13]+681279174&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^l)+o[0]+3936430074&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^t)+o[3]+3572445317&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^u^e)+o[6]+76029189&4294967295)<<23&4294967295|m>>>9))+((m=e+(t^l^u)+o[9]+3654602809&4294967295)<<4&4294967295|m>>>28))+((m=u+(e^t^l)+o[12]+3873151461&4294967295)<<11&4294967295|m>>>21))+((m=l+(u^e^t)+o[15]+530742520&4294967295)<<16&4294967295|m>>>16))+((m=t+(l^u^e)+o[2]+3299628645&4294967295)<<23&4294967295|m>>>9))+((m=e+(l^(t|~u))+o[0]+4096336452&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~l))+o[7]+1126891415&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~t))+o[14]+2878612391&4294967295)<<15&4294967295|m>>>17))+((m=t+(u^(l|~e))+o[5]+4237533241&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(t|~u))+o[12]+1700485571&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~l))+o[3]+2399980690&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~t))+o[10]+4293915773&4294967295)<<15&4294967295|m>>>17))+((m=t+(u^(l|~e))+o[1]+2240044497&4294967295)<<21&4294967295|m>>>11))+((m=e+(l^(t|~u))+o[8]+1873313359&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~l))+o[15]+4264355552&4294967295)<<10&4294967295|m>>>22))+((m=l+(e^(u|~t))+o[6]+2734768916&4294967295)<<15&4294967295|m>>>17))+((m=t+(u^(l|~e))+o[13]+1309151649&4294967295)<<21&4294967295|m>>>11))+((u=(e=t+((m=e+(l^(t|~u))+o[4]+4149444226&4294967295)<<6&4294967295|m>>>26))+((m=u+(t^(e|~l))+o[11]+3174756917&4294967295)<<10&4294967295|m>>>22))^((l=u+((m=l+(e^(u|~t))+o[2]+718787259&4294967295)<<15&4294967295|m>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(l+(m<<21&4294967295|m>>>11))&4294967295,i.g[2]=i.g[2]+l&4294967295,i.g[3]=i.g[3]+u&4294967295}function b(i,e){this.h=e;for(var t=[],o=!0,l=i.length-1;0<=l;l--){var u=0|i[l];o&&u==e||(t[l]=u,o=!1)}this.g=t}(te=U.prototype).Oa=function(i){this.M=i},te.ha=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Je.g(),this.C=function Kn(i){return i.h||(i.h=i.i())}(this.u?this.u:Je),this.g.onreadystatechange=le(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(u){return void _(this,u)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var l in o)t.set(l,o[l]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const u of o.keys())t.set(u,o.get(u))}o=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),l=Ve.FormData&&i instanceof Ve.FormData,!(0<=Xe(d,e))||o||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,m]of t)this.g.setRequestHeader(u,m);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{on(this),0<this.B&&((this.L=function C(i){return mn&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=le(this.ua,this)):this.A=Qn(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){_(this,u)}},te.ua=function(){typeof dt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},te.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Gt(this,"complete"),Gt(this,"abort"),It(this))},te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),It(this,!0)),U.$.N.call(this)},te.La=function(){this.s||(this.G||this.v||this.l?ne(this):this.kb())},te.kb=function(){ne(this)},te.isActive=function(){return!!this.g},te.da=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},te.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),il(e)}},te.Ia=function(){return this.m},te.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(te=Bo.prototype).ra=8,te.H=1,te.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const l=new jt(this,this.l,i);let u=this.s;if(this.U&&(u?(u=oi(u),xr(u,this.U)):u=this.U),null!==this.o||this.O||(l.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var o=this.j[t];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Vi(this,l,e),Zn(t=Pn(this.I),"RID",i),Zn(t,"CVER",22),this.F&&Zn(t,"X-HTTP-Session-Id",this.F),ki(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(gi(u)))+"&"+e:this.o&&io(t,this.o,u)),xi(this.i,l),this.bb&&Zn(t,"TYPE","init"),this.P?(Zn(t,"$req",e),Zn(t,"SID","null"),l.aa=!0,di(l,t,null)):di(l,t,e),this.H=2}}else 3==this.H&&(i?na(this,i):0==this.j.length||pi(this.i)||na(this))},te.Ma=function(){if(this.u=null,Ps(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Ft(le(this.jb,this),i)}},te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vt(10),es(this),Ps(this))},te.ib=function(){null!=this.v&&(this.v=null,es(this),Os(this),vt(19))},te.pb=function(i){i?(this.l.info("Successfully pinged google.com"),vt(2)):(this.l.info("Failed to ping google.com"),vt(1))},te.isActive=function(){return!!this.h&&this.h.isActive(this)},(te=sl.prototype).Ba=function(){},te.Aa=function(){},te.za=function(){},te.ya=function(){},te.isActive=function(){return!0},te.Va=function(){},Ra.prototype.g=function(i,e){return new Wo(i,e)},xe(Wo,Vt),Wo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,t=this.h||void 0;vt(0),i.Y=e,i.na=t||{},i.G=i.aa,i.I=Ns(i,null,i.Y),pa(i)},Wo.prototype.close=function(){oo(this.g)},Wo.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=Jn(i),i=t);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&pa(e)},Wo.prototype.N=function(){this.g.h=null,delete this.j,oo(this.g),delete this.g,Wo.$.N.call(this)},xe(ma,We),xe(Wa,Ge),xe(zs,sl),zs.prototype.Ba=function(){Gt(this.g,"a")},zs.prototype.Aa=function(i){Gt(this.g,new ma(i))},zs.prototype.za=function(i){Gt(this.g,new Wa)},zs.prototype.ya=function(){Gt(this.g,"b")},xe(po,function Ds(){this.blockSize=-1}),po.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},po.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var t=e-this.blockSize,o=this.m,l=this.h,u=0;u<e;){if(0==l)for(;u<=t;)os(this,i,u),u+=this.blockSize;if("string"==typeof i){for(;u<e;)if(o[l++]=i.charCodeAt(u++),l==this.blockSize){os(this,o),l=0;break}}else for(;u<e;)if(o[l++]=i[u++],l==this.blockSize){os(this,o),l=0;break}}this.h=l,this.i+=e},po.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var t=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&t,t/=256;for(this.j(i),i=Array(16),e=t=0;4>e;++e)for(var o=0;32>o;o+=8)i[t++]=this.g[e]>>>o&255;return i};var j={};function De(i){return-128<=i&&128>i?function cn(i,e){var t=j;return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=e(i)}(i,function(e){return new b([0|e],0>e?-1:0)}):new b([0|i],0>i?-1:0)}function L(i){if(isNaN(i)||!isFinite(i))return bt;if(0>i)return Ln(L(-i));for(var e=[],t=1,o=0;i>=t;o++)e[o]=i/t|0,t*=$e;return new b(e,0)}var $e=4294967296,bt=De(0),Kt=De(1),pr=De(16777216);function Sn(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function tr(i){return-1==i.h}function Ln(i){for(var e=i.g.length,t=[],o=0;o<e;o++)t[o]=~i.g[o];return new b(t,~i.h).add(Kt)}function dr(i,e){return i.add(Ln(e))}function Sr(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function jr(i,e){this.g=i,this.h=e}function Yi(i,e){if(Sn(e))throw Error("division by zero");if(Sn(i))return new jr(bt,bt);if(tr(i))return e=Yi(Ln(i),e),new jr(Ln(e.g),Ln(e.h));if(tr(e))return e=Yi(i,Ln(e)),new jr(Ln(e.g),e.h);if(30<i.g.length){if(tr(i)||tr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Kt,o=e;0>=o.X(i);)t=Ii(t),o=Ii(o);var l=ts(t,1),u=ts(o,1);for(o=ts(o,2),t=ts(t,2);!Sn(o);){var m=u.add(o);0>=m.X(i)&&(l=l.add(t),u=m),o=ts(o,1),t=ts(t,1)}return e=dr(i,l.R(e)),new jr(l,e)}for(l=bt;0<=i.X(e);){for(t=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,o-48),m=(u=L(t)).R(e);tr(m)||0<m.X(i);)m=(u=L(t-=o)).R(e);Sn(u)&&(u=Kt),l=l.add(u),i=dr(i,m)}return new jr(l,i)}function Ii(i){for(var e=i.g.length+1,t=[],o=0;o<e;o++)t[o]=i.D(o)<<1|i.D(o-1)>>>31;return new b(t,i.h)}function ts(i,e){var t=e>>5;e%=32;for(var o=i.g.length-t,l=[],u=0;u<o;u++)l[u]=0<e?i.D(u+t)>>>e|i.D(u+t+1)<<32-e:i.D(u+t);return new b(l,i.h)}(te=b.prototype).ea=function(){if(tr(this))return-Ln(this).ea();for(var i=0,e=1,t=0;t<this.g.length;t++){var o=this.D(t);i+=(0<=o?o:$e+o)*e,e*=$e}return i},te.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(Sn(this))return"0";if(tr(this))return"-"+Ln(this).toString(i);for(var e=L(Math.pow(i,6)),t=this,o="";;){var l=Yi(t,e).g,u=((0<(t=dr(t,l.R(e))).g.length?t.g[0]:t.h)>>>0).toString(i);if(Sn(t=l))return u+o;for(;6>u.length;)u="0"+u;o=u+o}},te.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},te.X=function(i){return tr(i=dr(this,i))?-1:Sn(i)?0:1},te.abs=function(){return tr(this)?Ln(this):this},te.add=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0,l=0;l<=e;l++){var u=o+(65535&this.D(l))+(65535&i.D(l)),m=(u>>>16)+(this.D(l)>>>16)+(i.D(l)>>>16);o=m>>>16,t[l]=(m&=65535)<<16|(u&=65535)}return new b(t,-2147483648&t[t.length-1]?-1:0)},te.R=function(i){if(Sn(this)||Sn(i))return bt;if(tr(this))return tr(i)?Ln(this).R(Ln(i)):Ln(Ln(this).R(i));if(tr(i))return Ln(this.R(Ln(i)));if(0>this.X(pr)&&0>i.X(pr))return L(this.ea()*i.ea());for(var e=this.g.length+i.g.length,t=[],o=0;o<2*e;o++)t[o]=0;for(o=0;o<this.g.length;o++)for(var l=0;l<i.g.length;l++){var u=this.D(o)>>>16,m=65535&this.D(o),M=i.D(l)>>>16,$=65535&i.D(l);t[2*o+2*l]+=m*$,Sr(t,2*o+2*l),t[2*o+2*l+1]+=u*$,Sr(t,2*o+2*l+1),t[2*o+2*l+1]+=m*M,Sr(t,2*o+2*l+1),t[2*o+2*l+2]+=u*M,Sr(t,2*o+2*l+2)}for(o=0;o<e;o++)t[o]=t[2*o+1]<<16|t[2*o];for(o=e;o<2*e;o++)t[o]=0;return new b(t,0)},te.gb=function(i){return Yi(this,i).h},te.and=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)&i.D(o);return new b(t,this.h&i.h)},te.or=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)|i.D(o);return new b(t,this.h|i.h)},te.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),t=[],o=0;o<e;o++)t[o]=this.D(o)^i.D(o);return new b(t,this.h^i.h)},Ra.prototype.createWebChannel=Ra.prototype.g,Wo.prototype.send=Wo.prototype.u,Wo.prototype.open=Wo.prototype.m,Wo.prototype.close=Wo.prototype.close,Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,yn.COMPLETE="complete",Dr.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Vt.prototype.listen=Vt.prototype.O,U.prototype.listenOnce=U.prototype.P,U.prototype.getLastError=U.prototype.Sa,U.prototype.getLastErrorCode=U.prototype.Ia,U.prototype.getStatus=U.prototype.da,U.prototype.getResponseJson=U.prototype.Wa,U.prototype.getResponseText=U.prototype.ja,U.prototype.send=U.prototype.ha,U.prototype.setWithCredentials=U.prototype.Oa,po.prototype.digest=po.prototype.l,po.prototype.reset=po.prototype.reset,po.prototype.update=po.prototype.j,b.prototype.add=b.prototype.add,b.prototype.multiply=b.prototype.R,b.prototype.modulo=b.prototype.gb,b.prototype.compare=b.prototype.X,b.prototype.toNumber=b.prototype.ea,b.prototype.toString=b.prototype.toString,b.prototype.getBits=b.prototype.D,b.fromNumber=L,b.fromString=function ae(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Ln(ae(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=L(Math.pow(e,8)),o=bt,l=0;l<i.length;l+=8){var u=Math.min(8,i.length-l),m=parseInt(i.substring(l,l+u),e);8>u?(u=L(Math.pow(e,u)),o=o.R(u).add(L(m))):o=(o=o.R(t)).add(L(m))}return o};var qo=Ee.createWebChannelTransport=function(){return new Ra},Ki=Ee.getStatEventTarget=function(){return ie()},Zi=Ee.ErrorCode=Rt,ps=Ee.EventType=yn,Ml=Ee.Event=Z,va=Ee.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},al=Ee.FetchXmlHttpFactory=fs,Gs=Ee.WebChannel=Dr,Mc=Ee.XhrIo=U,or=Ee.Md5=po,Ws=Ee.Integer=b;const xl="@firebase/firestore";class go{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}go.UNAUTHENTICATED=new go(null),go.GOOGLE_CREDENTIALS=new go("google-credentials-uid"),go.FIRST_PARTY=new go("first-party-uid"),go.MOCK_USER=new go("mock-user");let ra="9.23.0";const To=new pe.Yd("@firebase/firestore");function Oa(){return To.logLevel}function Xt(i,...e){if(To.logLevel<=pe.in.DEBUG){const t=e.map(Ui);To.debug(`Firestore (${ra}): ${i}`,...t)}}function Ei(i,...e){if(To.logLevel<=pe.in.ERROR){const t=e.map(Ui);To.error(`Firestore (${ra}): ${i}`,...t)}}function gs(i,...e){if(To.logLevel<=pe.in.WARN){const t=e.map(Ui);To.warn(`Firestore (${ra}): ${i}`,...t)}}function Ui(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function wn(i="Unexpected state"){const e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+i;throw Ei(e),new Error(e)}function ut(i,e){i||wn()}function vn(i,e){return i}const Dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends Re.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Di{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(go.UNAUTHENTICATED))}shutdown(){}}class cl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ya{constructor(e){this.t=e,this.currentUser=go.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const u=z=>this.i!==l?(l=this.i,t(z)):Promise.resolve();let m=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new kr,e.enqueueRetryable(()=>u(this.currentUser))};const M=()=>{const z=m;e.enqueueRetryable((0,oe.Z)(function*(){yield z.promise,yield u(o.currentUser)}))},$=z=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(z=>$(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?$(z):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new kr)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(ut("string"==typeof o.accessToken),new qa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(null===e||"string"==typeof e),new go(e)}}class Ya{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=go.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yu{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Ya(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(go.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ka{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=u=>{null!=u.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const m=u.token!==this.T;return this.T=u.token,Xt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const l=u=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?l(u):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ut("string"==typeof t.token),this.T=t.token,new Ka(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ql(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class ws{static A(){const t=62*Math.floor(256/62);let o="";for(;o.length<20;){const l=Ql(40);for(let u=0;u<l.length;++u)o.length<20&&l[u]<t&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(l[u]%62))}return o}}function Yn(i,e){return i<e?-1:i>e?1:0}function Pa(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function ul(i){return i+"\0"}class Fi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ot(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ot(Dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ot(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(Dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fi.fromMillis(Date.now())}static fromDate(e){return Fi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Fi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yn(this.nanoseconds,e.nanoseconds):Yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new jn(e)}static min(){return new jn(new Fi(0,0))}static max(){return new jn(new Fi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Na{constructor(e,t,o){void 0===t?t=0:t>e.length&&wn(),void 0===o?o=e.length-t:o>e.length-t&&wn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Na.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Na?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const u=e.get(l),m=t.get(l);if(u<m)return-1;if(u>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Br extends Na{construct(e,t,o){return new Br(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ot(Dt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Br(t)}static emptyPath(){return new Br([])}}const xc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends Na{construct(e,t,o){return new Li(e,t,o)}static isValidIdentifier(e){return xc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Li(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const u=()=>{if(0===o.length)throw new Ot(Dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let m=!1;for(;l<e.length;){const M=e[l];if("\\"===M){if(l+1===e.length)throw new Ot(Dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[l+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Ot(Dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,l+=2}else"`"===M?(m=!m,l++):"."!==M||m?(o+=M,l++):(u(),l++)}if(u(),m)throw new Ot(Dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Li(t)}static emptyPath(){return new Li([])}}class gn{constructor(e){this.path=e}static fromPath(e){return new gn(Br.fromString(e))}static fromName(e){return new gn(Br.fromString(e).popFirst(5))}static empty(){return new gn(Br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Br.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Br.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gn(new Br(e.slice()))}}class E{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function S(i){return i.fields.find(e=>2===e.kind)}function O(i){return i.fields.filter(e=>2!==e.kind)}E.UNKNOWN_ID=-1;class F{constructor(e,t){this.fieldPath=e,this.kind=t}}class ye{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ye(0,Pt.min())}}function Oe(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=jn.fromTimestamp(1e9===o?new Fi(t+1,0):new Fi(t,o));return new Pt(l,gn.empty(),e)}function At(i){return new Pt(i.readTime,i.key,-1)}class Pt{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Pt(jn.min(),gn.empty(),-1)}static max(){return new Pt(jn.max(),gn.empty(),-1)}}function kn(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=gn.comparator(i.documentKey,e.documentKey),0!==t?t:Yn(i.largestBatchId,e.largestBatchId))}const On="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ai(i){return mo.apply(this,arguments)}function mo(){return mo=(0,oe.Z)(function*(i){if(i.code!==Dt.FAILED_PRECONDITION||i.message!==On)throw i;Xt("LocalStore","Unexpectedly lost primary lease")}),mo.apply(this,arguments)}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ct((o,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,l)},this.catchCallback=u=>{this.wrapFailure(t,u).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ct?t:ct.resolve(t)}catch(t){return ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ct.reject(t)}static resolve(e){return new ct((t,o)=>{t(e)})}static reject(e){return new ct((t,o)=>{o(e)})}static waitFor(e){return new ct((t,o)=>{let l=0,u=0,m=!1;e.forEach(M=>{++l,M.next(()=>{++u,m&&u===l&&t()},$=>o($))}),m=!0,u===l&&t()})}static or(e){let t=ct.resolve(!1);for(const o of e)t=t.next(l=>l?ct.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,u)=>{o.push(t.call(this,l,u))}),this.waitFor(o)}static mapArray(e,t){return new ct((o,l)=>{const u=e.length,m=new Array(u);let M=0;for(let $=0;$<u;$++){const z=$;t(e[z]).next(re=>{m[z]=re,++M,M===u&&o(m)},re=>l(re))}})}static doWhile(e,t){return new ct((o,l)=>{const u=()=>{!0===e()?t().next(()=>{u()},l):o()};u()})}}class ks{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new kr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new jo(e,t.error)):this.v.resolve()},this.transaction.onerror=o=>{const l=_a(o.target.error);this.v.reject(new jo(e,l))}}static open(e,t,o,l){try{return new ks(t,e.transaction(l,o))}catch(u){throw new jo(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Xt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bs(t)}}class Uo{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===Uo.S((0,Re.z$)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xt("SimpleDb","Removing database:",e),Cs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Re.hl)())return!1;if(Uo.C())return!0;const e=(0,Re.z$)(),t=Uo.S(e),o=0<t&&t<10,l=Uo.N(e),u=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,oe.Z)(function*(){return t.db||(Xt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=m=>{o(m.target.result)},u.onblocked=()=>{l(new jo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=m=>{const M=m.target.error;l("VersionError"===M.name?new Ot(Dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new Ot(Dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new jo(e,M))},u.onupgradeneeded=m=>{Xt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.V.O(m.target.result,u.transaction,m.oldVersion,t.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var u=this;return(0,oe.Z)(function*(){const m="readonly"===t;let M=0;for(;;){++M;try{u.db=yield u.$(e);const $=ks.open(u.db,e,m?"readonly":"readwrite",o),z=l($).next(re=>($.P(),re)).catch(re=>($.abort(re),ct.reject(re))).toPromise();return z.catch(()=>{}),yield $.R,z}catch($){const z=$,re="FirebaseError"!==z.name&&M<3;if(Xt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",re),u.close(),!re)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Fs{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Cs(this.L.delete())}}class jo extends Ot{constructor(e,t){super(Dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vs(i){return"IndexedDbTransactionError"===i.name}class bs{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Xt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Cs(o)}add(e){return Xt("SimpleDb","ADD",this.store.name,e,e),Cs(this.store.add(e))}get(e){return Cs(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xt("SimpleDb","DELETE",this.store.name,e),Cs(this.store.delete(e))}count(){return Xt("SimpleDb","COUNT",this.store.name),Cs(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),u=[];return this.W(l,(m,M)=>{u.push(M)}).next(()=>u)}{const l=this.store.getAll(o.range);return new ct((u,m)=>{l.onerror=M=>{m(M.target.error)},l.onsuccess=M=>{u(M.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new ct((l,u)=>{o.onerror=m=>{u(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}J(e,t){Xt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const l=this.cursor(o);return this.W(l,(u,m,M)=>M.delete())}X(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.W(l,t)}Z(e){const t=this.cursor({});return new ct((o,l)=>{t.onerror=u=>{const m=_a(u.target.error);l(m)},t.onsuccess=u=>{const m=u.target.result;m?e(m.primaryKey,m.value).next(M=>{M?m.continue():o()}):o()}})}W(e,t){const o=[];return new ct((l,u)=>{e.onerror=m=>{u(m.target.error)},e.onsuccess=m=>{const M=m.target.result;if(!M)return void l();const $=new Fs(M),z=t(M.primaryKey,M.value,$);if(z instanceof ct){const re=z.catch(Fe=>($.done(),ct.reject(Fe)));o.push(re)}$.isDone?l():null===$.K?M.continue():M.continue($.K)}}).next(()=>ct.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Cs(i){return new ct((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=_a(o.target.error);t(l)}})}let Rl=!1;function _a(i){const e=Uo.S((0,Re.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Rl||(Rl=!0,setTimeout(()=>{throw o},0)),o}}return i}class _u{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Xt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,oe.Z)(function*(){t.task=null;try{Xt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){vs(o)?Xt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ai(o)}yield t.et(6e4)}))}}class ia{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,oe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let l=t,u=!0;return ct.doWhile(()=>!0===u&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return Xt("IndexBackiller",`Processing collection: ${m}`),this.it(e,m,l).next(M=>{l-=M,o.add(m)});u=!1})).next(()=>t-l)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,o).next(u=>{const m=u.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.rt(l,u)).next(M=>(Xt("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,t,M))).next(()=>m.size)}))}rt(e,t){let o=e;return t.changes.forEach((l,u)=>{const m=At(u);kn(m,o)>0&&(o=m)}),new Pt(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ss=(()=>{class i{constructor(t,o){this.previousValue=t,o&&(o.sequenceNumberHandler=l=>this.ot(l),this.ut=l=>o.writeSequenceNumber(l))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return i.ct=-1,i})();function So(i){return null==i}function oa(i){return 0===i&&1/i==-1/0}function Rc(i){return"number"==typeof i&&Number.isInteger(i)&&!oa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function vo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Iu(e)),e=Ol(i.get(t),e);return Iu(e)}function Ol(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const u=i.charAt(l);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Iu(i){return i+"\x01\x01"}function Ao(i){const e=i.length;if(ut(e>=2),2===e)return ut("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Br.emptyPath();const t=e-2,o=[];let l="";for(let u=0;u<e;){const m=i.indexOf("\x01",u);switch((m<0||m>t)&&wn(),i.charAt(m+1)){case"\x01":const M=i.substring(u,m);let $;0===l.length?$=M:(l+=M,$=l,l=""),o.push($);break;case"\x10":l+=i.substring(u,m),l+="\0";break;case"\x11":l+=i.substring(u,m+1);break;default:wn()}u=m+2}return new Br(o)}const dl=["userId","batchId"];function Eu(i,e){return[i,vo(e)]}function Oc(i,e,t){return[i,vo(e),t]}const Pc={},hl=["prefixPath","collectionGroup","readTime","documentId"],Nc=["prefixPath","collectionGroup","documentId"],Pl=["collectionGroup","readTime","prefixPath","documentId"],Ia=["canonicalId","targetId"],kc=["targetId","path"],hp=["path","targetId"],fl=["collectionId","parent"],Fc=["indexId","uid"],Du=["uid","sequenceNumber"],Ea=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pd=["indexId","uid","orderedDocumentKey"],Nl=["userId","collectionPath","documentId"],Lc=["userId","collectionPath","largestBatchId"],Bc=["userId","collectionGroup","largestBatchId"],pl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kl=[...pl,"documentOverlays"],wu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$c=wu,Jl=[...$c,"indexConfiguration","indexState","indexEntries"];class ec extends nr{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Mo(i,e){const t=vn(i);return Uo.M(t.ht,e)}function Vc(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function qs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function sa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class wi{constructor(e,t){this.comparator=e,this.root=t||xo.EMPTY}insert(e,t){return new wi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xo.BLACK,null,null))}remove(e){return new wi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Za(this.root,e,this.comparator,!1)}getReverseIterator(){return new Za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Za(this.root,e,this.comparator,!0)}}class Za{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?o(e.key,t):1,t&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xo{constructor(e,t,o,l,u){this.key=e,this.value=t,this.color=null!=o?o:xo.RED,this.left=null!=l?l:xo.EMPTY,this.right=null!=u?u:xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,u){return new xo(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const u=o(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===u?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return xo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return xo.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wn();const e=this.left.check();if(e!==this.right.check())throw wn();return e+(this.isRed()?0:1)}}xo.EMPTY=null,xo.RED=!0,xo.BLACK=!1,xo.EMPTY=new class{constructor(){this.size=0}get key(){throw wn()}get value(){throw wn()}get color(){throw wn()}get left(){throw wn()}get right(){throw wn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new xo(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ti{constructor(e){this.comparator=e,this.data=new wi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tc(this.data.getIterator())}getIteratorFrom(e){return new tc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof ti)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(l,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ti(this.comparator);return t.data=e,t}}class tc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wi(i){return i.hasNext()?i.getNext():void 0}class Yo{constructor(e){this.fields=e,e.sort(Li.comparator)}static empty(){return new Yo([])}unionWith(e){let t=new ti(Li.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Yo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pa(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class gl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gl("Invalid base64 string: "+l):l}}(e);return new Xi(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new Xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const Uc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(i){if(ut(!!i),"string"==typeof i){let e=0;const t=Uc.exec(i);if(ut(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ri(i.seconds),nanos:Ri(i.nanos)}}function Ri(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ys(i){return"string"==typeof i?Xi.fromBase64String(i):Xi.fromUint8Array(i)}function Ys(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function aa(i){const e=i.mapValue.fields.__previous_value__;return Ys(e)?aa(e):e}function ka(i){const e=Da(i.mapValue.fields.__local_write_time__.timestampValue);return new Fi(e.seconds,e.nanos)}class Xa{constructor(e,t,o,l,u,m,M,$,z){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=u,this.forceLongPolling=m,this.autoDetectLongPolling=M,this.longPollingOptions=$,this.useFetchStreams=z}}class Qa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}const Ko={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jc={nullValue:"NULL_VALUE"};function Ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ys(i)?4:ln(i)?9007199254740991:10:wn()}function Fa(i,e){if(i===e)return!0;const t=Ts(i);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ka(i).isEqual(ka(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Da(o.timestampValue),m=Da(l.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,ys(i.bytesValue).isEqual(ys(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Ri(o.geoPointValue.latitude)===Ri(l.geoPointValue.latitude)&&Ri(o.geoPointValue.longitude)===Ri(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ri(o.integerValue)===Ri(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Ri(o.doubleValue),m=Ri(l.doubleValue);return u===m?oa(u)===oa(m):isNaN(u)&&isNaN(m)}return!1}(i,e);case 9:return Pa(i.arrayValue.values||[],e.arrayValue.values||[],Fa);case 10:return function(o,l){const u=o.mapValue.fields||{},m=l.mapValue.fields||{};if(Vc(u)!==Vc(m))return!1;for(const M in u)if(u.hasOwnProperty(M)&&(void 0===m[M]||!Fa(u[M],m[M])))return!1;return!0}(i,e);default:return wn()}var l}function Hc(i,e){return void 0!==(i.values||[]).find(t=>Fa(t,e))}function La(i,e){if(i===e)return 0;const t=Ts(i),o=Ts(e);if(t!==o)return Yn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yn(i.booleanValue,e.booleanValue);case 2:return function(l,u){const m=Ri(l.integerValue||l.doubleValue),M=Ri(u.integerValue||u.doubleValue);return m<M?-1:m>M?1:m===M?0:isNaN(m)?isNaN(M)?0:-1:1}(i,e);case 3:return gd(i.timestampValue,e.timestampValue);case 4:return gd(ka(i),ka(e));case 5:return Yn(i.stringValue,e.stringValue);case 6:return function(l,u){const m=ys(l),M=ys(u);return m.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(l,u){const m=l.split("/"),M=u.split("/");for(let $=0;$<m.length&&$<M.length;$++){const z=Yn(m[$],M[$]);if(0!==z)return z}return Yn(m.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,u){const m=Yn(Ri(l.latitude),Ri(u.latitude));return 0!==m?m:Yn(Ri(l.longitude),Ri(u.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,u){const m=l.values||[],M=u.values||[];for(let $=0;$<m.length&&$<M.length;++$){const z=La(m[$],M[$]);if(z)return z}return Yn(m.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,u){if(l===Ko.mapValue&&u===Ko.mapValue)return 0;if(l===Ko.mapValue)return 1;if(u===Ko.mapValue)return-1;const m=l.fields||{},M=Object.keys(m),$=u.fields||{},z=Object.keys($);M.sort(),z.sort();for(let re=0;re<M.length&&re<z.length;++re){const Fe=Yn(M[re],z[re]);if(0!==Fe)return Fe;const mt=La(m[M[re]],$[z[re]]);if(0!==mt)return mt}return Yn(M.length,z.length)}(i.mapValue,e.mapValue);default:throw wn()}}function gd(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Yn(i,e);const t=Da(i),o=Da(e),l=Yn(t.seconds,o.seconds);return 0!==l?l:Yn(t.nanos,o.nanos)}function Ks(i){return bu(i)}function bu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Da(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ys(i.bytesValue).toBase64():"referenceValue"in i?gn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",u=!0;for(const m of o.values||[])u?u=!1:l+=",",l+=bu(m);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let u="{",m=!0;for(const M of l)m?m=!1:u+=",",u+=`${M}:${bu(o.fields[M])}`;return u+"}"}(i.mapValue):wn();var e}function R(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function q(i){return!!i&&"integerValue"in i}function _e(i){return!!i&&"arrayValue"in i}function qe(i){return!!i&&"nullValue"in i}function nt(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Tt(i){return!!i&&"mapValue"in i}function pn(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return qs(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=pn(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pn(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ln(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fn(i){return"nullValue"in i?jc:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?R(Qa.empty(),gn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:wn()}function hr(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?R(Qa.empty(),gn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ko:wn()}function gr(i,e){const t=La(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function as(i,e){const t=La(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Tt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pn(t)}setAll(e){let t=Li.emptyPath(),o={},l=[];e.forEach((m,M)=>{if(!t.isImmediateParentOf(M)){const $=this.getFieldsMap(t);this.applyChanges($,o,l),o={},l=[],t=M.popLast()}m?o[M.lastSegment()]=pn(m):l.push(M.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,o,l)}delete(e){const t=this.field(e.popLast());Tt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];Tt(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){qs(t,(l,u)=>e[l]=u);for(const l of o)delete e[l]}clone(){return new Zr(pn(this.value))}}function Zo(i){const e=[];return qs(i.fields,(t,o)=>{const l=new Li([t]);if(Tt(o)){const u=Zo(o.mapValue).fields;if(0===u.length)e.push(l);else for(const m of u)e.push(l.child(m))}else e.push(l)}),new Yo(e)}class li{constructor(e,t,o,l,u,m,M){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.createTime=u,this.data=m,this.documentState=M}static newInvalidDocument(e){return new li(e,0,jn.min(),jn.min(),jn.min(),Zr.empty(),0)}static newFoundDocument(e,t,o,l){return new li(e,1,t,jn.min(),o,l,0)}static newNoDocument(e,t){return new li(e,2,t,jn.min(),jn.min(),Zr.empty(),0)}static newUnknownDocument(e,t){return new li(e,3,t,jn.min(),jn.min(),Zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(jn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xo{constructor(e,t){this.position=e,this.inclusive=t}}function Ls(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const u=e[l],m=i.position[l];if(o=u.field.isKeyField()?gn.comparator(gn.fromName(m.referenceValue),t.key):La(m,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return o}function la(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Fa(i.position[t],e.position[t]))return!1;return!0}class wa{constructor(e,t="asc"){this.field=e,this.dir=t}}function fp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class pp{}class zr extends pp{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new md(e,t,o):"array-contains"===t?new p(e,o):"in"===t?new v(e,o):"not-in"===t?new A(e,o):"array-contains-any"===t?new Y(e,o):new zr(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new vd(e,o):new Cu(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(La(t,this.value)):null!==t&&Ts(this.value)===Ts(t)&&this.matchesComparison(La(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bi extends pp{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new bi(e,t)}matches(e){return Ja(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ja(i){return"and"===i.op}function nc(i){return"or"===i.op}function Ll(i){return Nh(i)&&Ja(i)}function Nh(i){for(const e of i.filters)if(e instanceof bi)return!1;return!0}function rc(i){if(i instanceof zr)return i.field.canonicalString()+i.op.toString()+Ks(i.value);if(Ll(i))return i.filters.map(e=>rc(e)).join(",");{const e=i.filters.map(t=>rc(t)).join(",");return`${i.op}(${e})`}}function kh(i,e){return i instanceof zr?(t=i,(o=e)instanceof zr&&t.op===o.op&&t.field.isEqual(o.field)&&Fa(t.value,o.value)):i instanceof bi?function(t,o){return o instanceof bi&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((l,u,m)=>l&&kh(u,o.filters[m]),!0)}(i,e):void wn();var t,o}function zc(i,e){const t=i.filters.concat(e);return bi.create(t,i.op)}function Fh(i){return i instanceof zr?`${(e=i).field.canonicalString()} ${e.op} ${Ks(e.value)}`:i instanceof bi?function(e){return e.op.toString()+" {"+e.getFilters().map(Fh).join(" ,")+"}"}(i):"Filter";var e}class md extends zr{constructor(e,t,o){super(e,t,o),this.key=gn.fromName(o.referenceValue)}matches(e){const t=gn.comparator(e.key,this.key);return this.matchesComparison(t)}}class vd extends zr{constructor(e,t){super(e,"in",t),this.keys=w(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cu extends zr{constructor(e,t){super(e,"not-in",t),this.keys=w(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function w(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>gn.fromName(o.referenceValue))}class p extends zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _e(t)&&Hc(t.arrayValue,this.value)}}class v extends zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hc(this.value.arrayValue,t)}}class A extends zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hc(this.value.arrayValue,t)}}class Y extends zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_e(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Hc(this.value.arrayValue,o))}}class ce{constructor(e,t=null,o=[],l=[],u=null,m=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=u,this.startAt=m,this.endAt=M,this.dt=null}}function tt(i,e=null,t=[],o=[],l=null,u=null,m=null){return new ce(i,e,t,o,l,u,m)}function wt(i){const e=vn(i);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>rc(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),So(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Ks(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Ks(o)).join(",")),e.dt=t}return e.dt}function sn(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!fp(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!kh(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!la(i.startAt,e.startAt)&&la(i.endAt,e.endAt)}function Cn(i){return gn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Hn(i,e){return i.filters.filter(t=>t instanceof zr&&t.field.isEqual(e))}function Gr(i,e,t){let o=jc,l=!0;for(const u of Hn(i,e)){let m=jc,M=!0;switch(u.op){case"<":case"<=":m=Fn(u.value);break;case"==":case"in":case">=":m=u.value;break;case">":m=u.value,M=!1;break;case"!=":case"not-in":m=jc}gr({value:o,inclusive:l},{value:m,inclusive:M})<0&&(o=m,l=M)}if(null!==t)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const m=t.position[u];gr({value:o,inclusive:l},{value:m,inclusive:t.inclusive})<0&&(o=m,l=t.inclusive);break}return{value:o,inclusive:l}}function Ss(i,e,t){let o=Ko,l=!0;for(const u of Hn(i,e)){let m=Ko,M=!0;switch(u.op){case">=":case">":m=hr(u.value),M=!1;break;case"==":case"in":case"<=":m=u.value;break;case"<":m=u.value,M=!1;break;case"!=":case"not-in":m=Ko}as({value:o,inclusive:l},{value:m,inclusive:M})>0&&(o=m,l=M)}if(null!==t)for(let u=0;u<i.orderBy.length;++u)if(i.orderBy[u].field.isEqual(e)){const m=t.position[u];as({value:o,inclusive:l},{value:m,inclusive:t.inclusive})>0&&(o=m,l=t.inclusive);break}return{value:o,inclusive:l}}class Qo{constructor(e,t=null,o=[],l=[],u=null,m="F",M=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=u,this.limitType=m,this.startAt=M,this.endAt=$,this.wt=null,this._t=null}}function ic(i,e,t,o,l,u,m,M){return new Qo(i,e,t,o,l,u,m,M)}function Bl(i){return new Qo(i)}function Gc(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function yd(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function oc(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Tu(i){return null!==i.collectionGroup}function ml(i){const e=vn(i);if(null===e.wt){e.wt=[];const t=oc(e),o=yd(e);if(null!==t&&null===o)t.isKeyField()||e.wt.push(new wa(t)),e.wt.push(new wa(Li.keyField(),"asc"));else{let l=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(l=!0);if(!l){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new wa(Li.keyField(),u))}}}return e.wt}function _s(i){const e=vn(i);if(!e._t)if("F"===e.limitType)e._t=tt(e.path,e.collectionGroup,ml(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of ml(e))t.push(new wa(u.field,"desc"===u.dir?"asc":"desc"));const o=e.endAt?new Xo(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new Xo(e.startAt.position,e.startAt.inclusive):null;e._t=tt(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e._t}function $l(i,e){e.getFirstInequalityField(),oc(i);const t=i.filters.concat([e]);return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Su(i,e,t){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Au(i,e){return sn(_s(i),_s(e))&&i.limitType===e.limitType}function sc(i){return`${wt(_s(i))}|lt:${i.limitType}`}function Lh(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>Fh(o)).join(", ")}]`),So(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(l=o).field.canonicalString()} (${l.dir})`;var l}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Ks(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Ks(o)).join(",")),`Target(${t})`}(_s(i))}; limitType=${i.limitType})`}function Bh(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):gn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of ml(t))if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,u,m){const M=Ls(l,u,m);return l.inclusive?M<=0:M<0}(t.startAt,ml(t),o)||t.endAt&&!function(l,u,m){const M=Ls(l,u,m);return l.inclusive?M>=0:M>0}(t.endAt,ml(t),o)));var t,o}function h_(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function f_(i){return(e,t)=>{let o=!1;for(const l of ml(i)){const u=xI(l,e,t);if(0!==u)return u;o=o||l.field.isKeyField()}return 0}}function xI(i,e,t){const o=i.field.isKeyField()?gn.comparator(e.key,t.key):function(l,u,m){const M=u.data.field(l),$=m.data.field(l);return null!==M&&null!==$?La(M,$):wn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return wn()}}class Vl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,u]of o)if(this.equalsFn(l,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){qs(this.inner,(t,o)=>{for(const[l,u]of o)e(l,u)})}isEmpty(){return sa(this.inner)}size(){return this.innerSize}}const $h=new wi(gn.comparator);function As(){return $h}const gp=new wi(gn.comparator);function Mu(...i){let e=gp;for(const t of i)e=e.insert(t.key,t);return e}function mp(i){let e=gp;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Zs(){return xu()}function vp(){return xu()}function xu(){return new Vl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Vh=new wi(gn.comparator),Uh=new ti(gn.comparator);function Ar(...i){let e=Uh;for(const t of i)e=e.add(t);return e}const p_=new ti(Yn);function yp(){return p_}function $m(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oa(e)?"-0":e}}function _p(i){return{integerValue:""+i}}function jh(i,e){return Rc(e)?_p(e):$m(i,e)}class Hh{constructor(){this._=void 0}}function g_(i,e,t){return i instanceof Ru?function(o,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ys(l)&&(l=aa(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(t,e):i instanceof Wc?Xs(i,e):i instanceof Ul?Ep(i,e):function(o,l){const u=Ip(o,l),m=Ms(u)+Ms(o.gt);return q(u)&&q(o.gt)?_p(m):$m(o.serializer,m)}(i,e)}function m_(i,e,t){return i instanceof Wc?Xs(i,e):i instanceof Ul?Ep(i,e):t}function Ip(i,e){return i instanceof ac?q(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Ru extends Hh{}class Wc extends Hh{constructor(e){super(),this.elements=e}}function Xs(i,e){const t=Ou(e);for(const o of i.elements)t.some(l=>Fa(l,o))||t.push(o);return{arrayValue:{values:t}}}class Ul extends Hh{constructor(e){super(),this.elements=e}}function Ep(i,e){let t=Ou(e);for(const o of i.elements)t=t.filter(l=>!Fa(l,o));return{arrayValue:{values:t}}}class ac extends Hh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ms(i){return Ri(i.integerValue||i.doubleValue)}function Ou(i){return _e(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Pu{constructor(e,t){this.field=e,this.transform=t}}class v_{constructor(e,t){this.version=e,this.transformResults=t}}class so{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new so}static exists(e){return new so(void 0,e)}static updateTime(e){return new so(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class _d{}function Um(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new qc(i.key,so.none()):new lc(i.key,i.data,so.none());{const t=i.data,o=Zr.empty();let l=new ti(Li.comparator);for(let u of e.fields)if(!l.has(u)){let m=t.field(u);null===m&&u.length>1&&(u=u.popLast(),m=t.field(u)),null===m?o.delete(u):o.set(u,m),l=l.add(u)}return new jl(i.key,o,new Yo(l.toArray()),so.none())}}function jm(i,e,t){i instanceof lc?function(o,l,u){const m=o.value.clone(),M=Hm(o.fieldTransforms,l,u.transformResults);m.setAll(M),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(i,e,t):i instanceof jl?function(o,l,u){if(!zh(o.precondition,l))return void l.convertToUnknownDocument(u.version);const m=Hm(o.fieldTransforms,l,u.transformResults),M=l.data;M.setAll(Nu(o)),M.setAll(m),l.convertToFoundDocument(u.version,M).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Id(i,e,t,o){return i instanceof lc?function(l,u,m,M){if(!zh(l.precondition,u))return m;const $=l.value.clone(),z=zm(l.fieldTransforms,M,u);return $.setAll(z),u.convertToFoundDocument(u.version,$).setHasLocalMutations(),null}(i,e,t,o):i instanceof jl?function(l,u,m,M){if(!zh(l.precondition,u))return m;const $=zm(l.fieldTransforms,M,u),z=u.data;return z.setAll(Nu(l)),z.setAll($),u.convertToFoundDocument(u.version,z).setHasLocalMutations(),null===m?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(re=>re.field))}(i,e,t,o):(m=t,zh(i.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m);var u,m}function y_(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),u=Ip(o.transform,l||null);null!=u&&(null===t&&(t=Zr.empty()),t.set(o.field,u))}return t||null}function Gh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Pa(t,o,(l,u)=>function Vm(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Wc&&o instanceof Wc||t instanceof Ul&&o instanceof Ul?Pa(t.elements,o.elements,Fa):t instanceof ac&&o instanceof ac?Fa(t.gt,o.gt):t instanceof Ru&&o instanceof Ru);var t,o}(l,u))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class lc extends _d{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class jl extends _d{constructor(e,t,o,l,u=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Nu(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Hm(i,e,t){const o=new Map;ut(i.length===t.length);for(let l=0;l<t.length;l++){const u=i[l],m=u.transform,M=e.data.field(u.field);o.set(u.field,m_(m,M,t[l]))}return o}function zm(i,e,t){const o=new Map;for(const l of i){const u=l.transform,m=t.data.field(l.field);o.set(l.field,g_(u,m,e))}return o}class qc extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wh extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qh{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&jm(u,e,o[l])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Id(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Id(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=vp();return this.mutations.forEach(l=>{const u=e.get(l.key),m=u.overlayedDocument;let M=this.applyToLocalView(m,u.mutatedFields);M=t.has(l.key)?null:M;const $=Um(m,M);null!==$&&o.set(l.key,$),m.isValidDocument()||m.convertToNoDocument(jn.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ar())}isEqual(e){return this.batchId===e.batchId&&Pa(this.mutations,e.mutations,(t,o)=>Gh(t,o))&&Pa(this.baseMutations,e.baseMutations,(t,o)=>Gh(t,o))}}class cc{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){ut(e.mutations.length===o.length);let l=Vh;const u=e.mutations;for(let m=0;m<u.length;m++)l=l.insert(u[m].key,o[m].version);return new cc(e,t,o,l)}}class ku{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dp{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ro,hi;function Wm(i){switch(i){default:return wn();case Dt.CANCELLED:case Dt.UNKNOWN:case Dt.DEADLINE_EXCEEDED:case Dt.RESOURCE_EXHAUSTED:case Dt.INTERNAL:case Dt.UNAVAILABLE:case Dt.UNAUTHENTICATED:return!1;case Dt.INVALID_ARGUMENT:case Dt.NOT_FOUND:case Dt.ALREADY_EXISTS:case Dt.PERMISSION_DENIED:case Dt.FAILED_PRECONDITION:case Dt.ABORTED:case Dt.OUT_OF_RANGE:case Dt.UNIMPLEMENTED:case Dt.DATA_LOSS:return!0}}function qm(i){if(void 0===i)return Ei("GRPC error has no .code"),Dt.UNKNOWN;switch(i){case Ro.OK:return Dt.OK;case Ro.CANCELLED:return Dt.CANCELLED;case Ro.UNKNOWN:return Dt.UNKNOWN;case Ro.DEADLINE_EXCEEDED:return Dt.DEADLINE_EXCEEDED;case Ro.RESOURCE_EXHAUSTED:return Dt.RESOURCE_EXHAUSTED;case Ro.INTERNAL:return Dt.INTERNAL;case Ro.UNAVAILABLE:return Dt.UNAVAILABLE;case Ro.UNAUTHENTICATED:return Dt.UNAUTHENTICATED;case Ro.INVALID_ARGUMENT:return Dt.INVALID_ARGUMENT;case Ro.NOT_FOUND:return Dt.NOT_FOUND;case Ro.ALREADY_EXISTS:return Dt.ALREADY_EXISTS;case Ro.PERMISSION_DENIED:return Dt.PERMISSION_DENIED;case Ro.FAILED_PRECONDITION:return Dt.FAILED_PRECONDITION;case Ro.ABORTED:return Dt.ABORTED;case Ro.OUT_OF_RANGE:return Dt.OUT_OF_RANGE;case Ro.UNIMPLEMENTED:return Dt.UNIMPLEMENTED;case Ro.DATA_LOSS:return Dt.DATA_LOSS;default:return wn()}}(hi=Ro||(Ro={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";class wp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yh}static getOrCreateInstance(){return null===Yh&&(Yh=new wp),Yh}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Yh=null;function Ym(){return new TextEncoder}const Km=new Ws([4294967295,4294967295],0);function Ed(i){const e=Ym().encode(i),t=new or;return t.update(e),new Uint8Array(t.digest())}function Kh(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ws([t,o],0),new Ws([l,u],0)]}class Dd{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new wd(`Invalid padding: ${t}`);if(o<0)throw new wd(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new wd(`Invalid hash count: ${o}`);if(0===e.length&&0!==t)throw new wd(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Ws.fromNumber(this.It)}Et(e,t,o){let l=e.add(t.multiply(Ws.fromNumber(o)));return 1===l.compare(Km)&&(l=new Ws([l.getBits(0),l.getBits(1)],0)),l.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ed(e),[o,l]=Kh(t);for(let u=0;u<this.hashCount;u++){const m=this.Et(o,l,u);if(!this.At(m))return!1}return!0}static create(e,t,o){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),m=new Dd(u,l,t);return o.forEach(M=>m.insert(M)),m}insert(e){if(0===this.It)return;const t=Ed(e),[o,l]=Kh(t);for(let u=0;u<this.hashCount;u++){const m=this.Et(o,l,u);this.Rt(m)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bd{constructor(e,t,o,l,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const l=new Map;return l.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new bd(jn.min(),l,new wi(Yn),As(),Ar())}}class Yc{constructor(e,t,o,l,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new Yc(o,t,Ar(),Ar(),Ar())}}class Cd{constructor(e,t,o,l){this.Pt=e,this.removedTargetIds=t,this.key=o,this.bt=l}}class uc{constructor(e,t){this.targetId=e,this.Vt=t}}class bp{constructor(e,t,o=Xi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class Cp{constructor(){this.St=0,this.Dt=Td(),this.Ct=Xi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ar(),t=Ar(),o=Ar();return this.Dt.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:wn()}}),new Yc(this.Ct,this.xt,e,t,o)}Ft(){this.Nt=!1,this.Dt=Td()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class __{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=As(),this.zt=I_(),this.Wt=new wi(Yn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const o=this.Zt(t);switch(e.state){case 0:this.te(t)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(t);break;case 3:this.te(t)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),o.$t(e.resumeToken));break;default:wn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((o,l)=>{this.te(l)&&t(l)})}ne(e){var t;const o=e.targetId,l=e.Vt.count,u=this.se(o);if(u){const m=u.target;if(Cn(m))if(0===l){const M=new gn(m.path);this.Yt(o,M,li.newNoDocument(M,jn.min()))}else ut(1===l);else{const M=this.ie(o);if(M!==l){const $=this.re(e,M);0!==$&&(this.ee(o),this.Wt=this.Wt.insert(o,2===$?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=wp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(z,re,Fe){var mt,Nt,nn,An,Tn,Rr;const ui={localCacheCount:re,existenceFilterCount:Fe.count},Or=Fe.unchangedNames;return Or&&(ui.bloomFilter={applied:0===z,hashCount:null!==(mt=null==Or?void 0:Or.hashCount)&&void 0!==mt?mt:0,bitmapLength:null!==(An=null===(nn=null===(Nt=null==Or?void 0:Or.bits)||void 0===Nt?void 0:Nt.bitmap)||void 0===nn?void 0:nn.length)&&void 0!==An?An:0,padding:null!==(Rr=null===(Tn=null==Or?void 0:Or.bits)||void 0===Tn?void 0:Tn.padding)&&void 0!==Rr?Rr:0}),ui}($,M,e.Vt))}}}}re(e,t){const{unchangedNames:o,count:l}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:u="",padding:m=0},hashCount:M=0}=o;let $,z;try{$=ys(u).toUint8Array()}catch(re){if(re instanceof gl)return gs("Decoding the base64 bloom filter in existence filter failed ("+re.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw re}try{z=new Dd($,m,M)}catch(re){return gs(re instanceof wd?"BloomFilter error: ":"Applying bloom filter failed: ",re),1}return 0===z.It?1:l!==t-this.oe(e.targetId,z)?2:0}oe(e,t){const o=this.Gt.getRemoteKeysForTarget(e);let l=0;return o.forEach(u=>{const m=this.Gt.ue(),M=`projects/${m.projectId}/databases/${m.database}/documents/${u.path.canonicalString()}`;t.vt(M)||(this.Yt(e,u,null),l++)}),l}ce(e){const t=new Map;this.Qt.forEach((u,m)=>{const M=this.se(m);if(M){if(u.current&&Cn(M.target)){const $=new gn(M.target.path);null!==this.jt.get($)||this.ae(m,$)||this.Yt(m,$,li.newNoDocument($,e))}u.Mt&&(t.set(m,u.Ot()),u.Ft())}});let o=Ar();this.zt.forEach((u,m)=>{let M=!0;m.forEachWhile($=>{const z=this.se($);return!z||"TargetPurposeLimboResolution"===z.purpose||(M=!1,!1)}),M&&(o=o.add(u))}),this.jt.forEach((u,m)=>m.setReadTime(e));const l=new bd(e,t,this.Wt,this.jt,o);return this.jt=As(),this.zt=I_(),this.Wt=new wi(Yn),l}Jt(e,t){if(!this.te(e))return;const o=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,o),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,o){if(!this.te(e))return;const l=this.Zt(e);this.ae(e,t)?l.Bt(t,1):l.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),o&&(this.jt=this.jt.insert(t,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Cp,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ti(Yn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Xt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Cp),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function I_(){return new wi(gn.comparator)}function Td(){return new wi(gn.comparator)}const E_={asc:"ASCENDING",desc:"DESCENDING"},Zm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xm={and:"AND",or:"OR"};class Qm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sd(i,e){return i.useProto3Json||So(e)?e:{value:e}}function Kc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ad(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Md(i,e){return Kc(i,e.toTimestamp())}function Ho(i){return ut(!!i),jn.fromTimestamp(function(e){const t=Da(e);return new Fi(t.seconds,t.nanos)}(i))}function xd(i,e){return(t=i,new Br(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Rd(i){const e=Br.fromString(i);return ut(Ap(e)),e}function Fu(i,e){return xd(i.databaseId,e.path)}function Ba(i,e){const t=Rd(e);if(t.get(1)!==i.databaseId.projectId)throw new Ot(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ot(Dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new gn(ev(t))}function Zc(i,e){return xd(i.databaseId,e)}function Jm(i){const e=Rd(i);return 4===e.length?Br.emptyPath():ev(e)}function Lu(i){return new Br(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ev(i){return ut(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function tv(i,e,t){return{name:Fu(i,e),fields:t.value.mapValue.fields}}function nv(i,e,t){const o=Ba(i,e.name),l=Ho(e.updateTime),u=e.createTime?Ho(e.createTime):jn.min(),m=new Zr({mapValue:{fields:e.fields}}),M=li.newFoundDocument(o,l,u,m);return t&&M.setHasCommittedMutations(),t?M.setHasCommittedMutations():M}function dc(i,e){let t;if(e instanceof lc)t={update:tv(i,e.key,e.value)};else if(e instanceof qc)t={delete:Fu(i,e.key)};else if(e instanceof jl)t={update:tv(i,e.key,e.data),updateMask:sv(e.fieldMask)};else{if(!(e instanceof Wh))return wn();t={verify:Fu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,u){const m=u.transform;if(m instanceof Ru)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ul)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ac)return{fieldPath:u.field.canonicalString(),increment:m.gt};throw wn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:Md(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:wn()),t;var l}function Od(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?so.updateTime(Ho(l.updateTime)):void 0!==l.exists?so.exists(l.exists):so.none():so.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(u,m){let M=null;"setToServerValue"in m?(ut("REQUEST_TIME"===m.setToServerValue),M=new Ru):"appendMissingElements"in m?M=new Wc(m.appendMissingElements.values||[]):"removeAllFromArray"in m?M=new Ul(m.removeAllFromArray.values||[]):"increment"in m?M=new ac(u,m.increment):wn();const $=Li.fromServerFormat(m.fieldPath);return new Pu($,M)}(i,l)):[];var l;if(e.update){const l=Ba(i,e.update.name),u=new Zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new Yo((e.updateMask.fieldPaths||[]).map(z=>Li.fromServerFormat(z)));return new jl(l,u,m,t,o)}return new lc(l,u,t,o)}if(e.delete){const l=Ba(i,e.delete);return new qc(l,t)}if(e.verify){const l=Ba(i,e.verify);return new Wh(l,t)}return wn()}function ov(i,e){return{documents:[Zc(i,e.path)]}}function Tp(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Zc(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Zc(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function($){if(0!==$.length)return Sp(bi.create($,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function($){if(0!==$.length)return $.map(z=>{return{field:vl((re=z).field),direction:b_(re.dir)};var re})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=Sd(i,e.limit);var M,$;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function D_(i){let e=Jm(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){ut(1===o);const re=t.from[0];re.allDescendants?l=re.collectionId:e=e.child(re.collectionId)}let u=[];t.where&&(u=function(re){const Fe=Zh(re);return Fe instanceof bi&&Ll(Fe)?Fe.getFilters():[Fe]}(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(re=>{return new wa(Xc((Fe=re).field),function(mt){switch(mt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Fe.direction));var Fe}));let M=null;t.limit&&(M=function(re){let Fe;return Fe="object"==typeof re?re.value:re,So(Fe)?null:Fe}(t.limit));let $=null;var re;t.startAt&&($=new Xo((re=t.startAt).values||[],!!re.before));let z=null;return t.endAt&&(z=function(re){return new Xo(re.values||[],!re.before)}(t.endAt)),ic(e,l,m,u,M,"F",$,z)}function Zh(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xc(e.unaryFilter.field);return zr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Xc(e.unaryFilter.field);return zr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xc(e.unaryFilter.field);return zr.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xc(e.unaryFilter.field);return zr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return wn()}}(i):void 0!==i.fieldFilter?zr.create(Xc((e=i).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return bi.create(e.compositeFilter.filters.map(t=>Zh(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return wn()}}(e.compositeFilter.op))}(i):wn();var e}function b_(i){return E_[i]}function $u(i){return Zm[i]}function Xh(i){return Xm[i]}function vl(i){return{fieldPath:i.canonicalString()}}function Xc(i){return Li.fromServerFormat(i.fieldPath)}function Sp(i){return i instanceof zr?function(e){if("=="===e.op){if(nt(e.value))return{unaryFilter:{field:vl(e.field),op:"IS_NAN"}};if(qe(e.value))return{unaryFilter:{field:vl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nt(e.value))return{unaryFilter:{field:vl(e.field),op:"IS_NOT_NAN"}};if(qe(e.value))return{unaryFilter:{field:vl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(e.field),op:$u(e.op),value:e.value}}}(i):i instanceof bi?function(e){const t=e.getFilters().map(o=>Sp(o));return 1===t.length?t[0]:{compositeFilter:{op:Xh(e.op),filters:t}}}(i):wn()}function sv(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ap(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Hl{constructor(e,t,o,l,u=jn.min(),m=jn.min(),M=Xi.EMPTY_BYTE_STRING,$=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=M,this.expectedCount=$}withSequenceNumber(e){return new Hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class av{constructor(e){this.fe=e}}function lv(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Qh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Fu(l=i.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Kc(l,u.version.toTimestamp()),createTime:Kc(l,u.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ca(e.version)};else{if(!e.isUnknownDocument())return wn();o.unknownDocument={path:t.path.toArray(),version:ca(e.version)}}var l,u;return o}function Qh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ca(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function el(i){const e=new Fi(i.seconds,i.nanoseconds);return jn.fromTimestamp(e)}function Qc(i,e){const t=(e.baseMutations||[]).map(u=>Od(i.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const o=e.mutations.map(u=>Od(i.fe,u)),l=Fi.fromMillis(e.localWriteTimeMs);return new qh(e.batchId,l,t,o)}function Jh(i){const e=el(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?el(i.lastLimboFreeSnapshotVersion):jn.min();let o;var l;return void 0!==i.query.documents?(ut(1===(l=i.query).documents.length),o=_s(Bl(Jm(l.documents[0])))):o=_s(D_(i.query)),new Hl(o,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Xi.fromBase64String(i.resumeToken))}function T_(i,e){const t=ca(e.snapshotVersion),o=ca(e.lastLimboFreeSnapshotVersion);let l;l=Cn(e.target)?ov(i.fe,e.target):Tp(i.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wt(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function cv(i){const e=D_({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Su(e,e.limit,"L"):e}function uv(i,e){return new ku(e.largestBatchId,Od(i.fe,e.overlayMutation))}function S_(i,e){const t=e.path.lastSegment();return[i,vo(e.path.popLast()),t]}function Mp(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ca(o.readTime),documentKey:vo(o.documentKey.path),largestBatchId:o.largestBatchId}}class A_{getBundleMetadata(e,t){return dv(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:el(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return dv(e).put({bundleId:(o=t).id,createTime:ca(Ho(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return hv(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:cv(l.bundledQuery),readTime:el(l.readTime)};var l})}saveNamedQuery(e,t){return hv(e).put({name:(o=t).name,readTime:ca(Ho(o.readTime)),bundledQuery:o.bundledQuery});var o}}function dv(i){return Mo(i,"bundles")}function hv(i){return Mo(i,"namedQueries")}class ef{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new ef(e,t.uid||"")}getOverlay(e,t){return Jc(e).get(S_(this.userId,t)).next(o=>o?uv(this.serializer,o):null)}getOverlays(e,t){const o=Zs();return ct.forEach(t,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,t,o){const l=[];return o.forEach((u,m)=>{const M=new ku(t,m);l.push(this.we(e,M))}),ct.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(m=>l.add(vo(m.getCollectionPath())));const u=[];return l.forEach(m=>{const M=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);u.push(Jc(e).J("collectionPathOverlayIndex",M))}),ct.waitFor(u)}getOverlaysForCollection(e,t,o){const l=Zs(),u=vo(t),m=IDBKeyRange.bound([this.userId,u,o],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Jc(e).j("collectionPathOverlayIndex",m).next(M=>{for(const $ of M){const z=uv(this.serializer,$);l.set(z.getKey(),z)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const u=Zs();let m;const M=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jc(e).X({index:"collectionGroupOverlayIndex",range:M},($,z,re)=>{const Fe=uv(this.serializer,z);u.size()<l||Fe.largestBatchId===m?(u.set(Fe.getKey(),Fe),m=Fe.largestBatchId):re.done()}).next(()=>u)}we(e,t){return Jc(e).put(function(o,l,u){const[m,M,$]=S_(l,u.mutation.key);return{userId:l,collectionPath:M,documentId:$,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:dc(o.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Jc(i){return Mo(i,"documentOverlays")}class Qs{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ri(e.integerValue));else if("doubleValue"in e){const o=Ri(e.doubleValue);isNaN(o)?this.ye(t,13):(this.ye(t,15),oa(o)?t.pe(0):t.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(t,20),"string"==typeof o?t.Ie(o):(t.Ie(`${o.seconds||""}`),t.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ys(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(t,45),t.pe(o.latitude||0),t.pe(o.longitude||0)}else"mapValue"in e?ln(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):wn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const o=e.fields||{};this.ye(t,55);for(const l of Object.keys(o))this.Te(l,t),this.me(o[l],t)}Pe(e,t){const o=e.values||[];this.ye(t,50);for(const l of o)this.me(l,t)}ve(e,t){this.ye(t,37),gn.fromName(e).path.forEach(o=>{this.ye(t,60),this.be(o,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Pd(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function xp(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const u=Pd(255&t[l]);if(o+=u,8!==u)break}return o}(i);return Math.ceil(e/8)}Qs.Ve=new Qs;class fv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.De(o.value),o=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ne(o.value),o=t.next();this.ke()}Me(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.De(o);else if(o<2048)this.De(960|o>>>6),this.De(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.De(480|o>>>12),this.De(128|63&o>>>6),this.De(128|63&o);else{const l=t.codePointAt(0);this.De(240|l>>>18),this.De(128|63&l>>>12),this.De(128|63&l>>>6),this.De(128|63&l)}}this.Ce()}$e(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ne(o);else if(o<2048)this.Ne(960|o>>>6),this.Ne(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o);else{const l=t.codePointAt(0);this.Ne(240|l>>>18),this.Ne(128|63&l>>>12),this.Ne(128|63&l>>>6),this.Ne(128|63&l)}}this.ke()}Oe(e){const t=this.Fe(e),o=xp(t);this.Be(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Le(e){const t=this.Fe(e),o=xp(t);this.Be(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class pv{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class RI{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class tf{constructor(){this.je=new fv,this.ze=new pv(this.je),this.We=new RI(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Vu{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Vu(this.indexId,this.documentKey,this.arrayValue,o)}}function yl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=nf(i.arrayValue,e.arrayValue),0!==t?t:(t=nf(i.directionalValue,e.directionalValue),0!==t?t:gn.comparator(i.documentKey,e.documentKey)))}function nf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class OI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ze=o:this.Xe.push(o)}}tn(e){ut(e.collectionGroup===this.collectionId);const t=S(e);if(void 0!==t&&!this.en(t))return!1;const o=O(e);let l=new Set,u=0,m=0;for(;u<o.length&&this.en(o[u]);++u)l=l.add(o[u].fieldPath.canonicalString());if(u===o.length)return!0;if(void 0!==this.Ze){if(!l.has(this.Ze.field.canonicalString())){const M=o[u];if(!this.nn(this.Ze,M)||!this.sn(this.Ye[m++],M))return!1}++u}for(;u<o.length;++u)if(m>=this.Ye.length||!this.sn(this.Ye[m++],o[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function M_(i){var e,t;if(ut(i instanceof zr||i instanceof bi),i instanceof zr){if(i instanceof v){const l=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>zr.create(i.field,"==",u)))||[];return bi.create(l,"or")}return i}const o=i.filters.map(l=>M_(l));return bi.create(o,i.op)}function gv(i){if(0===i.getFilters().length)return[];const e=Pp(M_(i));return ut(mv(e)),Rp(e)||Op(e)?[e]:e.getFilters()}function Rp(i){return i instanceof zr}function Op(i){return i instanceof bi&&Ll(i)}function mv(i){return Rp(i)||Op(i)||function(e){if(e instanceof bi&&nc(e)){for(const t of e.getFilters())if(!Rp(t)&&!Op(t))return!1;return!0}return!1}(i)}function Pp(i){if(ut(i instanceof zr||i instanceof bi),i instanceof zr)return i;if(1===i.filters.length)return Pp(i.filters[0]);const e=i.filters.map(o=>Pp(o));let t=bi.create(e,i.op);return t=sf(t),mv(t)?t:(ut(t instanceof bi),ut(Ja(t)),ut(t.filters.length>1),t.filters.reduce((o,l)=>rf(o,l)))}function rf(i,e){let t;return ut(i instanceof zr||i instanceof bi),ut(e instanceof zr||e instanceof bi),t=i instanceof zr?e instanceof zr?bi.create([i,e],"and"):Nd(i,e):e instanceof zr?Nd(e,i):function(o,l){if(ut(o.filters.length>0&&l.filters.length>0),Ja(o)&&Ja(l))return zc(o,l.getFilters());const u=nc(o)?o:l,m=nc(o)?l:o,M=u.filters.map($=>rf($,m));return bi.create(M,"or")}(i,e),sf(t)}function Nd(i,e){if(Ja(e))return zc(e,i.getFilters());{const t=e.filters.map(o=>rf(i,o));return bi.create(t,"or")}}function sf(i){if(ut(i instanceof zr||i instanceof bi),i instanceof zr)return i;const e=i.getFilters();if(1===e.length)return sf(e[0]);if(Nh(i))return i;const t=e.map(l=>sf(l)),o=[];return t.forEach(l=>{l instanceof zr?o.push(l):l instanceof bi&&(l.op===i.op?o.push(...l.filters):o.push(l))}),1===o.length?o[0]:bi.create(o,i.op)}class Np{constructor(){this.rn=new kp}addToCollectionParentIndex(e,t){return this.rn.add(t),ct.resolve()}getCollectionParents(e,t){return ct.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ct.resolve()}deleteFieldIndex(e,t){return ct.resolve()}getDocumentsMatchingTarget(e,t){return ct.resolve(null)}getIndexType(e,t){return ct.resolve(0)}getFieldIndexes(e,t){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,t){return ct.resolve(Pt.min())}getMinOffsetFromCollectionGroup(e,t){return ct.resolve(Pt.min())}updateCollectionGroup(e,t,o){return ct.resolve()}updateIndexEntries(e,t){return ct.resolve()}}class kp{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new ti(Br.comparator),u=!l.has(o);return this.index[t]=l.add(o),u}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new ti(Br.comparator)).toArray()}}const zl=new Uint8Array(0);class x_{constructor(e,t){this.user=e,this.databaseId=t,this.on=new kp,this.un=new Vl(o=>wt(o),(o,l)=>sn(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:o,parent:vo(l)};return vv(e).put(u)}return ct.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[ul(t),""],!1,!0);return vv(e).j(l).next(u=>{for(const m of u){if(m.collectionId!==t)break;o.push(Ao(m.parent))}return o})}addFieldIndex(e,t){const o=kd(e),l={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var m;delete l.indexId;const u=o.add(l);if(t.indexState){const m=Fd(e);return u.next(M=>{m.put(Mp(M,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const o=kd(e),l=Fd(e),u=Uu(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Uu(e);let l=!0;const u=new Map;return ct.forEach(this.cn(t),m=>this.an(e,m).next(M=>{l&&(l=!!M),u.set(m,M)})).next(()=>{if(l){let m=Ar();const M=[];return ct.forEach(u,($,z)=>{var re;Xt("IndexedDbIndexManager",`Using index ${re=$,`id=${re.indexId}|cg=${re.collectionGroup}|f=${re.fields.map(Or=>`${Or.fieldPath}:${Or.kind}`).join(",")}`} to execute ${wt(t)}`);const Fe=function(Or,ji){const eo=S(ji);if(void 0===eo)return null;for(const Pi of Hn(Or,eo.fieldPath))switch(Pi.op){case"array-contains-any":return Pi.value.arrayValue.values||[];case"array-contains":return[Pi.value]}return null}(z,$),mt=function(Or,ji){const eo=new Map;for(const Pi of O(ji))for(const cs of Hn(Or,Pi.fieldPath))switch(cs.op){case"==":case"in":eo.set(Pi.fieldPath.canonicalString(),cs.value);break;case"not-in":case"!=":return eo.set(Pi.fieldPath.canonicalString(),cs.value),Array.from(eo.values())}return null}(z,$),Nt=function(Or,ji){const eo=[];let Pi=!0;for(const cs of O(ji)){const ns=0===cs.kind?Gr(Or,cs.fieldPath,Or.startAt):Ss(Or,cs.fieldPath,Or.startAt);eo.push(ns.value),Pi&&(Pi=ns.inclusive)}return new Xo(eo,Pi)}(z,$),nn=function(Or,ji){const eo=[];let Pi=!0;for(const cs of O(ji)){const ns=0===cs.kind?Ss(Or,cs.fieldPath,Or.endAt):Gr(Or,cs.fieldPath,Or.endAt);eo.push(ns.value),Pi&&(Pi=ns.inclusive)}return new Xo(eo,Pi)}(z,$),An=this.hn($,z,Nt),Tn=this.hn($,z,nn),Rr=this.ln($,z,mt),ui=this.fn($.indexId,Fe,An,Nt.inclusive,Tn,nn.inclusive,Rr);return ct.forEach(ui,Or=>o.H(Or,t.limit).next(ji=>{ji.forEach(eo=>{const Pi=gn.fromSegments(eo.documentKey);m.has(Pi)||(m=m.add(Pi),M.push(Pi))})}))}).next(()=>M)}return ct.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:gv(bi.create(e.filters,"and")).map(o=>tt(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,o,l,u,m,M){const $=(null!=t?t.length:1)*Math.max(o.length,u.length),z=$/(null!=t?t.length:1),re=[];for(let Fe=0;Fe<$;++Fe){const mt=t?this.dn(t[Fe/z]):zl,Nt=this.wn(e,mt,o[Fe%z],l),nn=this._n(e,mt,u[Fe%z],m),An=M.map(Tn=>this.wn(e,mt,Tn,!0));re.push(...this.createRange(Nt,nn,An))}return re}wn(e,t,o,l){const u=new Vu(e,gn.empty(),t,o);return l?u:u.Je()}_n(e,t,o,l){const u=new Vu(e,gn.empty(),t,o);return l?u.Je():u}an(e,t){const o=new OI(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(u=>{let m=null;for(const M of u)o.tn(M)&&(!m||M.fields.length>m.fields.length)&&(m=M);return m})}getIndexType(e,t){let o=2;const l=this.cn(t);return ct.forEach(l,u=>this.an(e,u).next(m=>{m?0!==o&&m.fields.length<function(M){let $=new ti(Li.comparator),z=!1;for(const re of M.filters)for(const Fe of re.getFlattenedFilters())Fe.field.isKeyField()||("array-contains"===Fe.op||"array-contains-any"===Fe.op?z=!0:$=$.add(Fe.field));for(const re of M.orderBy)re.field.isKeyField()||($=$.add(re.field));return $.size+(z?1:0)}(u)&&(o=1):o=0})).next(()=>null!==t.limit&&l.length>1&&2===o?1:o)}mn(e,t){const o=new tf;for(const l of O(e)){const u=t.data.field(l.fieldPath);if(null==u)return null;const m=o.He(l.kind);Qs.Ve._e(u,m)}return o.Qe()}dn(e){const t=new tf;return Qs.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const o=new tf;return Qs.Ve._e(R(this.databaseId,t),o.He(function(l){const u=O(l);return 0===u.length?0:u[u.length-1].kind}(e))),o.Qe()}ln(e,t,o){if(null===o)return[];let l=[];l.push(new tf);let u=0;for(const m of O(e)){const M=o[u++];for(const $ of l)if(this.yn(t,m.fieldPath)&&_e(M))l=this.pn(l,m,M);else{const z=$.He(m.kind);Qs.Ve._e(M,z)}}return this.In(l)}hn(e,t,o){return this.ln(e,t,o.position)}In(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Qe();return t}pn(e,t,o){const l=[...e],u=[];for(const m of o.arrayValue.values||[])for(const M of l){const $=new tf;$.seed(M.Qe()),Qs.Ve._e(m,$.He(t.kind)),u.push($)}return u}yn(e,t){return!!e.filters.find(o=>o instanceof zr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=kd(e),l=Fd(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(u=>{const m=[];return ct.forEach(u,M=>l.get([M.indexId,this.uid]).next($=>{m.push(function(z,re){const Fe=re?new ye(re.sequenceNumber,new Pt(el(re.readTime),new gn(Ao(re.documentKey)),re.largestBatchId)):ye.empty(),mt=z.fields.map(([Nt,nn])=>new F(Li.fromServerFormat(Nt),nn));return new E(z.indexId,z.collectionGroup,mt,Fe)}(M,$))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const u=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==u?u:Yn(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=kd(e),u=Fd(e);return this.Tn(e).next(m=>l.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(M=>ct.forEach(M,$=>u.put(Mp($.indexId,this.user,m,o)))))}updateIndexEntries(e,t){const o=new Map;return ct.forEach(t,(l,u)=>{const m=o.get(l.collectionGroup);return(m?ct.resolve(m):this.getFieldIndexes(e,l.collectionGroup)).next(M=>(o.set(l.collectionGroup,M),ct.forEach(M,$=>this.En(e,l,$).next(z=>{const re=this.An(u,$);return z.isEqual(re)?ct.resolve():this.vn(e,u,$,z,re)}))))})}Rn(e,t,o,l){return Uu(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.gn(o,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,o,l){return Uu(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.gn(o,t.key),t.key.path.toArray()])}En(e,t,o){const l=Uu(e);let u=new ti(yl);return l.X({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.gn(o,t)])},(m,M)=>{u=u.add(new Vu(o.indexId,t,M.arrayValue,M.directionalValue))}).next(()=>u)}An(e,t){let o=new ti(yl);const l=this.mn(t,e);if(null==l)return o;const u=S(t);if(null!=u){const m=e.data.field(u.fieldPath);if(_e(m))for(const M of m.arrayValue.values||[])o=o.add(new Vu(t.indexId,e.key,this.dn(M),l))}else o=o.add(new Vu(t.indexId,e.key,zl,l));return o}vn(e,t,o,l,u){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(M,$,z,re,Fe){const mt=M.getIterator(),Nt=$.getIterator();let nn=Wi(mt),An=Wi(Nt);for(;nn||An;){let Tn=!1,Rr=!1;if(nn&&An){const ui=z(nn,An);ui<0?Rr=!0:ui>0&&(Tn=!0)}else null!=nn?Rr=!0:Tn=!0;Tn?(re(An),An=Wi(Nt)):Rr?(Fe(nn),nn=Wi(mt)):(nn=Wi(mt),An=Wi(Nt))}}(l,u,yl,M=>{m.push(this.Rn(e,t,o,M))},M=>{m.push(this.Pn(e,t,o,M))}),ct.waitFor(m)}Tn(e){let t=1;return Fd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,u)=>{u.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((m,M)=>yl(m,M)).filter((m,M,$)=>!M||0!==yl(m,$[M-1]));const l=[];l.push(e);for(const m of o){const M=yl(m,e),$=yl(m,t);if(0===M)l[0]=e.Je();else if(M>0&&$<0)l.push(m),l.push(m.Je());else if($>0)break}l.push(t);const u=[];for(let m=0;m<l.length;m+=2){if(this.bn(l[m],l[m+1]))return[];u.push(IDBKeyRange.bound([l[m].indexId,this.uid,l[m].arrayValue,l[m].directionalValue,zl,[]],[l[m+1].indexId,this.uid,l[m+1].arrayValue,l[m+1].directionalValue,zl,[]]))}return u}bn(e,t){return yl(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(yv)}getMinOffset(e,t){return ct.mapArray(this.cn(t),o=>this.an(e,o).next(l=>l||wn())).next(yv)}}function vv(i){return Mo(i,"collectionParents")}function Uu(i){return Mo(i,"indexEntries")}function kd(i){return Mo(i,"indexConfiguration")}function Fd(i){return Mo(i,"indexState")}function yv(i){ut(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const l=i[o].indexState.offset;kn(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Pt(e.readTime,e.documentKey,t)}const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bs{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Bs(e,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Fp(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),u=[],m=IDBKeyRange.only(t.batchId);let M=0;const $=o.X({range:m},(re,Fe,mt)=>(M++,mt.delete()));u.push($.next(()=>{ut(1===M)}));const z=[];for(const re of t.mutations){const Fe=Oc(e,re.key.path,t.batchId);u.push(l.delete(Fe)),z.push(re.key)}return ct.waitFor(u).next(()=>z)}function Lp(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw wn();e=i.noDocument}return JSON.stringify(e).length}Bs.DEFAULT_COLLECTION_PERCENTILE=10,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bs.DEFAULT=new Bs(41943040,Bs.DEFAULT_COLLECTION_PERCENTILE,Bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bs.DISABLED=new Bs(-1,0,0);class Bp{constructor(e,t,o,l){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=l,this.Vn={}}static de(e,t,o,l){ut(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Bp(u,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xr(e).X({index:"userMutationsIndex",range:o},(l,u,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const u=_l(e),m=Xr(e);return m.add({}).next(M=>{ut("number"==typeof M);const $=new qh(M,t,o,l),z=function(mt,Nt,nn){const An=nn.baseMutations.map(Rr=>dc(mt.fe,Rr)),Tn=nn.mutations.map(Rr=>dc(mt.fe,Rr));return{userId:Nt,batchId:nn.batchId,localWriteTimeMs:nn.localWriteTime.toMillis(),baseMutations:An,mutations:Tn}}(this.serializer,this.userId,$),re=[];let Fe=new ti((mt,Nt)=>Yn(mt.canonicalString(),Nt.canonicalString()));for(const mt of l){const Nt=Oc(this.userId,mt.key.path,M);Fe=Fe.add(mt.key.path.popLast()),re.push(m.put(z)),re.push(u.put(Nt,Pc))}return Fe.forEach(mt=>{re.push(this.indexManager.addToCollectionParentIndex(e,mt))}),e.addOnCommittedListener(()=>{this.Vn[M]=$.keys()}),ct.waitFor(re).next(()=>$)})}lookupMutationBatch(e,t){return Xr(e).get(t).next(o=>o?(ut(o.userId===this.userId),Qc(this.serializer,o)):null)}Sn(e,t){return this.Vn[t]?ct.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.Vn[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let u=null;return Xr(e).X({index:"userMutationsIndex",range:l},(m,M,$)=>{M.userId===this.userId&&(ut(M.batchId>=o),u=Qc(this.serializer,M)),$.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Xr(e).X({index:"userMutationsIndex",range:t,reverse:!0},(l,u,m)=>{o=u.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xr(e).j("userMutationsIndex",t).next(o=>o.map(l=>Qc(this.serializer,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Eu(this.userId,t.path),l=IDBKeyRange.lowerBound(o),u=[];return _l(e).X({range:l},(m,M,$)=>{const[z,re,Fe]=m,mt=Ao(re);if(z===this.userId&&t.path.isEqual(mt))return Xr(e).get(Fe).next(Nt=>{if(!Nt)throw wn();ut(Nt.userId===this.userId),u.push(Qc(this.serializer,Nt))});$.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ti(Yn);const l=[];return t.forEach(u=>{const m=Eu(this.userId,u.path),M=IDBKeyRange.lowerBound(m),$=_l(e).X({range:M},(z,re,Fe)=>{const[mt,Nt,nn]=z,An=Ao(Nt);mt===this.userId&&u.path.isEqual(An)?o=o.add(nn):Fe.done()});l.push($)}),ct.waitFor(l).next(()=>this.Dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,u=Eu(this.userId,o),m=IDBKeyRange.lowerBound(u);let M=new ti(Yn);return _l(e).X({range:m},($,z,re)=>{const[Fe,mt,Nt]=$,nn=Ao(mt);Fe===this.userId&&o.isPrefixOf(nn)?nn.length===l&&(M=M.add(Nt)):re.done()}).next(()=>this.Dn(e,M))}Dn(e,t){const o=[],l=[];return t.forEach(u=>{l.push(Xr(e).get(u).next(m=>{if(null===m)throw wn();ut(m.userId===this.userId),o.push(Qc(this.serializer,m))}))}),ct.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return Fp(e.ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ct.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ct.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return _l(e).X({range:o},(u,m,M)=>{if(u[0]===this.userId){const $=Ao(u[1]);l.push($)}else M.done()}).next(()=>{ut(0===l.length)})})}containsKey(e,t){return ju(e,this.userId,t)}xn(e){return $p(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ju(i,e,t){const o=Eu(e,t.path),l=o[1],u=IDBKeyRange.lowerBound(o);let m=!1;return _l(i).X({range:u,Y:!0},(M,$,z)=>{const[re,Fe,mt]=M;re===e&&Fe===l&&(m=!0),z.done()}).next(()=>m)}function Xr(i){return Mo(i,"mutations")}function _l(i){return Mo(i,"documentMutations")}function $p(i){return Mo(i,"mutationQueues")}class hc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new hc(0)}static Mn(){return new hc(-1)}}class Vp{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const o=new hc(t.highestTargetId);return t.highestTargetId=o.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>jn.fromTimestamp(new Fi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.$n(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.On(e,l)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(o=>(o.targetCount+=1,this.Bn(t,o),this.On(e,o))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>eu(e).delete(t.targetId)).next(()=>this.$n(e)).next(o=>(ut(o.targetCount>0),o.targetCount-=1,this.On(e,o)))}removeTargets(e,t,o){let l=0;const u=[];return eu(e).X((m,M)=>{const $=Jh(M);$.sequenceNumber<=t&&null===o.get($.targetId)&&(l++,u.push(this.removeTargetData(e,$)))}).next(()=>ct.waitFor(u)).next(()=>l)}forEachTarget(e,t){return eu(e).X((o,l)=>{const u=Jh(l);t(u)})}$n(e){return Iv(e).get("targetGlobalKey").next(t=>(ut(null!==t),t))}On(e,t){return Iv(e).put("targetGlobalKey",t)}Fn(e,t){return eu(e).put(T_(this.serializer,t))}Bn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const o=wt(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let u=null;return eu(e).X({range:l,index:"queryTargetsIndex"},(m,M,$)=>{const z=Jh(M);sn(t,z.target)&&(u=z,$.done())}).next(()=>u)}addMatchingKeys(e,t,o){const l=[],u=Gl(e);return t.forEach(m=>{const M=vo(m.path);l.push(u.put({targetId:o,path:M})),l.push(this.referenceDelegate.addReference(e,o,m))}),ct.waitFor(l)}removeMatchingKeys(e,t,o){const l=Gl(e);return ct.forEach(t,u=>{const m=vo(u.path);return ct.waitFor([l.delete([o,m]),this.referenceDelegate.removeReference(e,o,u)])})}removeMatchingKeysForTargetId(e,t){const o=Gl(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=Gl(e);let u=Ar();return l.X({range:o,Y:!0},(m,M,$)=>{const z=Ao(m[1]),re=new gn(z);u=u.add(re)}).next(()=>u)}containsKey(e,t){const o=vo(t.path),l=IDBKeyRange.bound([o],[ul(o)],!1,!0);let u=0;return Gl(e).X({index:"documentTargetsIndex",Y:!0,range:l},([m,M],$,z)=>{0!==m&&(u++,z.done())}).next(()=>u>0)}le(e,t){return eu(e).get(t).next(o=>o?Jh(o):null)}}function eu(i){return Mo(i,"targets")}function Iv(i){return Mo(i,"targetGlobal")}function Gl(i){return Mo(i,"targetDocuments")}function Up([i,e],[t,o]){const l=Yn(i,t);return 0===l?Yn(e,o):l}class af{constructor(e){this.Ln=e,this.buffer=new ti(Up),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Up(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class R_{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,oe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){vs(o)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ai(o)}yield t.Qn(3e5)}))}}class jp{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return ct.resolve(ss.ct);const o=new af(t);return this.jn.forEachTarget(e,l=>o.Kn(l.sequenceNumber)).next(()=>this.jn.Wn(e,l=>o.Kn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.jn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(_v)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let o,l,u,m,M,$,z;const re=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Fe=>(Fe>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Fe}`),l=this.params.maximumSequenceNumbersToCollect):l=Fe,m=Date.now(),this.nthSequenceNumber(e,l))).next(Fe=>(o=Fe,M=Date.now(),this.removeTargets(e,o,t))).next(Fe=>(u=Fe,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(Fe=>(z=Date.now(),Oa()<=pe.in.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-re}ms\n\tDetermined least recently used ${l} in `+(M-m)+`ms\n\tRemoved ${u} targets in `+($-M)+`ms\n\tRemoved ${Fe} documents in `+(z-$)+`ms\nTotal Duration: ${z-re}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:Fe})))}}class Hp{constructor(e,t){this.db=e,this.garbageCollector=function Ev(i,e){return new jp(i,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}Jn(e){let t=0;return this.Wn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(o,l)=>t(l))}addReference(e,t,o){return Ld(e,o)}removeReference(e,t,o){return Ld(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Ld(e,t)}Xn(e,t){return function(o,l){let u=!1;return $p(o).Z(m=>ju(o,m,l).next(M=>(M&&(u=!0),ct.resolve(!M)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let u=0;return this.Yn(e,(m,M)=>{if(M<=t){const $=this.Xn(e,m).next(z=>{if(!z)return u++,o.getEntry(e,m).next(()=>(o.removeEntry(m,jn.min()),Gl(e).delete([0,vo(m.path)])))});l.push($)}}).next(()=>ct.waitFor(l)).next(()=>o.apply(e)).next(()=>u)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Ld(e,t)}Yn(e,t){const o=Gl(e);let l,u=ss.ct;return o.X({index:"documentTargetsIndex"},([m,M],{path:$,sequenceNumber:z})=>{0===m?(u!==ss.ct&&t(new gn(Ao(l)),u),u=z,l=$):u=ss.ct}).next(()=>{u!==ss.ct&&t(new gn(Ao(l)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ld(i,e){return Gl(i).put((o=i.currentSequenceNumber,{targetId:0,path:vo(e.path),sequenceNumber:o}));var o}class zp{constructor(){this.changes=new Vl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?ct.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tu{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return nu(e).put(o)}removeEntry(e,t,o){return nu(e).delete(function(l,u){const m=l.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Qh(u),m[m.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Zn(e,o)))}getEntry(e,t){let o=li.newInvalidDocument(t);return nu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ru(t))},(l,u)=>{o=this.ts(t,u)}).next(()=>o)}es(e,t){let o={size:0,document:li.newInvalidDocument(t)};return nu(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ru(t))},(l,u)=>{o={document:this.ts(t,u),size:Lp(u)}}).next(()=>o)}getEntries(e,t){let o=As();return this.ns(e,t,(l,u)=>{const m=this.ts(l,u);o=o.insert(l,m)}).next(()=>o)}ss(e,t){let o=As(),l=new wi(gn.comparator);return this.ns(e,t,(u,m)=>{const M=this.ts(u,m);o=o.insert(u,M),l=l.insert(u,Lp(m))}).next(()=>({documents:o,rs:l}))}ns(e,t,o){if(t.isEmpty())return ct.resolve();let l=new ti(tl);t.forEach($=>l=l.add($));const u=IDBKeyRange.bound(ru(l.first()),ru(l.last())),m=l.getIterator();let M=m.getNext();return nu(e).X({index:"documentKeyIndex",range:u},($,z,re)=>{const Fe=gn.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;M&&tl(M,Fe)<0;)o(M,null),M=m.getNext();M&&M.isEqual(Fe)&&(o(M,z),M=m.hasNext()?m.getNext():null),M?re.G(ru(M)):re.done()}).next(()=>{for(;M;)o(M,null),M=m.hasNext()?m.getNext():null})}getDocumentsMatchingQuery(e,t,o,l){const u=t.path,m=[u.popLast().toArray(),u.lastSegment(),Qh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],M=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nu(e).j(IDBKeyRange.bound(m,M,!0)).next($=>{let z=As();for(const re of $){const Fe=this.ts(gn.fromSegments(re.prefixPath.concat(re.collectionGroup,re.documentId)),re);Fe.isFoundDocument()&&(Bh(t,Fe)||l.has(Fe.key))&&(z=z.insert(Fe.key,Fe))}return z})}getAllFromCollectionGroup(e,t,o,l){let u=As();const m=$d(t,o),M=$d(t,Pt.max());return nu(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,M,!0)},($,z,re)=>{const Fe=this.ts(gn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);u=u.insert(Fe.key,Fe),u.size===l&&re.done()}).next(()=>u)}newChangeBuffer(e){return new Gp(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Bd(e).get("remoteDocumentGlobalKey").next(t=>(ut(!!t),t))}Zn(e,t){return Bd(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const o=function C_(i,e){let t;if(e.document)t=nv(i.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=gn.fromSegments(e.noDocument.path),l=el(e.noDocument.readTime);t=li.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return wn();{const o=gn.fromSegments(e.unknownDocument.path),l=el(e.unknownDocument.version);t=li.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new Fi(o[0],o[1]);return jn.fromTimestamp(l)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(jn.min()))return o}return li.newInvalidDocument(e)}}function Dv(i){return new tu(i)}class Gp extends zp{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Vl(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new ti((u,m)=>Yn(u.canonicalString(),m.canonicalString()));return this.changes.forEach((u,m)=>{const M=this.us.get(u);if(t.push(this.os.removeEntry(e,u,M.readTime)),m.isValidDocument()){const $=lv(this.os.serializer,m);l=l.add(u.path.popLast());const z=Lp($);o+=z-M.size,t.push(this.os.addEntry(e,u,$))}else if(o-=M.size,this.trackRemovals){const $=lv(this.os.serializer,m.convertToNoDocument(jn.min()));t.push(this.os.addEntry(e,u,$))}}),l.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,o)),ct.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(o=>(this.us.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:o,rs:l})=>(l.forEach((u,m)=>{this.us.set(u,{size:m,readTime:o.get(u).readTime})}),o))}}function Bd(i){return Mo(i,"remoteDocumentGlobal")}function nu(i){return Mo(i,"remoteDocumentsV14")}function ru(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $d(i,e){const t=e.documentKey.path.toArray();return[i,Qh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function tl(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let u=0;u<t.length-2&&u<o.length-2;++u)if(l=Yn(t[u],o[u]),l)return l;return l=Yn(t.length,o.length),l||(l=Yn(t[t.length-2],o[o.length-2]),l||Yn(t[t.length-1],o[o.length-1]))}class lf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cf{constructor(e,t,o,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,t))).next(l=>(null!==o&&Id(o.mutation,l,Yo.empty(),Fi.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Ar()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Ar()){const l=Zs();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,o).next(u=>{let m=Mu();return u.forEach((M,$)=>{m=m.insert(M,$.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const o=Zs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Ar()))}populateOverlays(e,t,o){const l=[];return o.forEach(u=>{t.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((m,M)=>{t.set(m,M)})})}computeViews(e,t,o,l){let u=As();const m=xu(),M=xu();return t.forEach(($,z)=>{const re=o.get(z.key);l.has(z.key)&&(void 0===re||re.mutation instanceof jl)?u=u.insert(z.key,z):void 0!==re?(m.set(z.key,re.mutation.getFieldMask()),Id(re.mutation,z,re.mutation.getFieldMask(),Fi.now())):m.set(z.key,Yo.empty())}),this.recalculateAndSaveOverlays(e,u).next($=>($.forEach((z,re)=>m.set(z,re)),t.forEach((z,re)=>{var Fe;return M.set(z,new lf(re,null!==(Fe=m.get(z))&&void 0!==Fe?Fe:null))}),M))}recalculateAndSaveOverlays(e,t){const o=xu();let l=new wi((m,M)=>m-M),u=Ar();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const M of m)M.keys().forEach($=>{const z=t.get($);if(null===z)return;let re=o.get($)||Yo.empty();re=M.applyToLocalView(z,re),o.set($,re);const Fe=(l.get(M.batchId)||Ar()).add($);l=l.insert(M.batchId,Fe)})}).next(()=>{const m=[],M=l.getReverseIterator();for(;M.hasNext();){const $=M.getNext(),z=$.key,re=$.value,Fe=vp();re.forEach(mt=>{if(!u.has(mt)){const Nt=Um(t.get(mt),o.get(mt));null!==Nt&&Fe.set(mt,Nt),u=u.add(mt)}}),m.push(this.documentOverlayCache.saveOverlays(e,z,Fe))}return ct.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return gn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Tu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var l}getNextDocuments(e,t,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,l).next(u=>{const m=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,l-u.size):ct.resolve(Zs());let M=-1,$=u;return m.next(z=>ct.forEach(z,(re,Fe)=>(M<Fe.largestBatchId&&(M=Fe.largestBatchId),u.get(re)?ct.resolve():this.remoteDocumentCache.getEntry(e,re).next(mt=>{$=$.insert(re,mt)}))).next(()=>this.populateOverlays(e,z,u)).next(()=>this.computeViews(e,$,z,Ar())).next(re=>({batchId:M,changes:mp(re)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gn(t)).next(o=>{let l=Mu();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const l=t.collectionGroup;let u=Mu();return this.indexManager.getCollectionParents(e,l).next(m=>ct.forEach(m,M=>{const $=(z=t,re=M.child(l),new Qo(re,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,re;return this.getDocumentsMatchingCollectionQuery(e,$,o).next(z=>{z.forEach((re,Fe)=>{u=u.insert(re,Fe)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l))).next(u=>{l.forEach((M,$)=>{const z=$.getKey();null===u.get(z)&&(u=u.insert(z,li.newInvalidDocument(z)))});let m=Mu();return u.forEach((M,$)=>{const z=l.get(M);void 0!==z&&Id(z.mutation,$,Yo.empty(),Fi.now()),Bh(t,$)&&(m=m.insert(M,$))}),m})}}class O_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ct.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var o;return this.cs.set(t.id,{id:(o=t).id,version:o.version,createTime:Ho(o.createTime)}),ct.resolve()}getNamedQuery(e,t){return ct.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(o=t).name,query:cv(o.bundledQuery),readTime:Ho(o.readTime)}),ct.resolve();var o}}class P_{constructor(){this.overlays=new wi(gn.comparator),this.ls=new Map}getOverlay(e,t){return ct.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Zs();return ct.forEach(t,l=>this.getOverlay(e,l).next(u=>{null!==u&&o.set(l,u)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((l,u)=>{this.we(e,t,u)}),ct.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.ls.get(o);return void 0!==l&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(o)),ct.resolve()}getOverlaysForCollection(e,t,o){const l=Zs(),u=t.length+1,m=new gn(t.child("")),M=this.overlays.getIteratorFrom(m);for(;M.hasNext();){const $=M.getNext().value,z=$.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===u&&$.largestBatchId>o&&l.set($.getKey(),$)}return ct.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let u=new wi((z,re)=>z-re);const m=this.overlays.getIterator();for(;m.hasNext();){const z=m.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>o){let re=u.get(z.largestBatchId);null===re&&(re=Zs(),u=u.insert(z.largestBatchId,re)),re.set(z.getKey(),z)}}const M=Zs(),$=u.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((z,re)=>M.set(z,re)),!(M.size()>=l)););return ct.resolve(M)}we(e,t,o){const l=this.overlays.get(o.key);if(null!==l){const m=this.ls.get(l.largestBatchId).delete(o.key);this.ls.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new ku(t,o));let u=this.ls.get(t);void 0===u&&(u=Ar(),this.ls.set(t,u)),this.ls.set(t,u.add(o.key))}}class uf{constructor(){this.fs=new ti(Oo.ds),this.ws=new ti(Oo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const o=new Oo(e,t);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.ys(new Oo(e,t))}ps(e,t){e.forEach(o=>this.removeReference(o,t))}Is(e){const t=new gn(new Br([])),o=new Oo(t,e),l=new Oo(t,e+1),u=[];return this.ws.forEachInRange([o,l],m=>{this.ys(m),u.push(m.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new gn(new Br([])),o=new Oo(t,e),l=new Oo(t,e+1);let u=Ar();return this.ws.forEachInRange([o,l],m=>{u=u.add(m.key)}),u}containsKey(e){const t=new Oo(e,0),o=this.fs.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Oo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return gn.comparator(e.key,t.key)||Yn(e.As,t.As)}static _s(e,t){return Yn(e.As,t.As)||gn.comparator(e.key,t.key)}}class N_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ti(Oo.ds)}checkEmpty(e){return ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,l){const u=this.vs;this.vs++;const m=new qh(u,t,o,l);this.mutationQueue.push(m);for(const M of l)this.Rs=this.Rs.add(new Oo(M.key,u)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return ct.resolve(m)}lookupMutationBatch(e,t){return ct.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.bs(t+1),u=l<0?0:l;return ct.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Oo(t,0),l=new Oo(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([o,l],m=>{const M=this.Ps(m.As);u.push(M)}),ct.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new ti(Yn);return t.forEach(l=>{const u=new Oo(l,0),m=new Oo(l,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,m],M=>{o=o.add(M.As)})}),ct.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let u=o;gn.isDocumentKey(u)||(u=u.child(""));const m=new Oo(new gn(u),0);let M=new ti(Yn);return this.Rs.forEachWhile($=>{const z=$.key.path;return!!o.isPrefixOf(z)&&(z.length===l&&(M=M.add($.As)),!0)},m),ct.resolve(this.Vs(M))}Vs(e){const t=[];return e.forEach(o=>{const l=this.Ps(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){ut(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return ct.forEach(t.mutations,l=>{const u=new Oo(l.key,t.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,t){const o=new Oo(t,0),l=this.Rs.firstAfterOrEqual(o);return ct.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return ct.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class k_{constructor(e){this.Ds=e,this.docs=new wi(gn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),u=l?l.size:0,m=this.Ds(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m}),this.size+=m-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ct.resolve(o?o.document.mutableCopy():li.newInvalidDocument(t))}getEntries(e,t){let o=As();return t.forEach(l=>{const u=this.docs.get(l);o=o.insert(l,u?u.document.mutableCopy():li.newInvalidDocument(l))}),ct.resolve(o)}getDocumentsMatchingQuery(e,t,o,l){let u=As();const m=t.path,M=new gn(m.child("")),$=this.docs.getIteratorFrom(M);for(;$.hasNext();){const{key:z,value:{document:re}}=$.getNext();if(!m.isPrefixOf(z.path))break;z.path.length>m.length+1||kn(At(re),o)<=0||(l.has(re.key)||Bh(t,re))&&(u=u.insert(re.key,re.mutableCopy()))}return ct.resolve(u)}getAllFromCollectionGroup(e,t,o,l){wn()}Cs(e,t){return ct.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new F_(this)}getSize(e){return ct.resolve(this.size)}}class F_ extends zp{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.os.addEntry(e,l)):this.os.removeEntry(o)}),ct.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Wp{constructor(e){this.persistence=e,this.xs=new Vl(t=>wt(t),sn),this.lastRemoteSnapshotVersion=jn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new uf,this.targetCount=0,this.Ms=hc.kn()}forEachTarget(e,t){return this.xs.forEach((o,l)=>t(l)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ns&&(this.Ns=t),ct.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new hc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ct.resolve()}updateTargetData(e,t){return this.Fn(t),ct.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,t,o){let l=0;const u=[];return this.xs.forEach((m,M)=>{M.sequenceNumber<=t&&null===o.get(M.targetId)&&(this.xs.delete(m),u.push(this.removeMatchingKeysForTargetId(e,M.targetId)),l++)}),ct.waitFor(u).next(()=>l)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,t){const o=this.xs.get(t)||null;return ct.resolve(o)}addMatchingKeys(e,t,o){return this.ks.gs(t,o),ct.resolve()}removeMatchingKeys(e,t,o){this.ks.ps(t,o);const l=this.persistence.referenceDelegate,u=[];return l&&t.forEach(m=>{u.push(l.markPotentiallyOrphaned(e,m))}),ct.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ct.resolve()}getMatchingKeysForTargetId(e,t){const o=this.ks.Es(t);return ct.resolve(o)}containsKey(e,t){return ct.resolve(this.ks.containsKey(t))}}class df{constructor(e,t){this.$s={},this.overlays={},this.Os=new ss(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wp(this),this.indexManager=new Np,this.remoteDocumentCache=new k_(o=>this.referenceDelegate.Ls(o)),this.serializer=new av(t),this.qs=new O_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new P_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.$s[e.toKey()];return o||(o=new N_(t,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,o){Xt("MemoryPersistence","Starting transaction:",e);const l=new L_(this.Os.next());return this.referenceDelegate.Us(),o(l).next(u=>this.referenceDelegate.Ks(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}Gs(e,t){return ct.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,t)))}}class L_ extends nr{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Qs=new uf,this.js=null}static zs(e){return new Vd(e)}get Ws(){if(this.js)return this.js;throw wn()}addReference(e,t,o){return this.Qs.addReference(o,t),this.Ws.delete(o.toString()),ct.resolve()}removeReference(e,t,o){return this.Qs.removeReference(o,t),this.Ws.add(o.toString()),ct.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ct.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(l=>this.Ws.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(u=>this.Ws.add(u.toString()))}).next(()=>o.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Ws,o=>{const l=gn.fromPath(o);return this.Hs(e,l).next(u=>{u||t.removeEntry(l,jn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(o=>{o?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ct.or([()=>ct.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class PI{constructor(e){this.serializer=e}O(e,t,o,l){const u=new ks("createOrUpgrade",t);var M;o<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dl,{unique:!0}),M.createObjectStore("documentMutations"),B_(e),function(M){M.createObjectStore("remoteDocuments")}(e));let m=ct.resolve();return o<3&&l>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),B_(e)),m=m.next(()=>function(M){const $=M.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:jn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",z)}(u))),o<4&&l>=4&&(0!==o&&(m=m.next(()=>function(M,$){return $.store("mutations").j().next(z=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dl,{unique:!0});const re=$.store("mutations"),Fe=z.map(mt=>re.put(mt));return ct.waitFor(Fe)})}(e,u))),m=m.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(m=m.next(()=>this.Ys(u))),o<6&&l>=6&&(m=m.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),o<7&&l>=7&&(m=m.next(()=>this.Zs(u))),o<8&&l>=8&&(m=m.next(()=>this.ti(e,u))),o<9&&l>=9&&(m=m.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(m=m.next(()=>this.ei(u))),o<11&&l>=11&&(m=m.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(m=m.next(()=>{!function(M){const $=M.createObjectStore("documentOverlays",{keyPath:Nl});$.createIndex("collectionPathOverlayIndex",Lc,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Bc,{unique:!1})}(e)})),o<13&&l>=13&&(m=m.next(()=>function(M){const $=M.createObjectStore("remoteDocumentsV14",{keyPath:hl});$.createIndex("documentKeyIndex",Nc),$.createIndex("collectionGroupIndex",Pl)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(m=m.next(()=>this.si(e,u))),o<15&&l>=15&&(m=m.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Fc}).createIndex("sequenceNumberIndex",Du,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Ea}).createIndex("documentKeyIndex",pd,{unique:!1})}(e))),m}Xs(e){let t=0;return e.store("remoteDocuments").X((o,l)=>{t+=Lp(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Ys(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(l=>ct.forEach(l,u=>{const m=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",m).next(M=>ct.forEach(M,$=>{ut($.userId===u.userId);const z=Qc(this.serializer,$);return Fp(e,u.userId,z).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const u=[];return o.X((m,M)=>{const $=new Br(m),z=[0,vo($)];u.push(t.get(z).next(re=>re?ct.resolve():t.put({targetId:0,path:vo($),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>ct.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:fl});const o=t.store("collectionParents"),l=new kp,u=m=>{if(l.add(m)){const M=m.lastSegment(),$=m.popLast();return o.put({collectionId:M,parent:vo($)})}};return t.store("remoteDocuments").X({Y:!0},(m,M)=>{const $=new Br(m);return u($.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([m,M,$],z)=>{const re=Ao(M);return u(re.popLast())}))}ei(e){const t=e.store("targets");return t.X((o,l)=>{const u=Jh(l),m=T_(this.serializer,u);return t.put(m)})}ni(e,t){const o=t.store("remoteDocuments"),l=[];return o.X((u,m)=>{const M=t.store("remoteDocumentsV14"),$=(z=m,z.document?new gn(Br.fromString(z.document.name).popFirst(5)):z.noDocument?gn.fromSegments(z.noDocument.path):z.unknownDocument?gn.fromSegments(z.unknownDocument.path):wn()).path.toArray();var z;const re={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};l.push(M.put(re))}).next(()=>ct.waitFor(l))}si(e,t){const o=t.store("mutations"),l=Dv(this.serializer),u=new df(Vd.zs,this.serializer.fe);return o.j().next(m=>{const M=new Map;return m.forEach($=>{var z;let re=null!==(z=M.get($.userId))&&void 0!==z?z:Ar();Qc(this.serializer,$).keys().forEach(Fe=>re=re.add(Fe)),M.set($.userId,re)}),ct.forEach(M,($,z)=>{const re=new go(z),Fe=ef.de(this.serializer,re),mt=u.getIndexManager(re),Nt=Bp.de(re,this.serializer,mt,u.referenceDelegate);return new cf(l,Nt,Fe,mt).recalculateAndSaveOverlaysForDocumentKeys(new ec(t,ss.ct),$).next()})})}}function B_(i){i.createObjectStore("targetDocuments",{keyPath:kc}).createIndex("documentTargetsIndex",hp,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ia,{unique:!0}),i.createObjectStore("targetGlobal")}const qp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yp{constructor(e,t,o,l,u,m,M,$,z,re,Fe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.ii=u,this.window=m,this.document=M,this.ri=z,this.oi=re,this.ui=Fe,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=mt=>Promise.resolve(),!Yp.D())throw new Ot(Dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hp(this,l),this.di=t+"main",this.serializer=new av($),this.wi=new Uo(this.di,this.ui,new PI(this.serializer)),this.Bs=new Vp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Dv(this.serializer),this.qs=new A_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===re&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ot(Dt.FAILED_PRECONDITION,qp);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ss(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var o=(0,oe.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,oe.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,oe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(vs(e))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return hf(e).get("owner").next(t=>ct.resolve(this.Ri(t)))}Pi(e){return Kp(e).delete(this.clientId)}bi(){var e=this;return(0,oe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Mo(o,"clientMetadata");return l.j().next(u=>{const m=e.Si(u,18e5),M=u.filter($=>-1===m.indexOf($));return ct.forEach(M,$=>l.delete($.clientId)).next(()=>M)})}).catch(()=>[]);if(e._i)for(const o of t)e._i.removeItem(e.Di(o.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ct.resolve(!0):hf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ot(Dt.FAILED_PRECONDITION,qp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kp(e).j().next(o=>void 0===this.Si(o,5e3).find(l=>!(this.clientId===l.clientId||!(!this.networkEnabled&&l.networkEnabled||!this.inForeground&&l.inForeground&&this.networkEnabled===l.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Xt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,oe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new ec(t,ss.ct);return e.Ai(o).next(()=>e.Pi(o))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(o=>this.Vi(o.updateTimeMs,t)&&!this.Ci(o.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Kp(e).j().next(t=>this.Si(t,18e5).map(o=>o.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Bp.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new x_(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ef.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,o){Xt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",u=15===(m=this.ui)?Jl:14===m?$c:13===m?wu:12===m?kl:11===m?pl:void wn();var m;let M;return this.wi.runTransaction(e,l,u,$=>(M=new ec($,this.Os?this.Os.next():ss.ct),"readwrite-primary"===t?this.Ti(M).next(z=>!!z||this.Ei(M)).next(z=>{if(!z)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ot(Dt.FAILED_PRECONDITION,On);return o(M)}).next(z=>this.vi(M).next(()=>z)):this.Oi(M).next(()=>o(M)))).then($=>(M.raiseOnCommittedEvent(),$))}Oi(e){return hf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ot(Dt.FAILED_PRECONDITION,qp)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hf(e).put("owner",t)}static D(){return Uo.D()}Ai(e){const t=hf(e);return t.get("owner").next(o=>this.Ri(o)?(Xt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ct.resolve())}Vi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Ei(`Detected an update time that is in the future: ${e} > ${o}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Re.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const o=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Xt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ei("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function hf(i){return Mo(i,"owner")}function Kp(i){return Mo(i,"clientMetadata")}function zu(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Zp{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Fi=o,this.Bi=l}static Li(e,t){let o=Ar(),l=Ar();for(const u of t.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Zp(e,t.fromCache,o,l)}}class ff{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,o,l){return this.Ki(e,t).next(u=>u||this.Gi(e,t,l,o)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Gc(t))return ct.resolve(null);let o=_s(t);return this.indexManager.getIndexType(e,o).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=Su(t,null,"F"),o=_s(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const m=Ar(...u);return this.Ui.getDocuments(e,m).next(M=>this.indexManager.getMinOffset(e,o).next($=>{const z=this.ji(t,M);return this.zi(t,z,m,$.readTime)?this.Ki(e,Su(t,null,"F")):this.Wi(e,z,t,$)}))})))}Gi(e,t,o,l){return Gc(t)||l.isEqual(jn.min())?this.Qi(e,t):this.Ui.getDocuments(e,o).next(u=>{const m=this.ji(t,u);return this.zi(t,m,o,l)?this.Qi(e,t):(Oa()<=pe.in.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Lh(t)),this.Wi(e,m,t,Oe(l,-1)))})}ji(e,t){let o=new ti(f_(e));return t.forEach((l,u)=>{Bh(e,u)&&(o=o.add(u))}),o}zi(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Qi(e,t){return Oa()<=pe.in.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",Lh(t)),this.Ui.getDocumentsMatchingQuery(e,t,Pt.min())}Wi(e,t,o,l){return this.Ui.getDocumentsMatchingQuery(e,o,l).next(u=>(t.forEach(m=>{u=u.insert(m.key,m)}),u))}}class Xp{constructor(e,t,o,l){this.persistence=e,this.Hi=t,this.serializer=l,this.Ji=new wi(Yn),this.Yi=new Vl(u=>wt(u),sn),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function iu(i,e,t,o){return new Xp(i,e,t,o)}function Ud(i,e){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,oe.Z)(function*(i,e){const t=vn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.mutationQueue.getAllMutationBatches(o).next(u=>(l=u,t.tr(e),t.mutationQueue.getAllMutationBatches(o))).next(u=>{const m=[],M=[];let $=Ar();for(const z of l){m.push(z.batchId);for(const re of z.mutations)$=$.add(re.key)}for(const z of u){M.push(z.batchId);for(const re of z.mutations)$=$.add(re.key)}return t.localDocuments.getDocuments(o,$).next(z=>({er:z,removedBatchIds:m,addedBatchIds:M}))})})}),Gu.apply(this,arguments)}function qu(i){const e=vn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Qp(i,e,t){let o=Ar(),l=Ar();return t.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let m=As();return t.forEach((M,$)=>{const z=u.get(M);$.isFoundDocument()!==z.isFoundDocument()&&(l=l.add(M)),$.isNoDocument()&&$.version.isEqual(jn.min())?(e.removeEntry(M,$.readTime),m=m.insert(M,$)):!z.isValidDocument()||$.version.compareTo(z.version)>0||0===$.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry($),m=m.insert(M,$)):Xt("LocalStore","Ignoring outdated watch update for ",M,". Current version:",z.version," Watch version:",$.version)}),{nr:m,sr:l}})}function pf(i,e){const t=vn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Il(i,e){const t=vn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.Bs.getTargetData(o,e).next(u=>u?(l=u,ct.resolve(l)):t.Bs.allocateTargetId(o).next(m=>(l=new Hl(e,m,"TargetPurposeListen",o.currentSequenceNumber),t.Bs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.Ji.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(o.targetId,o),t.Yi.set(e,o.targetId)),o})}function Hd(i,e,t){return zd.apply(this,arguments)}function zd(){return zd=(0,oe.Z)(function*(i,e,t){const o=vn(i),l=o.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",u,m=>o.persistence.referenceDelegate.removeTarget(m,l)))}catch(m){if(!vs(m))throw m;Xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(l.target)}),zd.apply(this,arguments)}function fc(i,e,t){const o=vn(i);let l=jn.min(),u=Ar();return o.persistence.runTransaction("Execute query","readonly",m=>function(M,$,z){const re=vn(M),Fe=re.Yi.get(z);return void 0!==Fe?ct.resolve(re.Ji.get(Fe)):re.Bs.getTargetData($,z)}(o,m,_s(e)).next(M=>{if(M)return l=M.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(m,M.targetId).next($=>{u=$})}).next(()=>o.Hi.getDocumentsMatchingQuery(m,e,t?l:jn.min(),t?u:Ar())).next(M=>(bv(o,h_(e),M),{documents:M,ir:u})))}function wv(i,e){const t=vn(i),o=vn(t.Bs),l=t.Ji.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",u=>o.le(u,e).next(m=>m?m.target:null))}function Jp(i,e){const t=vn(i),o=t.Xi.get(e)||jn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Zi.getAllFromCollectionGroup(l,e,Oe(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(bv(t,e,l),l))}function bv(i,e,t){let o=i.Xi.get(e)||jn.min();t.forEach((l,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),i.Xi.set(e,o)}function Gd(){return Gd=(0,oe.Z)(function*(i,e,t,o){const l=vn(i);let u=Ar(),m=As();for(const z of t){const re=e.rr(z.metadata.name);z.document&&(u=u.add(re));const Fe=e.ur(z);Fe.setReadTime(e.cr(z.metadata.readTime)),m=m.insert(re,Fe)}const M=l.Zi.newChangeBuffer({trackRemovals:!0}),$=yield Il(l,(z=o,_s(Bl(Br.fromString(`__bundle__/docs/${z}`)))));var z;return l.persistence.runTransaction("Apply bundle documents","readwrite",z=>Qp(z,M,m).next(re=>(M.apply(z),re)).next(re=>l.Bs.removeMatchingKeysForTargetId(z,$.targetId).next(()=>l.Bs.addMatchingKeys(z,u,$.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(z,re.nr,re.sr)).next(()=>re.nr)))}),Gd.apply(this,arguments)}function Cv(i,e){return eg.apply(this,arguments)}function eg(){return eg=(0,oe.Z)(function*(i,e,t=Ar()){const o=yield Il(i,_s(cv(e.bundledQuery))),l=vn(i);return l.persistence.runTransaction("Save named query","readwrite",u=>{const m=Ho(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return l.qs.saveNamedQuery(u,e);const M=o.withResumeToken(Xi.EMPTY_BYTE_STRING,m);return l.Ji=l.Ji.insert(M.targetId,M),l.Bs.updateTargetData(u,M).next(()=>l.Bs.removeMatchingKeysForTargetId(u,o.targetId)).next(()=>l.Bs.addMatchingKeys(u,t,o.targetId)).next(()=>l.qs.saveNamedQuery(u,e))})}),eg.apply(this,arguments)}function Tv(i,e){return`firestore_clients_${i}_${e}`}function V_(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function tg(i,e){return`firestore_targets_${i}_${e}`}class ou{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static ar(e,t,o){const l=JSON.parse(o);let u,m="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return m&&l.error&&(m="string"==typeof l.error.message&&"string"==typeof l.error.code,m&&(u=new Ot(l.error.code,l.error.message))),m?new ou(e,t,l.state,u):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class su{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static ar(e,t){const o=JSON.parse(t);let l,u="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return u&&o.error&&(u="string"==typeof o.error.message&&"string"==typeof o.error.code,u&&(l=new Ot(o.error.code,o.error.message))),u?new su(e,o.state,l):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,u=yp();for(let m=0;l&&m<o.activeTargetIds.length;++m)l=Rc(o.activeTargetIds[m]),u=u.add(o.activeTargetIds[m]);return l?new gf(e,u):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mf{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mf(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Wd{constructor(){this.activeTargetIds=yp()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yu{constructor(e,t,o,l,u){this.window=e,this.ii=t,this.persistenceKey=o,this.wr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new wi(Yn),this.started=!1,this.yr=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=Tv(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Wd),this.Tr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,oe.Z)(function*(){const t=yield e.syncEngine.$i();for(const l of t){if(l===e.wr)continue;const u=e.getItem(Tv(e.persistenceKey,l));if(u){const m=gf.ar(l,u);m&&(e.gr=e.gr.insert(m.clientId,m))}}e.Pr();const o=e.storage.getItem(e.vr);if(o){const l=e.br(o);l&&e.Vr(l)}for(const l of e.yr)e.mr(l);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,o){this.Dr(e,t,o),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(tg(this.persistenceKey,e));if(o){const l=su.ar(e,o);l&&(t=l.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tg(this.persistenceKey,e))}updateQueryState(e,t,o){this.kr(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.Cr(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xt("SharedClientState","READ",e,t),t}setItem(e,t){Xt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Xt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.pr)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,oe.Z)(function*(){if(t.started){if(null!==o.key)if(t.Tr.test(o.key)){if(null==o.newValue){const l=t.Or(o.key);return t.Fr(l,null)}{const l=t.Br(o.key,o.newValue);if(l)return t.Fr(l.clientId,l)}}else if(t.Er.test(o.key)){if(null!==o.newValue){const l=t.Lr(o.key,o.newValue);if(l)return t.qr(l)}}else if(t.Ar.test(o.key)){if(null!==o.newValue){const l=t.Ur(o.key,o.newValue);if(l)return t.Kr(l)}}else if(o.key===t.vr){if(null!==o.newValue){const l=t.br(o.newValue);if(l)return t.Vr(l)}}else if(o.key===t.Ir){const l=function(u){let m=ss.ct;if(null!=u)try{const M=JSON.parse(u);ut("number"==typeof M),m=M}catch(M){Ei("SharedClientState","Failed to read sequence number from WebStorage",M)}return m}(o.newValue);l!==ss.ct&&t.sequenceNumberHandler(l)}else if(o.key===t.Rr){const l=t.Gr(o.newValue);yield Promise.all(l.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(o)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,o){const l=new ou(this.currentUser,e,t,o),u=V_(this.persistenceKey,this.currentUser,e);this.setItem(u,l.hr())}Cr(e){const t=V_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,o){const l=tg(this.persistenceKey,e),u=new su(e,t,o);this.setItem(l,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const o=this.Or(e);return gf.ar(o,t)}Lr(e,t){const o=this.Er.exec(e),l=Number(o[1]);return ou.ar(new go(void 0!==o[2]?o[2]:null),l,t)}Ur(e,t){const o=this.Ar.exec(e),l=Number(o[1]);return su.ar(l,t)}br(e){return mf.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,oe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const o=t?this.gr.insert(e,t):this.gr.remove(e),l=this.Sr(this.gr),u=this.Sr(o),m=[],M=[];return u.forEach($=>{l.has($)||m.push($)}),l.forEach($=>{u.has($)||M.push($)}),this.syncEngine.Wr(m,M).then(()=>{this.gr=o})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=yp();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class Sv{constructor(){this.Hr=new Wd,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,o){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Wd,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Av{Yr(e){}shutdown(){}}class Mv{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qd=null;function xv(){return null===qd?qd=268435456+Math.round(2147483648*Math.random()):qd++,"0x"+qd.toString(16)}const U_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const $s="WebChannelConnection";class Ku extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,o,l,u){const m=xv(),M=this.To(e,t);Xt("RestConnection",`Sending RPC '${e}' ${m}:`,M,o);const $={};return this.Eo($,l,u),this.Ao(e,M,$,o).then(z=>(Xt("RestConnection",`Received RPC '${e}' ${m}: `,z),z),z=>{throw gs("RestConnection",`RPC '${e}' ${m} failed with error: `,z,"url: ",M,"request:",o),z})}vo(e,t,o,l,u,m){return this.Io(e,t,o,l,u)}Eo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+ra,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,u)=>e[u]=l),o&&o.headers.forEach((l,u)=>e[u]=l)}To(e,t){return`${this.mo}/v1/${t}:${U_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,o,l){const u=xv();return new Promise((m,M)=>{const $=new Mc;$.setWithCredentials(!0),$.listenOnce(ps.COMPLETE,()=>{try{switch($.getLastErrorCode()){case Zi.NO_ERROR:const re=$.getResponseJson();Xt($s,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(re)),m(re);break;case Zi.TIMEOUT:Xt($s,`RPC '${e}' ${u} timed out`),M(new Ot(Dt.DEADLINE_EXCEEDED,"Request time out"));break;case Zi.HTTP_ERROR:const Fe=$.getStatus();if(Xt($s,`RPC '${e}' ${u} failed with status:`,Fe,"response text:",$.getResponseText()),Fe>0){let mt=$.getResponseJson();Array.isArray(mt)&&(mt=mt[0]);const Nt=null==mt?void 0:mt.error;if(Nt&&Nt.status&&Nt.message){const nn=function(An){const Tn=An.toLowerCase().replace(/_/g,"-");return Object.values(Dt).indexOf(Tn)>=0?Tn:Dt.UNKNOWN}(Nt.status);M(new Ot(nn,Nt.message))}else M(new Ot(Dt.UNKNOWN,"Server responded with status "+$.getStatus()))}else M(new Ot(Dt.UNAVAILABLE,"Connection failed."));break;default:wn()}}finally{Xt($s,`RPC '${e}' ${u} completed.`)}});const z=JSON.stringify(l);Xt($s,`RPC '${e}' ${u} sending request:`,l),$.send(t,"POST",z,o,15)})}Ro(e,t,o){const l=xv(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=qo(),M=Ki(),$={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&($.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&($.xmlHttpFactory=new al({})),this.Eo($.initMessageHeaders,t,o),$.encodeInitMessageHeaders=!0;const re=u.join("");Xt($s,`Creating RPC '${e}' stream ${l}: ${re}`,$);const Fe=m.createWebChannel(re,$);let mt=!1,Nt=!1;const nn=new vf({ro:Tn=>{Nt?Xt($s,`Not sending because RPC '${e}' stream ${l} is closed:`,Tn):(mt||(Xt($s,`Opening RPC '${e}' stream ${l} transport.`),Fe.open(),mt=!0),Xt($s,`RPC '${e}' stream ${l} sending:`,Tn),Fe.send(Tn))},oo:()=>Fe.close()}),An=(Tn,Rr,ui)=>{Tn.listen(Rr,Or=>{try{ui(Or)}catch(ji){setTimeout(()=>{throw ji},0)}})};return An(Fe,Gs.EventType.OPEN,()=>{Nt||Xt($s,`RPC '${e}' stream ${l} transport opened.`)}),An(Fe,Gs.EventType.CLOSE,()=>{Nt||(Nt=!0,Xt($s,`RPC '${e}' stream ${l} transport closed`),nn.wo())}),An(Fe,Gs.EventType.ERROR,Tn=>{Nt||(Nt=!0,gs($s,`RPC '${e}' stream ${l} transport errored:`,Tn),nn.wo(new Ot(Dt.UNAVAILABLE,"The operation could not be completed")))}),An(Fe,Gs.EventType.MESSAGE,Tn=>{var Rr;if(!Nt){const ui=Tn.data[0];ut(!!ui);const ji=ui.error||(null===(Rr=ui[0])||void 0===Rr?void 0:Rr.error);if(ji){Xt($s,`RPC '${e}' stream ${l} received error:`,ji);const eo=ji.status;let Pi=function(ns){const z0=Ro[ns];if(void 0!==z0)return qm(z0)}(eo),cs=ji.message;void 0===Pi&&(Pi=Dt.INTERNAL,cs="Unknown error status: "+eo+" with message "+ji.message),Nt=!0,nn.wo(new Ot(Pi,cs)),Fe.close()}else Xt($s,`RPC '${e}' stream ${l} received:`,ui),nn._o(ui)}}),An(M,Ml.STAT_EVENT,Tn=>{Tn.stat===va.PROXY?Xt($s,`RPC '${e}' stream ${l} detected buffering proxy`):Tn.stat===va.NOPROXY&&Xt($s,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{nn.fo()},0),nn}}function Zu(){return typeof window<"u"?window:null}function yf(){return typeof document<"u"?document:null}function Xu(i){return new Qm(i,!0)}class ng{constructor(e,t,o=1e3,l=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=o,this.bo=l,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),l=Math.max(0,t-o);l>0&&Xt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,l,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Rv{constructor(e,t,o,l,u,m,M,$){this.ii=e,this.$o=o,this.Oo=l,this.connection=u,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=M,this.listener=$,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ng(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,oe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,oe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var o=this;return(0,oe.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():t&&t.code===Dt.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):t&&t.code===Dt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Fo===t&&this.Zo(o,l)},o=>{e(()=>{const l=new Ot(Dt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(l)})})}Zo(e,t){const o=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(l=>{o(()=>this.tu(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Go(){var e=this;this.state=5,this.qo.No((0,oe.Z)(function*(){e.state=0,e.start()}))}tu(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j_ extends Rv{constructor(e,t,o,l,u,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,m),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function iv(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:wn(),l=e.targetChange.targetIds||[],u=function($,z){return $.useProto3Json?(ut(void 0===z||"string"==typeof z),Xi.fromBase64String(z||"")):(ut(void 0===z||z instanceof Uint8Array),Xi.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,M=m&&function($){const z=void 0===$.code?Dt.UNKNOWN:qm($.code);return new Ot(z,$.message||"")}(m);t=new bp(o,l,u,M||null)}else if("documentChange"in e){const o=e.documentChange,l=Ba(i,o.document.name),u=Ho(o.document.updateTime),m=o.document.createTime?Ho(o.document.createTime):jn.min(),M=new Zr({mapValue:{fields:o.document.fields}}),$=li.newFoundDocument(l,u,m,M);t=new Cd(o.targetIds||[],o.removedTargetIds||[],$.key,$)}else if("documentDelete"in e){const o=e.documentDelete,l=Ba(i,o.document),u=o.readTime?Ho(o.readTime):jn.min(),m=li.newNoDocument(l,u);t=new Cd([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,l=Ba(i,o.document);t=new Cd([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return wn();{const o=e.filter,{count:l=0,unchangedNames:u}=o,m=new Dp(l,u);t=new uc(o.targetId,m)}}var $;return t}(this.serializer,e),o=function(l){if(!("targetChange"in l))return jn.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?jn.min():u.readTime?Ho(u.readTime):jn.min()}(e);return this.listener.nu(t,o)}su(e){const t={};t.database=Lu(this.serializer),t.addTarget=function(l,u){let m;const M=u.target;if(m=Cn(M)?{documents:ov(l,M)}:{query:Tp(l,M)},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=Ad(l,u.resumeToken);const $=Sd(l,u.expectedCount);null!==$&&(m.expectedCount=$)}else if(u.snapshotVersion.compareTo(jn.min())>0){m.readTime=Kc(l,u.snapshotVersion.toTimestamp());const $=Sd(l,u.expectedCount);null!==$&&(m.expectedCount=$)}return m}(this.serializer,e);const o=function w_(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Wo(t)}iu(e){const t={};t.database=Lu(this.serializer),t.removeTarget=e,this.Wo(t)}}class Ov extends Rv{constructor(e,t,o,l,u,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,m),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Bu(i,e){return i&&i.length>0?(ut(void 0!==e),i.map(t=>function(o,l){let u=Ho(o.updateTime?o.updateTime:l);return u.isEqual(jn.min())&&(u=Ho(l)),new v_(u,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ho(e.commitTime);return this.listener.cu(o,t)}return ut(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Lu(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>dc(this.serializer,o))};this.Wo(t)}}class Pv extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=l,this.lu=!1}fu(){if(this.lu)throw new Ot(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Io(e,t,o,l,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ot(Dt.UNKNOWN,l.toString())})}vo(e,t,o,l){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.vo(e,t,o,u,m,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ot(Dt.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class ig{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ei(t),this.mu=!1):Xt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class kv{constructor(e,t,o,l,u){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(M=>{o.enqueueAndForget((0,oe.Z)(function*(){var $;Is(m)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,oe.Z)(function*(z){const re=vn(z);re.vu.add(4),yield au(re),re.bu.set("Unknown"),re.vu.delete(4),yield Yd(re)}),function(z){return $.apply(this,arguments)})(m))}))}),this.bu=new ig(o,l)}}function Yd(i){return og.apply(this,arguments)}function og(){return og=(0,oe.Z)(function*(i){if(Is(i))for(const e of i.Ru)yield e(!0)}),og.apply(this,arguments)}function au(i){return sg.apply(this,arguments)}function sg(){return sg=(0,oe.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),sg.apply(this,arguments)}function Kd(i,e){const t=vn(i);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),If(t)?_f(t):Qd(t).Ko()&&ag(t,e))}function Zd(i,e){const t=vn(i),o=Qd(t);t.Au.delete(e),o.Ko()&&H_(t,e),0===t.Au.size&&(o.Ko()?o.jo():Is(t)&&t.bu.set("Unknown"))}function ag(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(jn.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qd(i).su(e)}function H_(i,e){i.Vu.qt(e),Qd(i).iu(e)}function _f(i){i.Vu=new __({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),Qd(i).start(),i.bu.gu()}function If(i){return Is(i)&&!Qd(i).Uo()&&i.Au.size>0}function Is(i){return 0===vn(i).vu.size}function Ef(i){i.Vu=void 0}function z_(i){return Fv.apply(this,arguments)}function Fv(){return Fv=(0,oe.Z)(function*(i){i.Au.forEach((e,t)=>{ag(i,e)})}),Fv.apply(this,arguments)}function G_(i,e){return lg.apply(this,arguments)}function lg(){return lg=(0,oe.Z)(function*(i,e){Ef(i),If(i)?(i.bu.Iu(e),_f(i)):i.bu.set("Unknown")}),lg.apply(this,arguments)}function Lv(i,e,t){return pc.apply(this,arguments)}function pc(){return pc=(0,oe.Z)(function*(i,e,t){if(i.bu.set("Online"),e instanceof bp&&2===e.state&&e.cause)try{yield(o=(0,oe.Z)(function*(l,u){const m=u.cause;for(const M of u.targetIds)l.Au.has(M)&&(yield l.remoteSyncer.rejectListen(M,m),l.Au.delete(M),l.Vu.removeTarget(M))}),function(l,u){return o.apply(this,arguments)})(i,e)}catch(o){Xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield $a(i,o)}else if(e instanceof Cd?i.Vu.Ht(e):e instanceof uc?i.Vu.ne(e):i.Vu.Xt(e),!t.isEqual(jn.min()))try{const o=yield qu(i.localStore);t.compareTo(o)>=0&&(yield function(l,u){const m=l.Vu.ce(u);return m.targetChanges.forEach((M,$)=>{if(M.resumeToken.approximateByteSize()>0){const z=l.Au.get($);z&&l.Au.set($,z.withResumeToken(M.resumeToken,u))}}),m.targetMismatches.forEach((M,$)=>{const z=l.Au.get(M);if(!z)return;l.Au.set(M,z.withResumeToken(Xi.EMPTY_BYTE_STRING,z.snapshotVersion)),H_(l,M);const re=new Hl(z.target,M,$,z.sequenceNumber);ag(l,re)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(o){Xt("RemoteStore","Failed to raise snapshot:",o),yield $a(i,o)}var o}),pc.apply(this,arguments)}function $a(i,e,t){return gc.apply(this,arguments)}function gc(){return gc=(0,oe.Z)(function*(i,e,t){if(!vs(e))throw e;i.vu.add(1),yield au(i),i.bu.set("Offline"),t||(t=()=>qu(i.localStore)),i.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield t(),i.vu.delete(1),yield Yd(i)}))}),gc.apply(this,arguments)}function Bv(i,e){return e().catch(t=>$a(i,t,e))}function Qu(i){return Df.apply(this,arguments)}function Df(){return Df=(0,oe.Z)(function*(i){const e=vn(i),t=lu(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;cg(e);)try{const l=yield pf(e.localStore,o);if(null===l){0===e.Eu.length&&t.jo();break}o=l.batchId,Xd(e,l)}catch(l){yield $a(e,l)}ug(e)&&W_(e)}),Df.apply(this,arguments)}function cg(i){return Is(i)&&i.Eu.length<10}function Xd(i,e){i.Eu.push(e);const t=lu(i);t.Ko()&&t.ou&&t.uu(e.mutations)}function ug(i){return Is(i)&&!lu(i).Uo()&&i.Eu.length>0}function W_(i){lu(i).start()}function dg(i){return mc.apply(this,arguments)}function mc(){return mc=(0,oe.Z)(function*(i){lu(i).hu()}),mc.apply(this,arguments)}function wf(i){return bf.apply(this,arguments)}function bf(){return bf=(0,oe.Z)(function*(i){const e=lu(i);for(const t of i.Eu)e.uu(t.mutations)}),bf.apply(this,arguments)}function $v(i,e,t){return hg.apply(this,arguments)}function hg(){return hg=(0,oe.Z)(function*(i,e,t){const o=i.Eu.shift(),l=cc.from(o,e,t);yield Bv(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Qu(i)}),hg.apply(this,arguments)}function q_(i,e){return fg.apply(this,arguments)}function fg(){return fg=(0,oe.Z)(function*(i,e){var t;e&&lu(i).ou&&(yield(t=(0,oe.Z)(function*(o,l){if(Wm(u=l.code)&&u!==Dt.ABORTED){const m=o.Eu.shift();lu(o).Qo(),yield Bv(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,l)),yield Qu(o)}var u}),function(o,l){return t.apply(this,arguments)})(i,e)),ug(i)&&W_(i)}),fg.apply(this,arguments)}function Vv(i,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,oe.Z)(function*(i,e){const t=vn(i);t.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const o=Is(t);t.vu.add(3),yield au(t),o&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Yd(t)}),Cf.apply(this,arguments)}function Uv(i,e){return pg.apply(this,arguments)}function pg(){return pg=(0,oe.Z)(function*(i,e){const t=vn(i);e?(t.vu.delete(2),yield Yd(t)):e||(t.vu.add(2),yield au(t),t.bu.set("Unknown"))}),pg.apply(this,arguments)}function Qd(i){return i.Su||(i.Su=function(e,t,o){const l=vn(e);return l.fu(),new j_(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{uo:z_.bind(null,i),ao:G_.bind(null,i),nu:Lv.bind(null,i)}),i.Ru.push(function(){var e=(0,oe.Z)(function*(t){t?(i.Su.Qo(),If(i)?_f(i):i.bu.set("Unknown")):(yield i.Su.stop(),Ef(i))});return function(t){return e.apply(this,arguments)}}())),i.Su}function lu(i){return i.Du||(i.Du=function(e,t,o){const l=vn(e);return l.fu(),new Ov(t,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{uo:dg.bind(null,i),ao:q_.bind(null,i),au:wf.bind(null,i),cu:$v.bind(null,i)}),i.Ru.push(function(){var e=(0,oe.Z)(function*(t){t?(i.Du.Qo(),yield Qu(i)):(yield i.Du.stop(),i.Eu.length>0&&(Xt("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Du}class Tf{constructor(e,t,o,l,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,o,l,u){const m=Date.now()+o,M=new Tf(e,t,m,l,u);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ot(Dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cu(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),vs(i))return new Ot(Dt.UNAVAILABLE,`${e}: ${i}`);throw i}class Jd{constructor(e){this.comparator=e?(t,o)=>e(t,o)||gn.comparator(t.key,o.key):(t,o)=>gn.comparator(t.key,o.key),this.keyedMap=Mu(),this.sortedSet=new wi(this.comparator)}static emptySet(e){return new Jd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=o.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Jd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class gg{constructor(){this.Cu=new wi(gn.comparator)}track(e){const t=e.doc.key,o=this.Cu.get(t);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(t):1===e.type&&2===o.type?this.Cu=this.Cu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):wn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,o)=>{e.push(o)}),e}}class El{constructor(e,t,o,l,u,m,M,$,z){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=u,this.fromCache=m,this.syncStateChanged=M,this.excludesMetadataChanges=$,this.hasCachedResults=z}static fromInitialDocuments(e,t,o,l,u){const m=[];return t.forEach(M=>{m.push({type:0,doc:M})}),new El(e,t,Jd.emptySet(t),m,o,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Au(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class jv{constructor(){this.Nu=void 0,this.listeners=[]}}class Hv{constructor(){this.queries=new Vl(e=>sc(e),Au),this.onlineState="Unknown",this.ku=new Set}}function Sf(i,e){return wr.apply(this,arguments)}function wr(){return wr=(0,oe.Z)(function*(i,e){const t=vn(i),o=e.query;let l=!1,u=t.queries.get(o);if(u||(l=!0,u=new jv),l)try{u.Nu=yield t.onListen(o)}catch(m){const M=cu(m,`Initialization of query '${Lh(e.query)}' failed`);return void e.onError(M)}t.queries.set(o,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&mg(t)}),wr.apply(this,arguments)}function Af(i,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,oe.Z)(function*(i,e){const t=vn(i),o=e.query;let l=!1;const u=t.queries.get(o);if(u){const m=u.listeners.indexOf(e);m>=0&&(u.listeners.splice(m,1),l=0===u.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),Mf.apply(this,arguments)}function Ju(i,e){const t=vn(i);let o=!1;for(const l of e){const m=t.queries.get(l.query);if(m){for(const M of m.listeners)M.$u(l)&&(o=!0);m.Nu=l}}o&&mg(t)}function zv(i,e,t){const o=vn(i),l=o.queries.get(e);if(l)for(const u of l.listeners)u.onError(t);o.queries.delete(e)}function mg(i){i.ku.forEach(e=>{e.next()})}class ed{constructor(e,t,o){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new El(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class td{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class xf{constructor(e){this.serializer=e}rr(e){return Ba(this.serializer,e)}ur(e){return e.metadata.exists?nv(this.serializer,e.document,!1):li.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ho(e)}}class eh{constructor(e,t,o){this.ju=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vg(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const o=Br.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,o=new xf(this.serializer);for(const l of e)if(l.metadata.queries){const u=o.rr(l.metadata.name);for(const m of l.metadata.queries){const M=(t.get(m)||Ar()).add(u);t.set(m,M)}}return t}complete(){var e=this;return(0,oe.Z)(function*(){const t=yield function $_(i,e,t,o){return Gd.apply(this,arguments)}(e.localStore,new xf(e.serializer),e.documents,e.ju.id),o=e.Wu(e.documents);for(const l of e.queries)yield Cv(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function vg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Rf{constructor(e){this.key=e}}class Of{constructor(e){this.key=e}}class Pf{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ar(),this.mutatedKeys=Ar(),this.tc=f_(e),this.ec=new Jd(this.tc)}get nc(){return this.Yu}sc(e,t){const o=t?t.ic:new gg,l=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,m=l,M=!1;const $="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,z="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((re,Fe)=>{const mt=l.get(re),Nt=Bh(this.query,Fe)?Fe:null,nn=!!mt&&this.mutatedKeys.has(mt.key),An=!!Nt&&(Nt.hasLocalMutations||this.mutatedKeys.has(Nt.key)&&Nt.hasCommittedMutations);let Tn=!1;mt&&Nt?mt.data.isEqual(Nt.data)?nn!==An&&(o.track({type:3,doc:Nt}),Tn=!0):this.rc(mt,Nt)||(o.track({type:2,doc:Nt}),Tn=!0,($&&this.tc(Nt,$)>0||z&&this.tc(Nt,z)<0)&&(M=!0)):!mt&&Nt?(o.track({type:0,doc:Nt}),Tn=!0):mt&&!Nt&&(o.track({type:1,doc:mt}),Tn=!0,($||z)&&(M=!0)),Tn&&(Nt?(m=m.add(Nt),u=An?u.add(re):u.delete(re)):(m=m.delete(re),u=u.delete(re)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const re="F"===this.query.limitType?m.last():m.first();m=m.delete(re.key),u=u.delete(re.key),o.track({type:1,doc:re})}return{ec:m,ic:o,zi:M,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((z,re)=>function(Fe,mt){const Nt=nn=>{switch(nn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wn()}};return Nt(Fe)-Nt(mt)}(z.type,re.type)||this.tc(z.doc,re.doc)),this.oc(o);const m=t?this.uc():[],M=0===this.Zu.size&&this.current?1:0,$=M!==this.Xu;return this.Xu=M,0!==u.length||$?{snapshot:new El(this.query,e.ec,l,u,e.mutatedKeys,0===M,$,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:m}:{cc:m}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new gg,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ar(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const t=[];return e.forEach(o=>{this.Zu.has(o)||t.push(new Of(o))}),this.Zu.forEach(o=>{e.has(o)||t.push(new Rf(o))}),t}hc(e){this.Yu=e.ir,this.Zu=Ar();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return El.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Gv{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class yg{constructor(e){this.key=e,this.fc=!1}}class Y_{constructor(e,t,o,l,u,m){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=m,this.dc={},this.wc=new Vl(M=>sc(M),Au),this._c=new Map,this.mc=new Set,this.gc=new wi(gn.comparator),this.yc=new Map,this.Ic=new uf,this.Tc={},this.Ec=new Map,this.Ac=hc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function K_(i,e){return _g.apply(this,arguments)}function _g(){return _g=(0,oe.Z)(function*(i,e){const t=nh(i);let o,l;const u=t.wc.get(e);if(u)o=u.targetId,t.sharedClientState.addLocalQueryTarget(o),l=u.view.lc();else{const m=yield Il(t.localStore,_s(e)),M=t.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,l=yield Nf(t,e,o,"current"===M,m.resumeToken),t.isPrimaryClient&&Kd(t.remoteStore,m)}return l}),_g.apply(this,arguments)}function Nf(i,e,t,o,l){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,oe.Z)(function*(i,e,t,o,l){i.Rc=(Fe,mt,Nt)=>{return(nn=(0,oe.Z)(function*(An,Tn,Rr,ui){let Or=Tn.view.sc(Rr);Or.zi&&(Or=yield fc(An.localStore,Tn.query,!1).then(({documents:Pi})=>Tn.view.sc(Pi,Or)));const ji=ui&&ui.targetChanges.get(Tn.targetId),eo=Tn.view.applyChanges(Or,An.isPrimaryClient,ji);return th(An,Tn.targetId,eo.cc),eo.snapshot}),function(An,Tn,Rr,ui){return nn.apply(this,arguments)})(i,Fe,mt,Nt);var nn};const u=yield fc(i.localStore,e,!0),m=new Pf(e,u.ir),M=m.sc(u.documents),$=Yc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,l),z=m.applyChanges(M,i.isPrimaryClient,$);th(i,t,z.cc);const re=new Gv(e,t,m);return i.wc.set(e,re),i._c.has(t)?i._c.get(t).push(e):i._c.set(t,[e]),z.snapshot}),Ig.apply(this,arguments)}function Z_(i,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,oe.Z)(function*(i,e){const t=vn(i),o=t.wc.get(e),l=t._c.get(o.targetId);if(l.length>1)return t._c.set(o.targetId,l.filter(u=>!Au(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Hd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Zd(t.remoteStore,o.targetId),nd(t,o.targetId)}).catch(ai))):(nd(t,o.targetId),yield Hd(t.localStore,o.targetId,!0))}),Eg.apply(this,arguments)}function kf(){return kf=(0,oe.Z)(function*(i,e,t){const o=Fg(i);try{const l=yield function(u,m){const M=vn(u),$=Fi.now(),z=m.reduce((mt,Nt)=>mt.add(Nt.key),Ar());let re,Fe;return M.persistence.runTransaction("Locally write mutations","readwrite",mt=>{let Nt=As(),nn=Ar();return M.Zi.getEntries(mt,z).next(An=>{Nt=An,Nt.forEach((Tn,Rr)=>{Rr.isValidDocument()||(nn=nn.add(Tn))})}).next(()=>M.localDocuments.getOverlayedDocuments(mt,Nt)).next(An=>{re=An;const Tn=[];for(const Rr of m){const ui=y_(Rr,re.get(Rr.key).overlayedDocument);null!=ui&&Tn.push(new jl(Rr.key,ui,Zo(ui.value.mapValue),so.exists(!0)))}return M.mutationQueue.addMutationBatch(mt,$,Tn,m)}).next(An=>{Fe=An;const Tn=An.applyToLocalDocumentSet(re,nn);return M.documentOverlayCache.saveOverlays(mt,An.batchId,Tn)})}).then(()=>({batchId:Fe.batchId,changes:mp(re)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(u,m,M){let $=u.Tc[u.currentUser.toKey()];$||($=new wi(Yn)),$=$.insert(m,M),u.Tc[u.currentUser.toKey()]=$}(o,l.batchId,t),yield Wl(o,l.changes),yield Qu(o.remoteStore)}catch(l){const u=cu(l,"Failed to persist write");t.reject(u)}}),kf.apply(this,arguments)}function Dg(i,e){return wg.apply(this,arguments)}function wg(){return wg=(0,oe.Z)(function*(i,e){const t=vn(i);try{const o=yield function jd(i,e){const t=vn(i),o=e.snapshotVersion;let l=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const m=t.Zi.newChangeBuffer({trackRemovals:!0});l=t.Ji;const M=[];e.targetChanges.forEach((re,Fe)=>{const mt=l.get(Fe);if(!mt)return;M.push(t.Bs.removeMatchingKeys(u,re.removedDocuments,Fe).next(()=>t.Bs.addMatchingKeys(u,re.addedDocuments,Fe)));let Nt=mt.withSequenceNumber(u.currentSequenceNumber);var nn,An,Tn;null!==e.targetMismatches.get(Fe)?Nt=Nt.withResumeToken(Xi.EMPTY_BYTE_STRING,jn.min()).withLastLimboFreeSnapshotVersion(jn.min()):re.resumeToken.approximateByteSize()>0&&(Nt=Nt.withResumeToken(re.resumeToken,o)),l=l.insert(Fe,Nt),An=Nt,Tn=re,(0===(nn=mt).resumeToken.approximateByteSize()||An.snapshotVersion.toMicroseconds()-nn.snapshotVersion.toMicroseconds()>=3e8||Tn.addedDocuments.size+Tn.modifiedDocuments.size+Tn.removedDocuments.size>0)&&M.push(t.Bs.updateTargetData(u,Nt))});let $=As(),z=Ar();if(e.documentUpdates.forEach(re=>{e.resolvedLimboDocuments.has(re)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(u,re))}),M.push(Qp(u,m,e.documentUpdates).next(re=>{$=re.nr,z=re.sr})),!o.isEqual(jn.min())){const re=t.Bs.getLastRemoteSnapshotVersion(u).next(Fe=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,o));M.push(re)}return ct.waitFor(M).next(()=>m.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,$,z)).next(()=>$)}).then(u=>(t.Ji=l,u))}(t.localStore,e);e.targetChanges.forEach((l,u)=>{const m=t.yc.get(u);m&&(ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?m.fc=!0:l.modifiedDocuments.size>0?ut(m.fc):l.removedDocuments.size>0&&(ut(m.fc),m.fc=!1))}),yield Wl(t,o,e)}catch(o){yield ai(o)}}),wg.apply(this,arguments)}function Wv(i,e,t){const o=vn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.wc.forEach((u,m)=>{const M=m.view.Mu(e);M.snapshot&&l.push(M.snapshot)}),function(u,m){const M=vn(u);M.onlineState=m;let $=!1;M.queries.forEach((z,re)=>{for(const Fe of re.listeners)Fe.Mu(m)&&($=!0)}),$&&mg(M)}(o.eventManager,e),l.length&&o.dc.nu(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function ba(i,e,t){return bg.apply(this,arguments)}function bg(){return bg=(0,oe.Z)(function*(i,e,t){const o=vn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.yc.get(e),u=l&&l.key;if(u){let m=new wi(gn.comparator);m=m.insert(u,li.newNoDocument(u,jn.min()));const M=Ar().add(u),$=new bd(jn.min(),new Map,new wi(Yn),m,M);yield Dg(o,$),o.gc=o.gc.remove(u),o.yc.delete(e),Ag(o)}else yield Hd(o.localStore,e,!1).then(()=>nd(o,e,t)).catch(ai)}),bg.apply(this,arguments)}function Q_(i,e){return qv.apply(this,arguments)}function qv(){return qv=(0,oe.Z)(function*(i,e){const t=vn(i),o=e.batch.batchId;try{const l=yield function Wu(i,e){const t=vn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(m,M,$,z){const re=$.batch,Fe=re.keys();let mt=ct.resolve();return Fe.forEach(Nt=>{mt=mt.next(()=>z.getEntry(M,Nt)).next(nn=>{const An=$.docVersions.get(Nt);ut(null!==An),nn.version.compareTo(An)<0&&(re.applyToRemoteDocument(nn,$),nn.isValidDocument()&&(nn.setReadTime($.commitVersion),z.addEntry(nn)))})}),mt.next(()=>m.mutationQueue.removeMutationBatch(M,re))}(t,o,e,u).next(()=>u.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let M=Ar();for(let $=0;$<m.mutationResults.length;++$)m.mutationResults[$].transformResults.length>0&&(M=M.add(m.batch.mutations[$].key));return M}(e))).next(()=>t.localDocuments.getDocuments(o,l))})}(t.localStore,e);Lf(t,o,null),Sg(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Wl(t,l)}catch(l){yield ai(l)}}),qv.apply(this,arguments)}function Cg(i,e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,oe.Z)(function*(i,e,t){const o=vn(i);try{const l=yield function(u,m){const M=vn(u);return M.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let z;return M.mutationQueue.lookupMutationBatch($,m).next(re=>(ut(null!==re),z=re.keys(),M.mutationQueue.removeMutationBatch($,re))).next(()=>M.mutationQueue.performConsistencyCheck($)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId($,z,m)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,z)).next(()=>M.localDocuments.getDocuments($,z))})}(o.localStore,e);Lf(o,e,t),Sg(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Wl(o,l)}catch(l){yield ai(l)}}),Ff.apply(this,arguments)}function Tg(){return Tg=(0,oe.Z)(function*(i,e){const t=vn(i);Is(t.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(u){const m=vn(u);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>m.mutationQueue.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===o)return void e.resolve();const l=t.Ec.get(o)||[];l.push(e),t.Ec.set(o,l)}catch(o){const l=cu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Tg.apply(this,arguments)}function Sg(i,e){(i.Ec.get(e)||[]).forEach(t=>{t.resolve()}),i.Ec.delete(e)}function Lf(i,e,t){const o=vn(i);let l=o.Tc[o.currentUser.toKey()];if(l){const u=l.get(e);u&&(t?u.reject(t):u.resolve(),l=l.remove(e)),o.Tc[o.currentUser.toKey()]=l}}function nd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),t&&i.dc.Pc(o,t);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||Yv(i,o)})}function Yv(i,e){i.mc.delete(e.path.canonicalString());const t=i.gc.get(e);null!==t&&(Zd(i.remoteStore,t),i.gc=i.gc.remove(e),i.yc.delete(t),Ag(i))}function th(i,e,t){for(const o of t)o instanceof Rf?(i.Ic.addReference(o.key,e),e0(i,o)):o instanceof Of?(Xt("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||Yv(i,o.key)):wn()}function e0(i,e){const t=e.key,o=t.path.canonicalString();i.gc.get(t)||i.mc.has(o)||(Xt("SyncEngine","New document in limbo: "+t),i.mc.add(o),Ag(i))}function Ag(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const t=new gn(Br.fromString(e)),o=i.Ac.next();i.yc.set(o,new yg(t)),i.gc=i.gc.insert(t,o),Kd(i.remoteStore,new Hl(_s(Bl(t.path)),o,"TargetPurposeLimboResolution",ss.ct))}}function Wl(i,e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,oe.Z)(function*(i,e,t){const o=vn(i),l=[],u=[],m=[];var M;o.wc.isEmpty()||(o.wc.forEach((M,$)=>{m.push(o.Rc($,e,t).then(z=>{if((z||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,null!=z&&z.fromCache?"not-current":"current"),z){l.push(z);const re=Zp.Li($.targetId,z);u.push(re)}}))}),yield Promise.all(m),o.dc.nu(l),yield(M=(0,oe.Z)(function*($,z){const re=vn($);try{yield re.persistence.runTransaction("notifyLocalViewChanges","readwrite",Fe=>ct.forEach(z,mt=>ct.forEach(mt.Fi,Nt=>re.persistence.referenceDelegate.addReference(Fe,mt.targetId,Nt)).next(()=>ct.forEach(mt.Bi,Nt=>re.persistence.referenceDelegate.removeReference(Fe,mt.targetId,Nt)))))}catch(Fe){if(!vs(Fe))throw Fe;Xt("LocalStore","Failed to update sequence numbers: "+Fe)}for(const Fe of z){const mt=Fe.targetId;if(!Fe.fromCache){const Nt=re.Ji.get(mt),An=Nt.withLastLimboFreeSnapshotVersion(Nt.snapshotVersion);re.Ji=re.Ji.insert(mt,An)}}}),function($,z){return M.apply(this,arguments)})(o.localStore,u))}),Mg.apply(this,arguments)}function t0(i,e){return Va.apply(this,arguments)}function Va(){return Va=(0,oe.Z)(function*(i,e){const t=vn(i);if(!t.currentUser.isEqual(e)){Xt("SyncEngine","User change. New user:",e.toKey());const o=yield Ud(t.localStore,e);t.currentUser=e,(l=t).Ec.forEach(m=>{m.forEach(M=>{M.reject(new Ot(Dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Ec.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Wl(t,o.er)}var l}),Va.apply(this,arguments)}function xg(i,e){const t=vn(i),o=t.yc.get(e);if(o&&o.fc)return Ar().add(o.key);{let l=Ar();const u=t._c.get(e);if(!u)return l;for(const m of u){const M=t.wc.get(m);l=l.unionWith(M.view.nc)}return l}}function n0(i,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,oe.Z)(function*(i,e){const t=vn(i),o=yield fc(t.localStore,e.query,!0),l=e.view.hc(o);return t.isPrimaryClient&&th(t,e.targetId,l.cc),l}),Bf.apply(this,arguments)}function r0(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,oe.Z)(function*(i,e){const t=vn(i);return Jp(t.localStore,e).then(o=>Wl(t,o))}),$f.apply(this,arguments)}function Kv(i,e,t,o){return rd.apply(this,arguments)}function rd(){return rd=(0,oe.Z)(function*(i,e,t,o){const l=vn(i),u=yield function(m,M){const $=vn(m),z=vn($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",re=>z.Sn(re,M).next(Fe=>Fe?$.localDocuments.getDocuments(re,Fe):ct.resolve(null)))}(l.localStore,e);var M;null!==u?("pending"===t?yield Qu(l.remoteStore):"acknowledged"===t||"rejected"===t?(Lf(l,e,o||null),Sg(l,e),M=e,vn(vn(l.localStore).mutationQueue).Cn(M)):wn(),yield Wl(l,u)):Xt("SyncEngine","Cannot apply mutation batch with id: "+e)}),rd.apply(this,arguments)}function Zv(){return Zv=(0,oe.Z)(function*(i,e){const t=vn(i);if(nh(t),Fg(t),!0===e&&!0!==t.vc){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield Og(t,o.toArray());t.vc=!0,yield Uv(t.remoteStore,!0);for(const u of l)Kd(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const o=[];let l=Promise.resolve();t._c.forEach((u,m)=>{t.sharedClientState.isLocalQueryTarget(m)?o.push(m):l=l.then(()=>(nd(t,m),Hd(t.localStore,m,!0))),Zd(t.remoteStore,m)}),yield l,yield Og(t,o),function(u){const m=vn(u);m.yc.forEach((M,$)=>{Zd(m.remoteStore,$)}),m.Ic.Ts(),m.yc=new Map,m.gc=new wi(gn.comparator)}(t),t.vc=!1,yield Uv(t.remoteStore,!1)}}),Zv.apply(this,arguments)}function Og(i,e,t){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,oe.Z)(function*(i,e,t){const o=vn(i),l=[],u=[];for(const m of e){let M;const $=o._c.get(m);if($&&0!==$.length){M=yield Il(o.localStore,_s($[0]));for(const z of $){const re=o.wc.get(z),Fe=yield n0(o,re);Fe.snapshot&&u.push(Fe.snapshot)}}else{const z=yield wv(o.localStore,m);M=yield Il(o.localStore,z),yield Nf(o,Pg(z),m,!1,M.resumeToken)}l.push(M)}return o.dc.nu(u),l}),Vf.apply(this,arguments)}function Pg(i){return ic(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Xv(i){const e=vn(i);return vn(vn(e.localStore).persistence).$i()}function Ng(i,e,t,o){return nl.apply(this,arguments)}function nl(){return nl=(0,oe.Z)(function*(i,e,t,o){const l=vn(i);if(l.vc)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const u=l._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const m=yield Jp(l.localStore,h_(u[0])),M=bd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Xi.EMPTY_BYTE_STRING);yield Wl(l,m,M);break}case"rejected":yield Hd(l.localStore,e,!0),nd(l,e,o);break;default:wn()}}),nl.apply(this,arguments)}function o0(i,e,t){return kg.apply(this,arguments)}function kg(){return kg=(0,oe.Z)(function*(i,e,t){const o=nh(i);if(o.vc){for(const l of e){if(o._c.has(l)){Xt("SyncEngine","Adding an already active target "+l);continue}const u=yield wv(o.localStore,l),m=yield Il(o.localStore,u);yield Nf(o,Pg(u),m.targetId,!1,m.resumeToken),Kd(o.remoteStore,m)}for(const l of t)o._c.has(l)&&(yield Hd(o.localStore,l,!1).then(()=>{Zd(o.remoteStore,l),nd(o,l)}).catch(ai))}}),kg.apply(this,arguments)}function nh(i){const e=vn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ba.bind(null,e),e.dc.nu=Ju.bind(null,e.eventManager),e.dc.Pc=zv.bind(null,e.eventManager),e}function Fg(i){const e=vn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cg.bind(null,e),e}class rh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.serializer=Xu(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return iu(this.persistence,new ff,e.initialUser,this.serializer)}createPersistence(e){return new df(Vd.zs,this.serializer)}createSharedClientState(e){return new Sv}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class uu extends rh{constructor(e,t,o){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e),yield o.Vc.initialize(o,e),yield Fg(o.Vc.syncEngine),yield Qu(o.Vc.remoteStore),yield o.persistence.Ii(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return iu(this.persistence,new ff,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new R_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new ia(t,this.persistence);return new _u(e.asyncQueue,o)}createPersistence(e){const t=zu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Bs.withCacheSize(this.cacheSizeBytes):Bs.DEFAULT;return new Yp(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Zu(),yf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Sv}}class ih extends uu{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,oe.Z)(function*(){yield t().call(o,e);const l=o.Vc.syncEngine;o.sharedClientState instanceof Yu&&(o.sharedClientState.syncEngine={jr:Kv.bind(null,l),zr:Ng.bind(null,l),Wr:o0.bind(null,l),$i:Xv.bind(null,l),Qr:r0.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Ii(function(){var u=(0,oe.Z)(function*(m){yield function Rg(i,e){return Zv.apply(this,arguments)}(o.Vc.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Zu();if(!Yu.D(t))throw new Ot(Dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=zu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Yu(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class oh{initialize(e,t){var o=this;return(0,oe.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Wv(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=t0.bind(null,o.syncEngine),yield Uv(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hv}createDatastore(e){const t=Xu(e.databaseInfo.databaseId),o=new Ku(e.databaseInfo);return new Pv(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,u=M=>Wv(this.syncEngine,M,0),m=Mv.D()?new Mv:new Av,new kv(t,o,l,u,m);var t,o,l,u,m}createSyncEngine(e,t){return function(o,l,u,m,M,$,z){const re=new Y_(o,l,u,m,M,$);return z&&(re.vc=!0),re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,oe.Z)(function*(t){const o=vn(t);Xt("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield au(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jv(i,e=10240){let t=0;return{read:()=>(0,oe.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,oe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class sh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class ey{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new kr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(o=>{o&&o.Qu()?this.metadata.resolve(o.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.Gu)}`))},o=>this.metadata.reject(o))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,oe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,oe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,oe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const o=e.xc.decode(t),l=Number(o);isNaN(l)&&e.Mc(`length string (${o}) is not valid number`);const u=yield e.$c(l);return new td(JSON.parse(u),t.length+l)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,oe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}$c(e){var t=this;return(0,oe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const o=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,oe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class s0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,oe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ot(Dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,oe.Z)(function*(u,m){const M=vn(u),$=Lu(M.serializer)+"/documents",z={documents:m.map(Nt=>Fu(M.serializer,Nt))},re=yield M.vo("BatchGetDocuments",$,z,m.length),Fe=new Map;re.forEach(Nt=>{const nn=function rv(i,e){return"found"in e?function(t,o){ut(!!o.found);const l=Ba(t,o.found.name),u=Ho(o.found.updateTime),m=o.found.createTime?Ho(o.found.createTime):jn.min(),M=new Zr({mapValue:{fields:o.found.fields}});return li.newFoundDocument(l,u,m,M)}(i,e):"missing"in e?function(t,o){ut(!!o.missing),ut(!!o.readTime);const l=Ba(t,o.missing),u=Ho(o.readTime);return li.newNoDocument(l,u)}(i,e):wn()}(M.serializer,Nt);Fe.set(nn.key.toString(),nn)});const mt=[];return m.forEach(Nt=>{const nn=Fe.get(Nt.toString());ut(!!nn),mt.push(nn)}),mt}),function(u,m){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new qc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,oe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const u=gn.fromPath(l);e.mutations.push(new Wh(u,e.precondition(u)))}),yield(o=(0,oe.Z)(function*(l,u){const m=vn(l),M=Lu(m.serializer)+"/documents",$={writes:u.map(z=>dc(m.serializer,z))};yield m.Io("Commit",M,$)}),function(l,u){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wn();t=jn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ot(Dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(jn.min())?so.exists(!1):so.updateTime(t):so.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(jn.min()))throw new Ot(Dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return so.updateTime(t)}return so.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class a0{constructor(e,t,o,l,u){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=l,this.deferred=u,this.Bc=o.maxAttempts,this.qo=new ng(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,oe.Z)(function*(){const t=new s0(e.datastore),o=e.qc(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(u=>{e.Uc(u)}))}).catch(l=>{e.Uc(l)})}))}qc(e){try{const t=this.updateFunction(e);return!So(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Wm(t)}return!1}}class ty{constructor(e,t,o,l){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=go.UNAUTHENTICATED,this.clientId=ws.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,oe.Z)(function*(M){Xt("FirestoreClient","Received user=",M.uid),yield u.authCredentialListener(M),u.user=M});return function(M){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(Xt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ot(Dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=cu(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function ah(i,e){return du.apply(this,arguments)}function du(){return du=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,oe.Z)(function*(u){o.isEqual(u)||(yield Ud(e.localStore,u),o=u)});return function(u){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),du.apply(this,arguments)}function Lg(i,e){return jf.apply(this,arguments)}function jf(){return jf=(0,oe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield $g(i);Xt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>Vv(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,u)=>Vv(e.remoteStore,u)),i._onlineComponents=e}),jf.apply(this,arguments)}function Bg(i){return"FirebaseError"===i.name?i.code===Dt.FAILED_PRECONDITION||i.code===Dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function $g(i){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,oe.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ah(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Bg(t))throw t;gs("Error using user provided cache. Falling back to memory cache: "+t),yield ah(i,new rh)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),yield ah(i,new rh);return i._offlineComponents}),Vg.apply(this,arguments)}function vc(i){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,oe.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Lg(i,i._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield Lg(i,new oh))),i._onlineComponents}),Ug.apply(this,arguments)}function ny(i){return $g(i).then(e=>e.persistence)}function Hf(i){return $g(i).then(e=>e.localStore)}function ry(i){return vc(i).then(e=>e.remoteStore)}function jg(i){return vc(i).then(e=>e.syncEngine)}function id(i){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,oe.Z)(function*(i){const e=yield vc(i),t=e.eventManager;return t.onListen=K_.bind(null,e.syncEngine),t.onUnlisten=Z_.bind(null,e.syncEngine),t}),Hg.apply(this,arguments)}function lh(i,e,t={}){const o=new kr;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(l,u,m,M,$){const z=new sh({next:Fe=>{u.enqueueAndForget(()=>Af(l,re));const mt=Fe.docs.has(m);!mt&&Fe.fromCache?$.reject(new Ot(Dt.UNAVAILABLE,"Failed to get document because the client is offline.")):mt&&Fe.fromCache&&M&&"server"===M.source?$.reject(new Ot(Dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(Fe)},error:Fe=>$.reject(Fe)}),re=new ed(Bl(m.path),z,{includeMetadataChanges:!0,Ku:!0});return Sf(l,re)}(yield id(i),i.asyncQueue,e,t,o)})),o.promise}function sy(i,e,t={}){const o=new kr;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function(l,u,m,M,$){const z=new sh({next:Fe=>{u.enqueueAndForget(()=>Af(l,re)),Fe.fromCache&&"server"===M.source?$.reject(new Ot(Dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(Fe)},error:Fe=>$.reject(Fe)}),re=new ed(m,z,{includeMetadataChanges:!0,Ku:!0});return Sf(l,re)}(yield id(i),i.asyncQueue,e,t,o)})),o.promise}function ay(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Gg=new Map;function zf(i,e,t){if(!t)throw new Ot(Dt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ly(i,e,t,o){if(!0===e&&!0===o)throw new Ot(Dt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function p0(i){if(!gn.isDocumentKey(i))throw new Ot(Dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Wg(i){if(gn.isDocumentKey(i))throw new Ot(Dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ch(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":wn()}function ci(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ot(Dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ch(i);throw new Ot(Dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function uh(i,e){if(e<=0)throw new Ot(Dt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class cy{constructor(e){var t,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ot(Dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ot(Dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ly("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ay(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Ot(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ot(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ot(Dt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dh{constructor(e,t,o,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ot(Dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ot(Dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Di;switch(t.type){case"firstParty":return new yu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ot(Dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Gg.get(e);t&&(Xt("ComponentProvider","Removing Datastore"),Gg.delete(e),t.terminate())}(this),Promise.resolve()}}class ao{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ao(this.firestore,e,this._key)}}class Qi{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class ua extends Qi{constructor(e,t,o){super(e,t,Bl(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ao(this.firestore,null,new gn(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function xs(i,e,...t){if(i=(0,Re.m9)(i),zf("collection","path",e),i instanceof dh){const o=Br.fromString(e,...t);return Wg(o),new ua(i,null,o)}{if(!(i instanceof ao||i instanceof ua))throw new Ot(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Br.fromString(e,...t));return Wg(o),new ua(i.firestore,null,o)}}function fu(i,e,...t){if(i=(0,Re.m9)(i),1===arguments.length&&(e=ws.A()),zf("doc","path",e),i instanceof dh){const o=Br.fromString(e,...t);return p0(o),new ao(i,null,new gn(o))}{if(!(i instanceof ao||i instanceof ua))throw new Ot(Dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Br.fromString(e,...t));return p0(o),new ao(i.firestore,i instanceof ua?i.converter:null,new gn(o))}}function Ca(i,e){return i=(0,Re.m9)(i),e=(0,Re.m9)(e),(i instanceof ao||i instanceof ua)&&(e instanceof ao||e instanceof ua)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function hh(i,e){return i=(0,Re.m9)(i),e=(0,Re.m9)(e),i instanceof Qi&&e instanceof Qi&&i.firestore===e.firestore&&Au(i._query,e._query)&&i.converter===e.converter}class od{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ng(this,"async_queue_retry"),this.Xc=()=>{const t=yf();t&&Xt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=yf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=yf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new kr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,oe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!vs(t))throw t;Xt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(u){let m=u.message||"";return u.stack&&(m=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),m}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=t,t}enqueueAfterDelay(e,t,o){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const l=Tf.createAndSchedule(this,e,t,o,u=>this.na(u));return this.zc.push(l),l}Zc(){this.Wc&&wn()}verifyOperationInProgress(){}sa(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function yc(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class sd{constructor(){this._progressObserver={},this._taskCompletionResolver=new kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Oi extends dh{constructor(e,t,o,l){super(e,t,o,l),this.type="firestore",this._queue=new od,this._persistenceKey=(null==l?void 0:l.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pu(this),this._firestoreClient.terminate()}}function Ji(i){return i._firestoreClient||pu(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function pu(i){var e,t,o;const l=i._freezeSettings(),u=(M=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Xa(i._databaseId,M,i._persistenceKey,(z=l).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,ay(z.experimentalLongPollingOptions),z.useFetchStreams));var M,z;i._firestoreClient=new ty(i._authCredentials,i._appCheckCredentials,i._queue,u),null!==(t=l.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=l.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:l.cache.kind,_offline:l.cache._offlineComponentProvider,_online:l.cache._onlineComponentProvider})}function Yg(i,e,t){const o=new kr;return i.asyncQueue.enqueue((0,oe.Z)(function*(){try{yield ah(i,t),yield Lg(i,e),o.resolve()}catch(l){const u=l;if(!Bg(u))throw u;gs("Error enabling indexeddb cache. Falling back to memory cache: "+u),o.reject(u)}})).then(()=>o.promise)}function my(i){if(i._initialized||i._terminated)throw new Ot(Dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(Xi.fromBase64String(e))}catch(t){throw new Ot(Dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dl(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ql{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ot(Dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gu{constructor(e){this._methodName=e}}class Zg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ot(Dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ot(Dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yn(this._lat,e._lat)||Yn(this._long,e._long)}}const m0=/^__.*__$/;class v0{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new lc(e,this.data,t,this.fieldTransforms)}}class vy{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new jl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qf(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wn()}}class _c{constructor(e,t,o,l,u,m){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=l,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=m||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _c(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.fa(e),l}da(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.aa({path:o,la:!1});return l.ua(),l}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return _h(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qf(this.ca)&&m0.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Xg{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Xu(e)}ya(e,t,o,l=!1){return new _c({ca:e,methodName:t,ga:o,path:Li.emptyPath(),la:!1,ma:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wl(i){const e=i._freezeSettings(),t=Xu(i._databaseId);return new Xg(i._databaseId,!!e.ignoreUndefinedProperties,t)}function gh(i,e,t,o,l,u={}){const m=i.ya(u.merge||u.mergeFields?2:0,e,t,l);nm("Data must be an object, but it was:",m,o);const M=vh(o,m);let $,z;if(u.merge)$=new Yo(m.fieldMask),z=m.fieldTransforms;else if(u.mergeFields){const re=[];for(const Fe of u.mergeFields){const mt=yh(e,Fe,t);if(!m.contains(mt))throw new Ot(Dt.INVALID_ARGUMENT,`Field '${mt}' is specified in your field mask but missing from your input data.`);yy(re,mt)||re.push(mt)}$=new Yo(re),z=m.fieldTransforms.filter(Fe=>$.covers(Fe.field))}else $=null,z=m.fieldTransforms;return new v0(new Zr(M),$,z)}class Yl extends gu{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yl}}function Qg(i,e,t){return new _c({ca:3,ga:e.settings.ga,methodName:i._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Jg extends gu{_toFieldTransform(e){return new Pu(e.path,new Ru)}isEqual(e){return e instanceof Jg}}class mh extends gu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Qg(this,e,!0),o=this.pa.map(u=>bl(u,t)),l=new Wc(o);return new Pu(e.path,l)}isEqual(e){return this===e}}class y0 extends gu{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Qg(this,e,!0),o=this.pa.map(u=>bl(u,t)),l=new Ul(o);return new Pu(e.path,l)}isEqual(e){return this===e}}class _0 extends gu{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ac(e.serializer,jh(e.serializer,this.Ia));return new Pu(e.path,t)}isEqual(e){return this===e}}function em(i,e,t,o){const l=i.ya(1,e,t);nm("Data must be an object, but it was:",l,o);const u=[],m=Zr.empty();qs(o,($,z)=>{const re=Kf(e,$,t);z=(0,Re.m9)(z);const Fe=l.da(re);if(z instanceof Yl)u.push(re);else{const mt=bl(z,Fe);null!=mt&&(u.push(re),m.set(re,mt))}});const M=new Yo(u);return new vy(m,M,l.fieldTransforms)}function tm(i,e,t,o,l,u){const m=i.ya(1,e,t),M=[yh(e,o,t)],$=[l];if(u.length%2!=0)throw new Ot(Dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let mt=0;mt<u.length;mt+=2)M.push(yh(e,u[mt])),$.push(u[mt+1]);const z=[],re=Zr.empty();for(let mt=M.length-1;mt>=0;--mt)if(!yy(z,M[mt])){const Nt=M[mt];let nn=$[mt];nn=(0,Re.m9)(nn);const An=m.da(Nt);if(nn instanceof Yl)z.push(Nt);else{const Tn=bl(nn,An);null!=Tn&&(z.push(Nt),re.set(Nt,Tn))}}const Fe=new Yo(z);return new vy(re,Fe,m.fieldTransforms)}function Yf(i,e,t,o=!1){return bl(t,i.ya(o?4:3,e))}function bl(i,e){if(I0(i=(0,Re.m9)(i)))return nm("Unsupported field value:",e,i),vh(i,e);if(i instanceof gu)return function(t,o){if(!qf(o.ca))throw o._a(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,o){const l=[];let u=0;for(const m of t){let M=bl(m,o.wa(u));null==M&&(M={nullValue:"NULL_VALUE"}),l.push(M),u++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,Re.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jh(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Fi.fromDate(t);return{timestampValue:Kc(o.serializer,l)}}if(t instanceof Fi){const l=new Fi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,l)}}if(t instanceof Zg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Dl)return{bytesValue:Ad(o.serializer,t._byteString)};if(t instanceof ao){const l=o.databaseId,u=t.firestore._databaseId;if(!u.isEqual(l))throw o._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xd(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o._a(`Unsupported field value: ${ch(t)}`)}(i,e)}function vh(i,e){const t={};return sa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qs(i,(o,l)=>{const u=bl(l,e.ha(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function I0(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Fi||i instanceof Zg||i instanceof Dl||i instanceof ao||i instanceof gu)}function nm(i,e,t){if(!I0(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=ch(t);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function yh(i,e,t){if((e=(0,Re.m9)(e))instanceof ql)return e._internalPath;if("string"==typeof e)return Kf(i,e);throw _h("Field path arguments must be of type string or ",i,!1,void 0,t)}const rm=new RegExp("[~\\*/\\[\\]]");function Kf(i,e,t){if(e.search(rm)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new ql(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function _h(i,e,t,o,l){const u=o&&!o.isEmpty(),m=void 0!==l;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let $="";return(u||m)&&($+=" (found",u&&($+=` in field ${o}`),m&&($+=` in document ${l}`),$+=")"),new Ot(Dt.INVALID_ARGUMENT,M+i+$)}function yy(i,e){return i.some(t=>t.isEqual(e))}class Ih{constructor(e,t,o,l,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ao(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Eh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _y extends Ih{data(){return super.data()}}function Eh(i,e){return"string"==typeof e?Kf(i,e):e instanceof ql?e._internalPath:e._delegate._internalPath}function im(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ot(Dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class om{}class Dh extends om{}function Ic(i,e,...t){let o=[];e instanceof om&&o.push(e),o=o.concat(t),function(l){const u=l.filter(M=>M instanceof Ec).length,m=l.filter(M=>M instanceof wh).length;if(u>1||u>0&&m>0)throw new Ot(Dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)i=l._apply(i);return i}class wh extends Dh{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new wh(e,t,o)}_apply(e){const t=this._parse(e);return um(e._query,t),new Qi(e.firestore,e.converter,$l(e._query,t))}_parse(e){const t=wl(e.firestore);return function(l,u,m,M,$,z,re){let Fe;if($.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new Ot(Dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){Jf(re,z);const mt=[];for(const Nt of re)mt.push(cm(M,l,Nt));Fe={arrayValue:{values:mt}}}else Fe=cm(M,l,re)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||Jf(re,z),Fe=Yf(m,"where",re,"in"===z||"not-in"===z);return zr.create($,z,Fe)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Ec extends om{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ec(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:bi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,l){let u=o;const m=l.getFlattenedFilters();for(const M of m)um(u,M),u=$l(u,M)}(e._query,t),new Qi(e.firestore,e.converter,$l(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ld extends Dh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ld(e,t)}_apply(e){const t=function(o,l,u){if(null!==o.startAt)throw new Ot(Dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ot(Dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new wa(l,u);return function(M,$){if(null===yd(M)){const z=oc(M);null!==z&&ep(0,z,$.field)}}(o,m),m}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new Qo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class bh extends Dh{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new bh(e,t,o)}_apply(e){return new Qi(e.firestore,e.converter,Su(e._query,this._limit,this._limitType))}}class Zf extends Dh{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Zf(e,t,o)}_apply(e){const t=Ey(e,this.type,this._docOrFields,this._inclusive);return new Qi(e.firestore,e.converter,(l=t,new Qo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class cd extends Dh{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new cd(e,t,o)}_apply(e){const t=Ey(e,this.type,this._docOrFields,this._inclusive);return new Qi(e.firestore,e.converter,(l=t,new Qo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Ey(i,e,t,o){if(t[0]=(0,Re.m9)(t[0]),t[0]instanceof Ih)return function(l,u,m,M,$){if(!M)throw new Ot(Dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const z=[];for(const re of ml(l))if(re.field.isKeyField())z.push(R(u,M.key));else{const Fe=M.data.field(re.field);if(Ys(Fe))throw new Ot(Dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Fe){const mt=re.field.canonicalString();throw new Ot(Dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${mt}' (used as the orderBy) does not exist.`)}z.push(Fe)}return new Xo(z,$)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=wl(i.firestore);return function(u,m,M,$,z,re){const Fe=u.explicitOrderBy;if(z.length>Fe.length)throw new Ot(Dt.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const mt=[];for(let Nt=0;Nt<z.length;Nt++){const nn=z[Nt];if(Fe[Nt].field.isKeyField()){if("string"!=typeof nn)throw new Ot(Dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof nn}`);if(!Tu(u)&&-1!==nn.indexOf("/"))throw new Ot(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${nn}' contains a slash.`);const An=u.path.child(Br.fromString(nn));if(!gn.isDocumentKey(An))throw new Ot(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${An}' is not because it contains an odd number of segments.`);const Tn=new gn(An);mt.push(R(m,Tn))}else{const An=Yf(M,$,nn);mt.push(An)}}return new Xo(mt,re)}(i._query,i.firestore._databaseId,l,e,t,o)}}function cm(i,e,t){if("string"==typeof(t=(0,Re.m9)(t))){if(""===t)throw new Ot(Dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tu(e)&&-1!==t.indexOf("/"))throw new Ot(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Br.fromString(t));if(!gn.isDocumentKey(o))throw new Ot(Dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return R(i,new gn(o))}if(t instanceof ao)return R(i,t._key);throw new Ot(Dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(t)}.`)}function Jf(i,e){if(!Array.isArray(i)||0===i.length)throw new Ot(Dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function um(i,e){if(e.isInequality()){const o=oc(i),l=e.field;if(null!==o&&!o.isEqual(l))throw new Ot(Dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${l.toString()}'`);const u=yd(i);null!==u&&ep(0,l,u)}const t=function(o,l){for(const u of o)for(const m of u.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ot(Dt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ep(i,e,t){if(!t.isEqual(e))throw new Ot(Dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class hm{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return qs(e,(l,u)=>{o[l]=this.convertValue(u,t)}),o}convertGeoPoint(e){return new Zg(Ri(e.latitude),Ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=aa(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(ka(e));default:return null}}convertTimestamp(e){const t=Da(e);return new Fi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Br.fromString(e);ut(Ap(o));const l=new Qa(o.get(1),o.get(3)),u=new gn(o.popFirst(5));return l.isEqual(t)||Ei(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Ch(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Dy extends hm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,t)}}class Dc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rl extends Ih{constructor(e,t,o,l,u,m){super(e,t,o,l,m),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Eh("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class ud extends rl{data(e={}){return super.data(e)}}class Kl{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Dc(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new ud(this._firestore,this._userDataWriter,o.key,o,new Dc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ot(Dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new ud(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Dc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>l||3!==m.type).map(m=>{const M=new ud(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Dc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,z=-1;return 0!==m.type&&($=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),1!==m.type&&(u=u.add(m.doc),z=u.indexOf(m.doc.key)),{type:wy(m.type),doc:M,oldIndex:$,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wn()}}function fm(i,e){return i instanceof rl&&e instanceof rl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Kl&&e instanceof Kl&&i._firestore===e._firestore&&hh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Zl extends hm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ao(this.firestore,null,t)}}function Sy(i,e,t){i=ci(i,ao);const o=ci(i.firestore,Oi),l=Ch(i.converter,e,t);return Th(o,[gh(wl(o),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,so.none())])}function np(i,e,t,...o){i=ci(i,ao);const l=ci(i.firestore,Oi),u=wl(l);let m;return m="string"==typeof(e=(0,Re.m9)(e))||e instanceof ql?tm(u,"updateDoc",i._key,e,t,o):em(u,"updateDoc",i._key,e),Th(l,[m.toMutation(i._key,so.exists(!0))])}function Ay(i,...e){var t,o,l;i=(0,Re.m9)(i);let u={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||yc(e[m])||(u=e[m],m++);const M={includeMetadataChanges:u.includeMetadataChanges};if(yc(e[m])){const Fe=e[m];e[m]=null===(t=Fe.next)||void 0===t?void 0:t.bind(Fe),e[m+1]=null===(o=Fe.error)||void 0===o?void 0:o.bind(Fe),e[m+2]=null===(l=Fe.complete)||void 0===l?void 0:l.bind(Fe)}let $,z,re;if(i instanceof ao)z=ci(i.firestore,Oi),re=Bl(i._key.path),$={next:Fe=>{e[m]&&e[m](My(z,i,Fe))},error:e[m+1],complete:e[m+2]};else{const Fe=ci(i,Qi);z=ci(Fe.firestore,Oi),re=Fe._query;const mt=new Zl(z);$={next:Nt=>{e[m]&&e[m](new Kl(z,mt,Fe,Nt))},error:e[m+1],complete:e[m+2]},im(i._query)}return function(Fe,mt,Nt,nn){const An=new sh(nn),Tn=new ed(mt,An,Nt);return Fe.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return Sf(yield id(Fe),Tn)})),()=>{An.Dc(),Fe.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return Af(yield id(Fe),Tn)}))}}(Ji(z),re,M,$)}function Th(i,e){return function(t,o){const l=new kr;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function X_(i,e,t){return kf.apply(this,arguments)}(yield jg(t),o,l)})),l.promise}(Ji(i),e)}function My(i,e,t){const o=t.docs.get(e._key),l=new Zl(i);return new rl(i,l,e._key,o,new Dc(t.hasPendingWrites,t.fromCache),e.converter)}const P0={maxAttempts:5};class mm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wl(e)}set(e,t,o){this._verifyNotCommitted();const l=bc(e,this._firestore),u=Ch(l.converter,t,o),m=gh(this._dataReader,"WriteBatch.set",l._key,u,null!==l.converter,o);return this._mutations.push(m.toMutation(l._key,so.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const u=bc(e,this._firestore);let m;return m="string"==typeof(t=(0,Re.m9)(t))||t instanceof ql?tm(this._dataReader,"WriteBatch.update",u._key,t,o,l):em(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(m.toMutation(u._key,so.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bc(e,this._firestore);return this._mutations=this._mutations.concat(new qc(t._key,so.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(Dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bc(i,e){if((i=(0,Re.m9)(i)).firestore!==e)throw new Ot(Dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ny extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wl(e)}get(e){const t=bc(e,this._firestore),o=new Dy(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return wn();const u=l[0];if(u.isFoundDocument())return new Ih(this._firestore,o,u.key,u,t.converter);if(u.isNoDocument())return new Ih(this._firestore,o,t._key,null,t.converter);throw wn()})}set(e,t,o){const l=bc(e,this._firestore),u=Ch(l.converter,t,o),m=gh(this._dataReader,"Transaction.set",l._key,u,null!==l.converter,o);return this._transaction.set(l._key,m),this}update(e,t,o,...l){const u=bc(e,this._firestore);let m;return m="string"==typeof(t=(0,Re.m9)(t))||t instanceof ql?tm(this._dataReader,"Transaction.update",u._key,t,o,l):em(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,m),this}delete(e){const t=bc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=bc(e,this._firestore),o=new Zl(this._firestore);return super.get(e).then(l=>new rl(this._firestore,o,t._key,l._document,new Dc(!1,!1),t.converter))}}function ym(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ot("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function $y(){if(typeof Uint8Array>"u")throw new Ot("unimplemented","Uint8Arrays are not available in this environment.")}function Vy(){if(!function Fl(){return typeof atob<"u"}())throw new Ot("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){ra=ot.SDK_VERSION,(0,ot._registerComponent)(new He.wA("firestore",(t,{instanceIdentifier:o,options:l})=>{const u=t.getProvider("app").getImmediate(),m=new Oi(new ya(t.getProvider("auth-internal")),new Vo(t.getProvider("app-check-internal")),function(M,$){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new Ot(Dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(M.options.projectId,$)}(u,o),u);return l=Object.assign({useFetchStreams:e},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),(0,ot.registerVersion)(xl,"3.13.0",i),(0,ot.registerVersion)(xl,"3.13.0","esm2017")}();class Sh{constructor(e){this._delegate=e}static fromBase64String(e){return Vy(),new Sh(Dl.fromBase64String(e))}static fromUint8Array(e){return $y(),new Sh(Dl.fromUint8Array(e))}toBase64(){return Vy(),this._delegate.toBase64()}toUint8Array(){return $y(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ah(i){return function Mh(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class k0{enableIndexedDbPersistence(e,t){return function uy(i,e){my(i=ci(i,Oi));const t=Ji(i);if(t._uninitializedComponentsProvider)throw new Ot(Dt.FAILED_PRECONDITION,"SDK cache is already specified.");gs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),l=new oh;return Yg(t,l,new uu(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function qg(i){my(i=ci(i,Oi));const e=Ji(i);if(e._uninitializedComponentsProvider)throw new Ot(Dt.FAILED_PRECONDITION,"SDK cache is already specified.");gs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),o=new oh;return Yg(e,o,new ih(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function dy(i){if(i._initialized&&!i._terminated)throw new Ot(Dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kr;return i._queue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{yield(t=(0,oe.Z)(function*(o){if(!Uo.D())return Promise.resolve();const l=o+"main";yield Uo.delete(l)}),function(o){return t.apply(this,arguments)})(zu(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class _m{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&gs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Gf(i,e,t,o={}){var l;const u=(i=ci(i,dh))._getSettings(),m=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==m&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:m,ssl:!1})),o.mockUserToken){let M,$;if("string"==typeof o.mockUserToken)M=o.mockUserToken,$=go.MOCK_USER;else{M=(0,Re.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const z=o.mockUserToken.sub||o.mockUserToken.user_id;if(!z)throw new Ot(Dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");$=new go(z)}i._authCredentials=new cl(new qa(M,$))}}(this._delegate,e,t,o)}enableNetwork(){return function fy(i){return function oy(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield ny(i),t=yield ry(i);return e.setNetworkEnabled(!0),function(o){const l=vn(o);return l.vu.delete(0),Yd(l)}(t)}))}(Ji(i=ci(i,Oi)))}(this._delegate)}disableNetwork(){return function py(i){return function zg(i){return i.asyncQueue.enqueue((0,oe.Z)(function*(){const e=yield ny(i),t=yield ry(i);return e.setNetworkEnabled(!1),(o=(0,oe.Z)(function*(l){const u=vn(l);u.vu.add(0),yield au(u),u.bu.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(Ji(i=ci(i,Oi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,ly("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function hy(i){return function(e){const t=new kr;return e.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function J_(i,e){return Tg.apply(this,arguments)}(yield jg(e),t)})),t.promise}(Ji(i=ci(i,Oi)))}(this._delegate)}onSnapshotsInSync(e){return function gm(i,e){return function u0(i,e){const t=new sh(e);return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield id(i),l=t,vn(o).ku.add(l),void l.next();var o,l})),()=>{t.Dc(),i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return o=yield id(i),l=t,void vn(o).ku.delete(l);var o,l}))}}(Ji(i=ci(i,Oi)),yc(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ot("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vu(this,xs(this._delegate,e))}catch(t){throw Vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new ja(this,fu(this._delegate,e))}catch(t){throw Vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Rs(this,function hu(i,e){if(i=ci(i,dh),zf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ot(Dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(i,null,(t=e,new Qo(Br.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function UI(i,e,t){i=ci(i,Oi);const o=Object.assign(Object.assign({},P0),t);return function(l){if(l.maxAttempts<1)throw new Ot(Dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(l,u,m){const M=new kr;return l.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){const $=yield function iy(i){return vc(i).then(e=>e.datastore)}(l);new a0(l.asyncQueue,$,m,u,M).run()})),M.promise}(Ji(i),l=>e(new Ny(i,l)),o)}(this._delegate,t=>e(new Im(this,t)))}batch(){return Ji(this._delegate),new Em(new mm(this._delegate,e=>Th(this._delegate,e)))}loadBundle(e){return function gy(i,e){const t=Ji(i=ci(i,Oi)),o=new sd;return function d0(i,e,t,o){const l=function(u,m){let M;return M="string"==typeof u?Ym().encode(u):u,$=function($,z){if($ instanceof Uint8Array)return Jv($,z);if($ instanceof ArrayBuffer)return Jv(new Uint8Array($),z);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new ey($,m);var $}(t,Xu(e));i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){!function Qv(i,e,t){const o=vn(i);var l;(l=(0,oe.Z)(function*(u,m,M){try{const $=yield m.getMetadata();if(yield function(mt,Nt){const nn=vn(mt),An=Ho(Nt.createTime);return nn.persistence.runTransaction("hasNewerBundle","readonly",Tn=>nn.qs.getBundleMetadata(Tn,Nt.id)).then(Tn=>!!Tn&&Tn.createTime.compareTo(An)>=0)}(u.localStore,$))return yield m.close(),M._completeWith({taskState:"Success",documentsLoaded:(mt=$).totalDocuments,bytesLoaded:mt.totalBytes,totalDocuments:mt.totalDocuments,totalBytes:mt.totalBytes}),Promise.resolve(new Set);M._updateProgress(vg($));const z=new eh($,u.localStore,m.serializer);let re=yield m.bc();for(;re;){const mt=yield z.zu(re);mt&&M._updateProgress(mt),re=yield m.bc()}const Fe=yield z.complete();return yield Wl(u,Fe.Ju,void 0),yield function(mt,Nt){const nn=vn(mt);return nn.persistence.runTransaction("Save bundle","readwrite",An=>nn.qs.saveBundleMetadata(An,Nt))}(u.localStore,$),M._completeWith(Fe.progress),Promise.resolve(Fe.Hu)}catch($){return gs("SyncEngine",`Loading bundle failed with ${$}`),M._failWith($),Promise.resolve(new Set)}var mt}),function(u,m,M){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield jg(i),l,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Kg(i,e){return function h0(i,e){return i.asyncQueue.enqueue((0,oe.Z)(function*(){return function(t,o){const l=vn(t);return l.persistence.runTransaction("Get named query","readonly",u=>l.qs.getNamedQuery(u,o))}(yield Hf(i),e)}))}(Ji(i=ci(i,Oi)),e).then(t=>t?new Qi(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Rs(this,t):null)}}class rp extends hm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sh(new Dl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ja.forKey(t,this.firestore,null)}}class Im{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rp(e)}get(e){const t=Cc(e);return this._delegate.get(t).then(o=>new xh(this._firestore,new rl(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=Cc(e);return o?(ym("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const u=Cc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...l),this}delete(e){const t=Cc(e);return this._delegate.delete(t),this}}class Em{constructor(e){this._delegate=e}set(e,t,o){const l=Cc(e);return o?(ym("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const u=Cc(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,o,...l),this}delete(e){const t=Cc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sl{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new ud(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rh(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Sl.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let u=l.get(t);return u||(u=new Sl(e,new rp(e),t),l.set(t,u)),u}}Sl.INSTANCES=new WeakMap;class ja{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rp(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Ot("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ja(t,new ao(t._delegate,o,new gn(e)))}static forKey(e,t,o){return new ja(t,new ao(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new vu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vu(this.firestore,xs(this._delegate,e))}catch(t){throw Vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Re.m9)(e))instanceof ao&&Ca(this._delegate,e)}set(e,t){t=ym("DocumentReference.set",t);try{return t?Sy(this._delegate,e,t):Sy(this._delegate,e)}catch(o){throw Vs(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?np(this._delegate,e):np(this._delegate,e,t,...o)}catch(l){throw Vs(l,"updateDoc()","DocumentReference.update()")}}delete(){return function mu(i){return Th(ci(i.firestore,Oi),[new qc(i._key,so.none())])}(this._delegate)}onSnapshot(...e){const t=Dm(e),o=wm(e,l=>new xh(this.firestore,new rl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Ay(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Cy(i){i=ci(i,ao);const e=ci(i.firestore,Oi),t=Ji(e),o=new Zl(e);return function l0(i,e){const t=new kr;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(l,u,m){try{const M=yield function($,z){const re=vn($);return re.persistence.runTransaction("read document","readonly",Fe=>re.localDocuments.getDocument(Fe,z))}(l,u);M.isFoundDocument()?m.resolve(M):M.isNoDocument()?m.resolve(null):m.reject(new Ot(Dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const $=cu(M,`Failed to get document '${u} from cache`);m.reject($)}}),function(l,u,m){return o.apply(this,arguments)})(yield Hf(i),e,t);var o})),t.promise}(t,i._key).then(l=>new rl(e,o,i._key,l,new Dc(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ty(i){i=ci(i,ao);const e=ci(i.firestore,Oi);return lh(Ji(e),i._key,{source:"server"}).then(t=>My(e,i,t))}(this._delegate):function by(i){i=ci(i,ao);const e=ci(i.firestore,Oi);return lh(Ji(e),i._key).then(t=>My(e,i,t))}(this._delegate),t.then(o=>new xh(this.firestore,new rl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ja(this.firestore,this._delegate.withConverter(e?Sl.getInstance(this.firestore,e):null))}}function Vs(i,e,t){return i.message=i.message.replace(e,t),i}function Dm(i){for(const e of i)if("object"==typeof e&&!Ah(e))return e;return{}}function wm(i,e){var t,o;let l;return l=Ah(i[0])?i[0]:Ah(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:u=>{l.next&&l.next(e(u))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class xh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fm(this._delegate,e._delegate)}}class Rh extends xh{data(e){const t=this._delegate.data(e);return function Hr(i,e){i||wn()}(void 0!==t),t}}class Rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rp(e)}where(e,t,o){try{return new Rs(this.firestore,Ic(this._delegate,function sm(i,e,t){const o=e,l=Eh("where",i);return wh._create(l,o,t)}(e,t,o)))}catch(l){throw Vs(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Rs(this.firestore,Ic(this._delegate,function lm(i,e="asc"){const t=e,o=Eh("orderBy",i);return ld._create(o,t)}(e,t)))}catch(o){throw Vs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Rs(this.firestore,Ic(this._delegate,function E0(i){return uh("limit",i),bh._create("limit",i,"F")}(e)))}catch(t){throw Vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Rs(this.firestore,Ic(this._delegate,function D0(i){return uh("limitToLast",i),bh._create("limitToLast",i,"L")}(e)))}catch(t){throw Vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Rs(this.firestore,Ic(this._delegate,function Xf(...i){return Zf._create("startAt",i,!0)}(...e)))}catch(t){throw Vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Rs(this.firestore,Ic(this._delegate,function Qf(...i){return Zf._create("startAfter",i,!1)}(...e)))}catch(t){throw Vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Rs(this.firestore,Ic(this._delegate,function Iy(...i){return cd._create("endBefore",i,!1)}(...e)))}catch(t){throw Vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Rs(this.firestore,Ic(this._delegate,function w0(...i){return cd._create("endAt",i,!0)}(...e)))}catch(t){throw Vs(t,"endAt()","Query.endAt()")}}isEqual(e){return hh(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function wc(i){i=ci(i,Qi);const e=ci(i.firestore,Oi),t=Ji(e),o=new Zl(e);return function c0(i,e){const t=new kr;return i.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return(o=(0,oe.Z)(function*(l,u,m){try{const M=yield fc(l,u,!0),$=new Pf(u,M.ir),z=$.sc(M.documents),re=$.applyChanges(z,!1);m.resolve(re.snapshot)}catch(M){const $=cu(M,`Failed to execute query '${u} against cache`);m.reject($)}}),function(l,u,m){return o.apply(this,arguments)})(yield Hf(i),e,t);var o})),t.promise}(t,i._query).then(l=>new Kl(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function M0(i){i=ci(i,Qi);const e=ci(i.firestore,Oi),t=Ji(e),o=new Zl(e);return sy(t,i._query,{source:"server"}).then(l=>new Kl(e,o,i,l))}(this._delegate):function tp(i){i=ci(i,Qi);const e=ci(i.firestore,Oi),t=Ji(e),o=new Zl(e);return im(i._query),sy(t,i._query).then(l=>new Kl(e,o,i,l))}(this._delegate),t.then(o=>new op(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Dm(e),o=wm(e,l=>new op(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Ay(this._delegate,t,o)}withConverter(e){return new Rs(this.firestore,this._delegate.withConverter(e?Sl.getInstance(this.firestore,e):null))}}class ip{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class op{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ip(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Rh(this._firestore,o))})}isEqual(e){return fm(this._delegate,e._delegate)}}class vu extends Rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ja(this.firestore,e):null}doc(e){try{return new ja(this.firestore,void 0===e?fu(this._delegate):fu(this._delegate,e))}catch(t){throw Vs(t,"doc()","CollectionReference.doc()")}}add(e){return function pm(i,e){const t=ci(i.firestore,Oi),o=fu(i),l=Ch(i.converter,e);return Th(t,[gh(wl(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,so.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ja(this.firestore,t))}isEqual(e){return Ca(this._delegate,e._delegate)}withConverter(e){return new vu(this.firestore,this._delegate.withConverter(e?Sl.getInstance(this.firestore,e):null))}}function Cc(i){return ci(i,ao)}class sp{constructor(...e){this._delegate=new ql(...e)}static documentId(){return new sp(Li.keyField().canonicalString())}isEqual(e){return(e=(0,Re.m9)(e))instanceof ql&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vm(){return new Jg("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Tc(e)}static delete(){const e=function ky(){return new Yl("deleteField")}();return e._methodName="FieldValue.delete",new Tc(e)}static arrayUnion(...e){const t=function Cl(...i){return new mh("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Tc(t)}static arrayRemove(...e){const t=function N0(...i){return new y0("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Tc(t)}static increment(e){const t=function Fy(i){return new _0("increment",i)}(e);return t._methodName="FieldValue.increment",new Tc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Uy={Firestore:_m,GeoPoint:Zg,Timestamp:Fi,Blob:Sh,Transaction:Im,WriteBatch:Em,DocumentReference:ja,DocumentSnapshot:xh,Query:Rs,QueryDocumentSnapshot:Rh,QuerySnapshot:op,CollectionReference:vu,FieldPath:sp,FieldValue:Tc,setLogLevel:function F0(i){!function ll(i){To.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Hy(i){(function jy(i,e){i.INTERNAL.registerComponent(new He.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},Uy)))})(i,(e,t)=>new _m(e,t,new k0)),i.registerVersion("@firebase/firestore-compat","0.3.12")}(we.Z);var Sc=k(6796),L0=k(8697),B0=k(7142);function zy(i,e){return function $0(i,e=f.z){return new W.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function bm(i,e){return zy(i,e).pipe((0,Q.U)(t=>({payload:t,type:"query"})))}function ap(i,e){return bm(i,e).pipe((0,he.O)(void 0),fe(),(0,Q.U)(([t,o])=>{const l=o.payload.docChanges(),u=l.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,M)=>{const $=l.find(re=>re.doc.ref.isEqual(m.ref)),z=null==t?void 0:t.payload.docs.find(re=>re.ref.isEqual(m.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(m.metadata)||!$&&z&&JSON.stringify(z.metadata)===JSON.stringify(m.metadata)||u.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:m}})}),u}))}function Gy(i,e,t){return ap(i,t).pipe((0,be.R)((o,l)=>function U0(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function j0(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Cm(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Cm(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Cm(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(u=>u.payload),e),[]),(0,Ie.x)(),(0,Q.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function Cm(i,e,t,...o){const l=i.slice();return l.splice(e,t,...o),l}function Wy(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class qy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=ap(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Q.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,he.O)(void 0),fe(),(0,Me.h)(([o,l])=>l.length>0||!o),(0,Q.U)(([o,l])=>l),ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Wy(e);return Gy(this.query,t,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return bm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Q.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ve.iC)}get(e){return(0,J.D)(this.query.get(e)).pipe(ve.iC)}add(e){return this.ref.add(e)}doc(e){return new Yy(this.ref.doc(e),this.afs)}}class Yy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:u}=Tm(o,t);return new qy(l,u,this.afs)}snapshotChanges(){return function V0(i,e){return zy(i,e).pipe((0,he.O)(void 0),fe(),(0,Q.U)(([t,o])=>o.exists?null!=t&&t.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Q.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,J.D)(this.ref.get(e)).pipe(ve.iC)}}class H0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ap(this.query,this.afs.schedulers.outsideAngular).pipe((0,Q.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Me.h)(t=>t.length>0),ve.iC):ap(this.query,this.afs.schedulers.outsideAngular).pipe(ve.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,be.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Wy(e);return Gy(this.query,t,this.afs.schedulers.outsideAngular).pipe(ve.iC)}valueChanges(e={}){return bm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Q.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),ve.iC)}get(e){return(0,J.D)(this.query.get(e)).pipe(ve.iC)}}const Ky=new g.OlP("angularfire2.enableFirestorePersistence"),Zy=new g.OlP("angularfire2.firestore.persistenceSettings"),Xy=new g.OlP("angularfire2.firestore.settings"),Qy=new g.OlP("angularfire2.firestore.use-emulator");function Tm(i,e=(t=>t)){return{query:e(i),ref:i}}let Sm=(()=>{class i{constructor(t,o,l,u,m,M,$,z,re,Fe,mt,Nt,nn,An,Tn,Rr,ui){this.schedulers=$;const Or=(0,Le.on)(t,M,o),ji=re;Fe&&(0,Sc.nw)(Or,M,mt,nn,An,Tn,Nt,Rr),[this.firestore,this.persistenceEnabled$]=(0,Le.cc)(`${Or.name}.firestore`,"AngularFirestore",Or.name,()=>{const eo=M.runOutsideAngular(()=>Or.firestore());if(u&&eo.settings(u),ji&&eo.useEmulator(...ji),l&&!(0,rt.PM)(m)){const Pi=()=>{try{return(0,J.D)(eo.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(cs){return typeof console<"u"&&console.warn(cs),(0,Ce.of)(!1)}};return[eo,M.runOutsideAngular(Pi)]}return[eo,(0,Ce.of)(!1)]},[u,ji,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:m}=Tm(l,o),M=this.schedulers.ngZone.run(()=>u);return new qy(M,m,this)}collectionGroup(t,o){const l=o||(m=>m),u=this.firestore.collectionGroup(t);return new H0(l(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new Yy(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(g.LFG(Le.Dh),g.LFG(Le.xv,8),g.LFG(Ky,8),g.LFG(Xy,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(ve.HU),g.LFG(Zy,8),g.LFG(Qy,8),g.LFG(Sc.zQ,8),g.LFG(Sc.Qv,8),g.LFG(Sc.L6,8),g.LFG(Sc._Q,8),g.LFG(Sc.rT,8),g.LFG(Sc.lh,8),g.LFG(Sc.f7,8),g.LFG(L0.nm,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Jy=(()=>{class i{constructor(){B0.Z.registerVersion("angularfire",ve.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:Ky,useValue:!0},{provide:Zy,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[Sm]}),i})()},6304:(qt,Ke,k)=>{"use strict";k.d(Ke,{Dh:()=>Ue,GT:()=>ve,cc:()=>Me,hO:()=>Ie,on:()=>fe,pX:()=>Ce,xv:()=>Ae});var g=k(5879),f=k(7142),W=k(8186);qt=k.hmd(qt);const J=["ngOnDestroy"],Ce=(we,oe,ot,He={})=>new Proxy(we,{get:(pe,Re)=>ot.runOutsideAngular(()=>{var ke;if(we[Re])return!(null===(ke=null==He?void 0:He.spy)||void 0===ke)&&ke.get&&He.spy.get(Re,we[Re]),we[Re];if(J.indexOf(Re)>-1)return()=>{};const Ee=oe.toPromise().then(te=>{const dt=te&&te[Re];return"function"==typeof dt?dt.bind(te):dt&&dt.then?dt.then(Ve=>ot.run(()=>Ve)):ot.run(()=>dt)});return new Proxy(()=>{},{get:(te,dt)=>Ee[dt],apply:(te,dt,Ve)=>Ee.then(st=>{var lt;const ft=st&&st(...Ve);return!(null===(lt=null==He?void 0:He.spy)||void 0===lt)&&lt.apply&&He.spy.apply(Re,Ve,ft),ft})})})}),ve=(we,oe)=>{oe.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(He=>{Object.defineProperty(we.prototype,He,Object.getOwnPropertyDescriptor(ot.prototype||ot,He))})})};class he{constructor(oe){return oe}}const Ue=new g.OlP("angularfire2.app.options"),Ae=new g.OlP("angularfire2.app.name");function fe(we,oe,ot){const pe="object"==typeof ot&&ot||{};pe.name=pe.name||"string"==typeof ot&&ot||"[DEFAULT]";const ke=f.Z.apps.filter(Ee=>Ee&&Ee.name===pe.name)[0]||oe.runOutsideAngular(()=>f.Z.initializeApp(we,pe));try{JSON.stringify(we)!==JSON.stringify(ke.options)&&Q("error",`${ke.name} Firebase App already initialized with different options${qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(ke)}const Q=(we,...oe)=>{(0,g.X6Q)()&&typeof console<"u"&&console[we](...oe)},be={provide:he,useFactory:fe,deps:[Ue,g.R0b,[new g.FiY,Ae]]};let Ie=(()=>{class we{constructor(ot){f.Z.registerVersion("angularfire",W.q4.full,"core"),f.Z.registerVersion("angularfire",W.q4.full,"app-compat"),f.Z.registerVersion("angular",g.q4F.full,ot.toString())}static initializeApp(ot,He){return{ngModule:we,providers:[{provide:Ue,useValue:ot},{provide:Ae,useValue:He}]}}}return we.\u0275fac=function(ot){return new(ot||we)(g.LFG(g.Lbi))},we.\u0275mod=g.oAB({type:we}),we.\u0275inj=g.cJS({providers:[be]}),we})();function Me(we,oe,ot,He,pe){const[,Re,ke]=globalThis.\u0275AngularfireInstanceCache.find(Ee=>Ee[0]===we)||[];if(Re)return function Le(we,oe){try{return we.toString()===oe.toString()}catch{return we===oe}}(pe,ke)||(Te("error",`${oe} was already initialized on the ${ot} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:pe,was:ke})),Re;{const Ee=He();return globalThis.\u0275AngularfireInstanceCache.push([we,Ee,pe]),Ee}}const rt=!!qt.hot,Te=(we,...oe)=>{(0,g.X6Q)()&&typeof console<"u"&&console[we](...oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(qt,Ke,k)=>{"use strict";k.d(Ke,{q4:()=>xo,iC:()=>La,HU:()=>Qa,vb:()=>Ys,JM:()=>ys});var g=k(5879),f=k(3182),W=k(5861),J=k(534),Ce=k(9058),ve=k(4537),he=k(7879);const Ue=(T,R)=>R.some(q=>T instanceof q);let Ae,fe;const Ie=new WeakMap,Me=new WeakMap,Le=new WeakMap,rt=new WeakMap,Te=new WeakMap;let ot={get(T,R,q){if(T instanceof IDBTransaction){if("done"===R)return Me.get(T);if("objectStoreNames"===R)return T.objectStoreNames||Le.get(T);if("store"===R)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return ke(T[R])},set:(T,R,q)=>(T[R]=q,!0),has:(T,R)=>T instanceof IDBTransaction&&("done"===R||"store"===R)||R in T};function Re(T){return"function"==typeof T?function pe(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...R){return T.apply(Ee(this),R),ke(Ie.get(this))}:function(...R){return ke(T.apply(Ee(this),R))}:function(R,...q){const _e=T.call(Ee(this),R,...q);return Le.set(_e,R.sort?R.sort():[R]),ke(_e)}}(T):(T instanceof IDBTransaction&&function oe(T){if(Me.has(T))return;const R=new Promise((q,_e)=>{const qe=()=>{T.removeEventListener("complete",nt),T.removeEventListener("error",Tt),T.removeEventListener("abort",Tt)},nt=()=>{q(),qe()},Tt=()=>{_e(T.error||new DOMException("AbortError","AbortError")),qe()};T.addEventListener("complete",nt),T.addEventListener("error",Tt),T.addEventListener("abort",Tt)});Me.set(T,R)}(T),Ue(T,function Q(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,ot):T)}function ke(T){if(T instanceof IDBRequest)return function we(T){const R=new Promise((q,_e)=>{const qe=()=>{T.removeEventListener("success",nt),T.removeEventListener("error",Tt)},nt=()=>{q(ke(T.result)),qe()},Tt=()=>{_e(T.error),qe()};T.addEventListener("success",nt),T.addEventListener("error",Tt)});return R.then(q=>{q instanceof IDBCursor&&Ie.set(q,T)}).catch(()=>{}),Te.set(R,T),R}(T);if(rt.has(T))return rt.get(T);const R=Re(T);return R!==T&&(rt.set(T,R),Te.set(R,T)),R}const Ee=T=>Te.get(T),Ve=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],lt=new Map;function ft(T,R){if(!(T instanceof IDBDatabase)||R in T||"string"!=typeof R)return;if(lt.get(R))return lt.get(R);const q=R.replace(/FromIndex$/,""),_e=R!==q,qe=st.includes(q);if(!(q in(_e?IDBIndex:IDBObjectStore).prototype)||!qe&&!Ve.includes(q))return;const nt=function(){var Tt=(0,W.Z)(function*(pn,...ln){const Fn=this.transaction(pn,qe?"readwrite":"readonly");let hr=Fn.store;return _e&&(hr=hr.index(ln.shift())),(yield Promise.all([hr[q](...ln),qe&&Fn.done]))[0]});return function(ln){return Tt.apply(this,arguments)}}();return lt.set(R,nt),nt}!function He(T){ot=T(ot)}(T=>({...T,get:(R,q,_e)=>ft(R,q)||T.get(R,q,_e),has:(R,q)=>!!ft(R,q)||T.has(R,q)}));const Wt="@firebase/installations",In="0.6.4",zt=1e4,ht=`w:${In}`,le="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",xe=36e5,Bt=new Ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ct(T){return T instanceof Ce.ZR&&T.code.includes("request-failed")}function at({projectId:T}){return`${ge}/projects/${T}/installations`}function gt(T){return{token:T.token,requestStatus:2,expiresIn:mn(T.expiresIn),creationTime:Date.now()}}function Pe(T,R){return Et.apply(this,arguments)}function Et(){return(Et=(0,W.Z)(function*(T,R){const _e=(yield R.json()).error;return Bt.create("request-failed",{requestName:T,serverCode:_e.code,serverMessage:_e.message,serverStatus:_e.status})})).apply(this,arguments)}function _t({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function cn(T){return an.apply(this,arguments)}function an(){return(an=(0,W.Z)(function*(T){const R=yield T();return R.status>=500&&R.status<600?T():R})).apply(this,arguments)}function mn(T){return Number(T.replace("s","000"))}function _n(){return(_n=(0,W.Z)(function*({appConfig:T,heartbeatServiceProvider:R},{fid:q}){const _e=at(T),qe=_t(T),nt=R.getImmediate({optional:!0});if(nt){const Fn=yield nt.getHeartbeatsHeader();Fn&&qe.append("x-firebase-client",Fn)}const pn={method:"POST",headers:qe,body:JSON.stringify({fid:q,authVersion:le,appId:T.appId,sdkVersion:ht})},ln=yield cn(()=>fetch(_e,pn));if(ln.ok){const Fn=yield ln.json();return{fid:Fn.fid||q,registrationStatus:2,refreshToken:Fn.refreshToken,authToken:gt(Fn.authToken)}}throw yield Pe("Create Installation",ln)})).apply(this,arguments)}function Rn(T){return new Promise(R=>{setTimeout(R,T)})}const sr=/^[cdef][\w-]{21}$/,vr="";function Jt(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const q=function Mn(T){return function br(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return sr.test(q)?q:vr}catch{return vr}}function qn(T){return`${T.appName}!${T.appId}`}const un=new Map;function Fr(T,R){const q=qn(T);Lr(q,R),function xt(T,R){const q=function $n(){return!Qr&&"BroadcastChannel"in self&&(Qr=new BroadcastChannel("[Firebase] FID Change"),Qr.onmessage=T=>{Lr(T.data.key,T.data.fid)}),Qr}();q&&q.postMessage({key:T,fid:R}),function Er(){0===un.size&&Qr&&(Qr.close(),Qr=null)}()}(q,R)}function Lr(T,R){const q=un.get(T);if(q)for(const _e of q)_e(R)}let Qr=null;const Yr="firebase-installations-database",oi=1,Mr="firebase-installations-store";let xr=null;function Cr(){return xr||(xr=function te(T,R,{blocked:q,upgrade:_e,blocking:qe,terminated:nt}={}){const Tt=indexedDB.open(T,R),pn=ke(Tt);return _e&&Tt.addEventListener("upgradeneeded",ln=>{_e(ke(Tt.result),ln.oldVersion,ln.newVersion,ke(Tt.transaction))}),q&&Tt.addEventListener("blocked",()=>q()),pn.then(ln=>{nt&&ln.addEventListener("close",()=>nt()),qe&&ln.addEventListener("versionchange",()=>qe())}).catch(()=>{}),pn}(Yr,oi,{upgrade:(T,R)=>{0===R&&T.createObjectStore(Mr)}})),xr}function Pr(T,R){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,W.Z)(function*(T,R){const q=qn(T),qe=(yield Cr()).transaction(Mr,"readwrite"),nt=qe.objectStore(Mr),Tt=yield nt.get(q);return yield nt.put(R,q),yield qe.done,(!Tt||Tt.fid!==R.fid)&&Fr(T,R.fid),R})).apply(this,arguments)}function yr(T){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,W.Z)(function*(T){const R=qn(T),_e=(yield Cr()).transaction(Mr,"readwrite");yield _e.objectStore(Mr).delete(R),yield _e.done})).apply(this,arguments)}function fr(T,R){return rr.apply(this,arguments)}function rr(){return(rr=(0,W.Z)(function*(T,R){const q=qn(T),qe=(yield Cr()).transaction(Mr,"readwrite"),nt=qe.objectStore(Mr),Tt=yield nt.get(q),pn=R(Tt);return void 0===pn?yield nt.delete(q):yield nt.put(pn,q),yield qe.done,pn&&(!Tt||Tt.fid!==pn.fid)&&Fr(T,pn.fid),pn})).apply(this,arguments)}function Ne(T){return X.apply(this,arguments)}function X(){return X=(0,W.Z)(function*(T){let R;const q=yield fr(T.appConfig,_e=>{const qe=function V(T){return Vt(T||{fid:Jt(),registrationStatus:0})}(_e),nt=function G(T,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Bt.create("app-offline"))};const q={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},_e=function B(T,R){return de.apply(this,arguments)}(T,q);return{installationEntry:q,registrationPromise:_e}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:je(T)}:{installationEntry:R}}(T,qe);return R=nt.registrationPromise,nt.installationEntry});return q.fid===vr?{installationEntry:yield R}:{installationEntry:q,registrationPromise:R}}),X.apply(this,arguments)}function de(){return de=(0,W.Z)(function*(T,R){try{const q=yield function bn(T,R){return _n.apply(this,arguments)}(T,R);return Pr(T.appConfig,q)}catch(q){throw Ct(q)&&409===q.customData.serverCode?yield yr(T.appConfig):yield Pr(T.appConfig,{fid:R.fid,registrationStatus:0}),q}}),de.apply(this,arguments)}function je(T){return yt.apply(this,arguments)}function yt(){return(yt=(0,W.Z)(function*(T){let R=yield $t(T.appConfig);for(;1===R.registrationStatus;)yield Rn(100),R=yield $t(T.appConfig);if(0===R.registrationStatus){const{installationEntry:q,registrationPromise:_e}=yield Ne(T);return _e||q}return R})).apply(this,arguments)}function $t(T){return fr(T,R=>{if(!R)throw Bt.create("installation-not-found");return Vt(R)})}function Vt(T){return function Gt(T){return 1===T.registrationStatus&&T.registrationTime+zt<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function Jn(){return(Jn=(0,W.Z)(function*({appConfig:T,heartbeatServiceProvider:R},q){const _e=function xn(T,{fid:R}){return`${at(T)}/${R}/authTokens:generate`}(T,q),qe=function Ut(T,{refreshToken:R}){const q=_t(T);return q.append("Authorization",function Nn(T){return`${le} ${T}`}(R)),q}(T,q),nt=R.getImmediate({optional:!0});if(nt){const Fn=yield nt.getHeartbeatsHeader();Fn&&qe.append("x-firebase-client",Fn)}const pn={method:"POST",headers:qe,body:JSON.stringify({installation:{sdkVersion:ht,appId:T.appId}})},ln=yield cn(()=>fetch(_e,pn));if(ln.ok)return gt(yield ln.json());throw yield Pe("Generate Auth Token",ln)})).apply(this,arguments)}function Ur(T){return qr.apply(this,arguments)}function qr(){return qr=(0,W.Z)(function*(T,R=!1){let q;const _e=yield fr(T.appConfig,nt=>{if(!en(nt))throw Bt.create("not-registered");const Tt=nt.authToken;if(!R&&function Xn(T){return 2===T.requestStatus&&!function Nr(T){const R=Date.now();return R<T.creationTime||T.creationTime+T.expiresIn<R+xe}(T)}(Tt))return nt;if(1===Tt.requestStatus)return q=function pt(T,R){return it.apply(this,arguments)}(T,R),nt;{if(!navigator.onLine)throw Bt.create("app-offline");const pn=function Tr(T){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:R})}(nt);return q=function hn(T,R){return fn.apply(this,arguments)}(T,pn),pn}});return q?yield q:_e.authToken}),qr.apply(this,arguments)}function it(){return(it=(0,W.Z)(function*(T,R){let q=yield Lt(T.appConfig);for(;1===q.authToken.requestStatus;)yield Rn(100),q=yield Lt(T.appConfig);const _e=q.authToken;return 0===_e.requestStatus?Ur(T,R):_e})).apply(this,arguments)}function Lt(T){return fr(T,R=>{if(!en(R))throw Bt.create("not-registered");return function mr(T){return 1===T.requestStatus&&T.requestTime+zt<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function fn(){return fn=(0,W.Z)(function*(T,R){try{const q=yield function dn(T,R){return Jn.apply(this,arguments)}(T,R),_e=Object.assign(Object.assign({},R),{authToken:q});return yield Pr(T.appConfig,_e),q}catch(q){if(!Ct(q)||401!==q.customData.serverCode&&404!==q.customData.serverCode){const _e=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield Pr(T.appConfig,_e)}else yield yr(T.appConfig);throw q}}),fn.apply(this,arguments)}function en(T){return void 0!==T&&2===T.registrationStatus}function Qn(){return(Qn=(0,W.Z)(function*(T){const R=T,{installationEntry:q,registrationPromise:_e}=yield Ne(R);return _e?_e.catch(console.error):Ur(R).catch(console.error),q.fid})).apply(this,arguments)}function lo(){return lo=(0,W.Z)(function*(T,R=!1){const q=T;return yield function si(T){return Bi.apply(this,arguments)}(q),(yield Ur(q,R)).token}),lo.apply(this,arguments)}function Bi(){return(Bi=(0,W.Z)(function*(T){const{registrationPromise:R}=yield Ne(T);R&&(yield R)})).apply(this,arguments)}function Z(T){return Bt.create("missing-app-config-values",{valueName:T})}const me="installations",Se=T=>{const R=T.getProvider("app").getImmediate(),q=function to(T){if(!T||!T.options)throw Z("App Configuration");if(!T.name)throw Z("App Name");const R=["projectId","apiKey","appId"];for(const q of R)if(!T.options[q])throw Z(q);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(R);return{app:R,appConfig:q,heartbeatServiceProvider:(0,J._getProvider)(R,"heartbeat"),_delete:()=>Promise.resolve()}},Ye=T=>{const R=T.getProvider("app").getImmediate(),q=(0,J._getProvider)(R,me).getImmediate();return{getId:()=>function er(T){return Qn.apply(this,arguments)}(q),getToken:qe=>function yo(T){return lo.apply(this,arguments)}(q,qe)}};(function Qe(){(0,J._registerComponent)(new ve.wA(me,Se,"PUBLIC")),(0,J._registerComponent)(new ve.wA("installations-internal",Ye,"PRIVATE"))})(),(0,J.registerVersion)(Wt,In),(0,J.registerVersion)(Wt,In,"esm2017");const vt="@firebase/remote-config",Dn=new Ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rn{constructor(R,q,_e,qe){this.client=R,this.storage=q,this.storageCache=_e,this.logger=qe}isCachedDataFresh(R,q){if(!q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const _e=Date.now()-q,qe=_e<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${_e}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${qe}.`),qe}fetch(R){var q=this;return(0,W.Z)(function*(){const[_e,qe]=yield Promise.all([q.storage.getLastSuccessfulFetchTimestampMillis(),q.storage.getLastSuccessfulFetchResponse()]);if(qe&&q.isCachedDataFresh(R.cacheMaxAgeMillis,_e))return qe;R.eTag=qe&&qe.eTag;const nt=yield q.client.fetch(R),Tt=[q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===nt.status&&Tt.push(q.storage.setLastSuccessfulFetchResponse(nt)),yield Promise.all(Tt),nt})()}}function Wn(T=navigator){return T.languages&&T.languages[0]||T.language}class ur{constructor(R,q,_e,qe,nt,Tt){this.firebaseInstallations=R,this.sdkVersion=q,this.namespace=_e,this.projectId=qe,this.apiKey=nt,this.appId=Tt}fetch(R){var q=this;return(0,W.Z)(function*(){const[_e,qe]=yield Promise.all([q.firebaseInstallations.getId(),q.firebaseInstallations.getToken()]),Tt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${q.projectId}/namespaces/${q.namespace}:fetch?key=${q.apiKey}`,pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},ln={sdk_version:q.sdkVersion,app_instance_id:_e,app_instance_id_token:qe,app_id:q.appId,language_code:Wn()},Fn={method:"POST",headers:pn,body:JSON.stringify(ln)},hr=fetch(Tt,Fn),gr=new Promise((Ls,la)=>{R.signal.addEventListener(()=>{const wa=new Error("The operation was aborted.");wa.name="AbortError",la(wa)})});let as;try{yield Promise.race([hr,gr]),as=yield hr}catch(Ls){let la="fetch-client-network";throw"AbortError"===(null==Ls?void 0:Ls.name)&&(la="fetch-timeout"),Dn.create(la,{originalErrorMessage:null==Ls?void 0:Ls.message})}let Zr=as.status;const Zo=as.headers.get("ETag")||void 0;let li,Xo;if(200===as.status){let Ls;try{Ls=yield as.json()}catch(la){throw Dn.create("fetch-client-parse",{originalErrorMessage:null==la?void 0:la.message})}li=Ls.entries,Xo=Ls.state}if("INSTANCE_STATE_UNSPECIFIED"===Xo?Zr=500:"NO_CHANGE"===Xo?Zr=304:("NO_TEMPLATE"===Xo||"EMPTY_CONFIG"===Xo)&&(li={}),304!==Zr&&200!==Zr)throw Dn.create("fetch-status",{httpStatus:Zr});return{status:Zr,eTag:Zo,config:li}})()}}class Jr{constructor(R,q){this.client=R,this.storage=q}fetch(R){var q=this;return(0,W.Z)(function*(){const _e=(yield q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return q.attemptFetch(R,_e)})()}attemptFetch(R,{throttleEndTimeMillis:q,backoffCount:_e}){var qe=this;return(0,W.Z)(function*(){yield function Ti(T,R){return new Promise((q,_e)=>{const qe=Math.max(R-Date.now(),0),nt=setTimeout(q,qe);T.addEventListener(()=>{clearTimeout(nt),_e(Dn.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,q);try{const nt=yield qe.client.fetch(R);return yield qe.storage.deleteThrottleMetadata(),nt}catch(nt){if(!function Go(T){if(!(T instanceof Ce.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(nt))throw nt;const Tt={throttleEndTimeMillis:Date.now()+(0,Ce.$s)(_e),backoffCount:_e+1};return yield qe.storage.setThrottleMetadata(Tt),qe.attemptFetch(R,Tt)}})()}}class co{constructor(R,q,_e,qe,nt){this.app=R,this._client=q,this._storageCache=_e,this._storage=qe,this._logger=nt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ii(T,R){const q=T.target.error||void 0;return Dn.create(R,{originalErrorMessage:q&&(null==q?void 0:q.message)})}const Pn="app_namespace_store";class Zn{constructor(R,q,_e,qe=function us(){return new Promise((T,R)=>{try{const q=indexedDB.open("firebase_remote_config",1);q.onerror=_e=>{R(ii(_e,"storage-open"))},q.onsuccess=_e=>{T(_e.target.result)},q.onupgradeneeded=_e=>{0===_e.oldVersion&&_e.target.result.createObjectStore(Pn,{keyPath:"compositeKey"})}}catch(q){R(Dn.create("storage-open",{originalErrorMessage:null==q?void 0:q.message}))}})}()){this.appId=R,this.appName=q,this.namespace=_e,this.openDbPromise=qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var q=this;return(0,W.Z)(function*(){const _e=yield q.openDbPromise;return new Promise((qe,nt)=>{const pn=_e.transaction([Pn],"readonly").objectStore(Pn),ln=q.createCompositeKey(R);try{const Fn=pn.get(ln);Fn.onerror=hr=>{nt(ii(hr,"storage-get"))},Fn.onsuccess=hr=>{const gr=hr.target.result;qe(gr?gr.value:void 0)}}catch(Fn){nt(Dn.create("storage-get",{originalErrorMessage:null==Fn?void 0:Fn.message}))}})})()}set(R,q){var _e=this;return(0,W.Z)(function*(){const qe=yield _e.openDbPromise;return new Promise((nt,Tt)=>{const ln=qe.transaction([Pn],"readwrite").objectStore(Pn),Fn=_e.createCompositeKey(R);try{const hr=ln.put({compositeKey:Fn,value:q});hr.onerror=gr=>{Tt(ii(gr,"storage-set"))},hr.onsuccess=()=>{nt()}}catch(hr){Tt(Dn.create("storage-set",{originalErrorMessage:null==hr?void 0:hr.message}))}})})()}delete(R){var q=this;return(0,W.Z)(function*(){const _e=yield q.openDbPromise;return new Promise((qe,nt)=>{const pn=_e.transaction([Pn],"readwrite").objectStore(Pn),ln=q.createCompositeKey(R);try{const Fn=pn.delete(ln);Fn.onerror=hr=>{nt(ii(hr,"storage-delete"))},Fn.onsuccess=()=>{qe()}}catch(Fn){nt(Dn.create("storage-delete",{originalErrorMessage:null==Fn?void 0:Fn.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class qi{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,W.Z)(function*(){const q=R.storage.getLastFetchStatus(),_e=R.storage.getLastSuccessfulFetchTimestampMillis(),qe=R.storage.getActiveConfig(),nt=yield q;nt&&(R.lastFetchStatus=nt);const Tt=yield _e;Tt&&(R.lastSuccessfulFetchTimestampMillis=Tt);const pn=yield qe;pn&&(R.activeConfig=pn)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Us(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,W.Z)(function*(){if(!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch{return!1}})).apply(this,arguments)}!function no(){(0,J._registerComponent)(new ve.wA("remote-config",function T(R,{instanceIdentifier:q}){const _e=R.getProvider("app").getImmediate(),qe=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Dn.create("registration-window");if(!(0,Ce.hl)())throw Dn.create("indexed-db-unavailable");const{projectId:nt,apiKey:Tt,appId:pn}=_e.options;if(!nt)throw Dn.create("registration-project-id");if(!Tt)throw Dn.create("registration-api-key");if(!pn)throw Dn.create("registration-app-id");const ln=new Zn(pn,_e.name,q=q||"firebase"),Fn=new qi(ln),hr=new he.Yd(vt);hr.logLevel=he.in.ERROR;const gr=new ur(qe,J.SDK_VERSION,q,nt,Tt,pn),as=new Jr(gr,ln),Zr=new rn(as,ln,Fn,hr),Zo=new co(_e,Zr,Fn,ln,hr);return function Gn(T){const R=(0,Ce.m9)(T);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Zo),Zo},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(vt,"0.4.4"),(0,J.registerVersion)(vt,"0.4.4","esm2017")}();const zi=(T,R)=>R.some(q=>T instanceof q);let uo,is;const fo=new WeakMap,ko=new WeakMap,ei=new WeakMap,ro=new WeakMap,Fo=new WeakMap;let js={get(T,R,q){if(T instanceof IDBTransaction){if("done"===R)return ko.get(T);if("objectStoreNames"===R)return T.objectStoreNames||ei.get(T);if("store"===R)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return xi(T[R])},set:(T,R,q)=>(T[R]=q,!0),has:(T,R)=>T instanceof IDBTransaction&&("done"===R||"store"===R)||R in T};function wo(T){return"function"==typeof T?function _i(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ho(){return is||(is=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...R){return T.apply(bo(this),R),xi(fo.get(this))}:function(...R){return xi(T.apply(bo(this),R))}:function(R,...q){const _e=T.call(bo(this),R,...q);return ei.set(_e,R.sort?R.sort():[R]),xi(_e)}}(T):(T instanceof IDBTransaction&&function fi(T){if(ko.has(T))return;const R=new Promise((q,_e)=>{const qe=()=>{T.removeEventListener("complete",nt),T.removeEventListener("error",Tt),T.removeEventListener("abort",Tt)},nt=()=>{q(),qe()},Tt=()=>{_e(T.error||new DOMException("AbortError","AbortError")),qe()};T.addEventListener("complete",nt),T.addEventListener("error",Tt),T.addEventListener("abort",Tt)});ko.set(T,R)}(T),zi(T,function Vn(){return uo||(uo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,js):T)}function xi(T){if(T instanceof IDBRequest)return function Do(T){const R=new Promise((q,_e)=>{const qe=()=>{T.removeEventListener("success",nt),T.removeEventListener("error",Tt)},nt=()=>{q(xi(T.result)),qe()},Tt=()=>{_e(T.error),qe()};T.addEventListener("success",nt),T.addEventListener("error",Tt)});return R.then(q=>{q instanceof IDBCursor&&fo.set(q,T)}).catch(()=>{}),Fo.set(R,T),R}(T);if(ro.has(T))return ro.get(T);const R=wo(T);return R!==T&&(ro.set(T,R),Fo.set(R,T)),R}const bo=T=>Fo.get(T);function Si(T,R,{blocked:q,upgrade:_e,blocking:qe,terminated:nt}={}){const Tt=indexedDB.open(T,R),pn=xi(Tt);return _e&&Tt.addEventListener("upgradeneeded",ln=>{_e(xi(Tt.result),ln.oldVersion,ln.newVersion,xi(Tt.transaction))}),q&&Tt.addEventListener("blocked",()=>q()),pn.then(ln=>{nt&&ln.addEventListener("close",()=>nt()),qe&&ln.addEventListener("versionchange",()=>qe())}).catch(()=>{}),pn}function Es(T,{blocked:R}={}){const q=indexedDB.deleteDatabase(T);return R&&q.addEventListener("blocked",()=>R()),xi(q).then(()=>{})}const Js=["get","getKey","getAll","getAllKeys","count"],Hs=["put","add","delete","clear"],da=new Map;function hs(T,R){if(!(T instanceof IDBDatabase)||R in T||"string"!=typeof R)return;if(da.get(R))return da.get(R);const q=R.replace(/FromIndex$/,""),_e=R!==q,qe=Hs.includes(q);if(!(q in(_e?IDBIndex:IDBObjectStore).prototype)||!qe&&!Js.includes(q))return;const nt=function(){var Tt=(0,W.Z)(function*(pn,...ln){const Fn=this.transaction(pn,qe?"readwrite":"readonly");let hr=Fn.store;return _e&&(hr=hr.index(ln.shift())),(yield Promise.all([hr[q](...ln),qe&&Fn.done]))[0]});return function(ln){return Tt.apply(this,arguments)}}();return da.set(R,nt),nt}!function pi(T){js=T(js)}(T=>({...T,get:(R,q,_e)=>hs(R,q)||T.get(R,q,_e),has:(R,q)=>!!hs(R,q)||T.has(R,q)}));const fs="/firebase-messaging-sw.js",ea="/firebase-cloud-messaging-push-scope",ha="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fa="https://fcmregistrations.googleapis.com/v1",$r="google.c.a.c_id",Lo="google.c.a.c_l",il="google.c.a.ts";var se=function(T){return T.PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",T}(se||{});function d(T){const R=new Uint8Array(T);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function C(T){const q=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),_e=atob(q),qe=new Uint8Array(_e.length);for(let nt=0;nt<_e.length;++nt)qe[nt]=_e.charCodeAt(nt);return qe}const _="fcm_token_details_db",N=5,ne="fcm_token_object_Store";function on(){return on=(0,W.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(nt=>nt.name).includes(_))return null;let R=null;return(yield Si(_,N,{upgrade:(_e=(0,W.Z)(function*(qe,nt,Tt,pn){var ln;if(nt<2||!qe.objectStoreNames.contains(ne))return;const Fn=pn.objectStore(ne),hr=yield Fn.index("fcmSenderId").get(T);if(yield Fn.clear(),hr)if(2===nt){const gr=hr;if(!gr.auth||!gr.p256dh||!gr.endpoint)return;R={token:gr.fcmToken,createTime:null!==(ln=gr.createTime)&&void 0!==ln?ln:Date.now(),subscriptionOptions:{auth:gr.auth,p256dh:gr.p256dh,endpoint:gr.endpoint,swScope:gr.swScope,vapidKey:"string"==typeof gr.vapidKey?gr.vapidKey:d(gr.vapidKey)}}}else if(3===nt){const gr=hr;R={token:gr.fcmToken,createTime:gr.createTime,subscriptionOptions:{auth:d(gr.auth),p256dh:d(gr.p256dh),endpoint:gr.endpoint,swScope:gr.swScope,vapidKey:d(gr.vapidKey)}}}else if(4===nt){const gr=hr;R={token:gr.fcmToken,createTime:gr.createTime,subscriptionOptions:{auth:d(gr.auth),p256dh:d(gr.p256dh),endpoint:gr.endpoint,swScope:gr.swScope,vapidKey:d(gr.vapidKey)}}}}),function(nt,Tt,pn,ln){return _e.apply(this,arguments)})})).close(),yield Es(_),yield Es("fcm_vapid_details_db"),yield Es("undefined"),function tn(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:R}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}(R)?R:null;var _e}),on.apply(this,arguments)}const Bn="firebase-messaging-database",lr=1,gi="firebase-messaging-store";let io=null;function Gi(){return io||(io=Si(Bn,lr,{upgrade:(T,R)=>{0===R&&T.createObjectStore(gi)}})),io}function Bo(T){return oo.apply(this,arguments)}function oo(){return oo=(0,W.Z)(function*(T){const R=na(T),_e=yield(yield Gi()).transaction(gi).objectStore(gi).get(R);if(_e)return _e;{const qe=yield function It(T){return on.apply(this,arguments)}(T.appConfig.senderId);if(qe)return yield es(T,qe),qe}}),oo.apply(this,arguments)}function es(T,R){return ta.apply(this,arguments)}function ta(){return(ta=(0,W.Z)(function*(T,R){const q=na(T),qe=(yield Gi()).transaction(gi,"readwrite");return yield qe.objectStore(gi).put(R,q),yield qe.done,R})).apply(this,arguments)}function Co(){return(Co=(0,W.Z)(function*(T){const R=na(T),_e=(yield Gi()).transaction(gi,"readwrite");yield _e.objectStore(gi).delete(R),yield _e.done})).apply(this,arguments)}function na({appConfig:T}){return T.appId}const Vi=new Ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function za(T,R){return Os.apply(this,arguments)}function Os(){return(Os=(0,W.Z)(function*(T,R){const q=yield $o(T),_e=Ns(R),qe={method:"POST",headers:q,body:JSON.stringify(_e)};let nt;try{nt=yield(yield fetch(xa(T.appConfig),qe)).json()}catch(Tt){throw Vi.create("token-subscribe-failed",{errorInfo:null==Tt?void 0:Tt.toString()})}if(nt.error)throw Vi.create("token-subscribe-failed",{errorInfo:nt.error.message});if(!nt.token)throw Vi.create("token-subscribe-no-token");return nt.token})).apply(this,arguments)}function Ps(){return(Ps=(0,W.Z)(function*(T,R){const q=yield $o(T),_e=Ns(R.subscriptionOptions),qe={method:"PATCH",headers:q,body:JSON.stringify(_e)};let nt;try{nt=yield(yield fetch(`${xa(T.appConfig)}/${R.token}`,qe)).json()}catch(Tt){throw Vi.create("token-update-failed",{errorInfo:null==Tt?void 0:Tt.toString()})}if(nt.error)throw Vi.create("token-update-failed",{errorInfo:nt.error.message});if(!nt.token)throw Vi.create("token-update-no-token");return nt.token})).apply(this,arguments)}function Ma(T,R){return ga.apply(this,arguments)}function ga(){return(ga=(0,W.Z)(function*(T,R){const _e={method:"DELETE",headers:yield $o(T)};try{const nt=yield(yield fetch(`${xa(T.appConfig)}/${R}`,_e)).json();if(nt.error)throw Vi.create("token-unsubscribe-failed",{errorInfo:nt.error.message})}catch(qe){throw Vi.create("token-unsubscribe-failed",{errorInfo:null==qe?void 0:qe.toString()})}})).apply(this,arguments)}function xa({projectId:T}){return`${fa}/projects/${T}/registrations`}function $o(T){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,W.Z)(function*({appConfig:T,installations:R}){const q=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${q}`})})).apply(this,arguments)}function Ns({p256dh:T,auth:R,endpoint:q,vapidKey:_e}){const qe={web:{endpoint:q,auth:R,p256dh:T}};return _e!==ha&&(qe.web.applicationPubKey=_e),qe}const ol=6048e5;function Ra(){return Ra=(0,W.Z)(function*(T){const R=yield function os(T,R){return b.apply(this,arguments)}(T.swRegistration,T.vapidKey),q={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:R.endpoint,auth:d(R.getKey("auth")),p256dh:d(R.getKey("p256dh"))},_e=yield Bo(T.firebaseDependencies);if(_e){if(function j(T,R){return R.vapidKey===T.vapidKey&&R.endpoint===T.endpoint&&R.auth===T.auth&&R.p256dh===T.p256dh}(_e.subscriptionOptions,q))return Date.now()>=_e.createTime+ol?function Wa(T,R){return zs.apply(this,arguments)}(T,{token:_e.token,createTime:Date.now(),subscriptionOptions:q}):_e.token;try{yield Ma(T.firebaseDependencies,_e.token)}catch(qe){console.warn(qe)}return Ds(T.firebaseDependencies,q)}return Ds(T.firebaseDependencies,q)}),Ra.apply(this,arguments)}function ma(){return ma=(0,W.Z)(function*(T){const R=yield Bo(T.firebaseDependencies);R&&(yield Ma(T.firebaseDependencies,R.token),yield function pa(T){return Co.apply(this,arguments)}(T.firebaseDependencies));const q=yield T.swRegistration.pushManager.getSubscription();return!q||q.unsubscribe()}),ma.apply(this,arguments)}function zs(){return zs=(0,W.Z)(function*(T,R){try{const q=yield function Aa(T,R){return Ps.apply(this,arguments)}(T.firebaseDependencies,R),_e=Object.assign(Object.assign({},R),{token:q,createTime:Date.now()});return yield es(T.firebaseDependencies,_e),q}catch(q){throw yield function Wo(T){return ma.apply(this,arguments)}(T),q}}),zs.apply(this,arguments)}function Ds(T,R){return po.apply(this,arguments)}function po(){return(po=(0,W.Z)(function*(T,R){const _e={token:yield za(T,R),createTime:Date.now(),subscriptionOptions:R};return yield es(T,_e),_e.token})).apply(this,arguments)}function b(){return(b=(0,W.Z)(function*(T,R){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:C(R)})})).apply(this,arguments)}function De(T){const R={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function L(T,R){if(!R.notification)return;T.notification={};const q=R.notification.title;q&&(T.notification.title=q);const _e=R.notification.body;_e&&(T.notification.body=_e);const qe=R.notification.image;qe&&(T.notification.image=qe);const nt=R.notification.icon;nt&&(T.notification.icon=nt)}(R,T),function ae(T,R){R.data&&(T.data=R.data)}(R,T),function $e(T,R){var q,_e,qe,nt,Tt;if(!(R.fcmOptions||null!==(q=R.notification)&&void 0!==q&&q.click_action))return;T.fcmOptions={};const pn=null!==(qe=null===(_e=R.fcmOptions)||void 0===_e?void 0:_e.link)&&void 0!==qe?qe:null===(nt=R.notification)||void 0===nt?void 0:nt.click_action;pn&&(T.fcmOptions.link=pn);const ln=null===(Tt=R.fcmOptions)||void 0===Tt?void 0:Tt.analytics_label;ln&&(T.fcmOptions.analyticsLabel=ln)}(R,T),R}function Kt(T,R){const q=[];for(let _e=0;_e<T.length;_e++)q.push(T.charAt(_e)),_e<R.length&&q.push(R.charAt(_e));return q.join("")}function Sn(T){return Vi.create("missing-app-config-values",{valueName:T})}Kt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Kt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class tr{constructor(R,q,_e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const qe=function pr(T){if(!T||!T.options)throw Sn("App Configuration Object");if(!T.name)throw Sn("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:q}=T;for(const _e of R)if(!q[_e])throw Sn(_e);return{appName:T.name,projectId:q.projectId,apiKey:q.apiKey,appId:q.appId,senderId:q.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:qe,installations:q,analyticsProvider:_e}}_delete(){return Promise.resolve()}}function dr(){return(dr=(0,W.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(fs,{scope:ea}),T.swRegistration.update().catch(()=>{})}catch(R){throw Vi.create("failed-service-worker-registration",{browserErrorMessage:null==R?void 0:R.message})}})).apply(this,arguments)}function jr(){return(jr=(0,W.Z)(function*(T,R){if(!R&&!T.swRegistration&&(yield function Ln(T){return dr.apply(this,arguments)}(T)),R||!T.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Vi.create("invalid-sw-registration");T.swRegistration=R}})).apply(this,arguments)}function Ii(){return(Ii=(0,W.Z)(function*(T,R){R?T.vapidKey=R:T.vapidKey||(T.vapidKey=ha)})).apply(this,arguments)}function qo(){return qo=(0,W.Z)(function*(T,R){if(!navigator)throw Vi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vi.create("permission-blocked");return yield function Yi(T,R){return Ii.apply(this,arguments)}(T,null==R?void 0:R.vapidKey),yield function Sr(T,R){return jr.apply(this,arguments)}(T,null==R?void 0:R.serviceWorkerRegistration),function sl(T){return Ra.apply(this,arguments)}(T)}),qo.apply(this,arguments)}function Zi(){return(Zi=(0,W.Z)(function*(T,R,q){const _e=function ps(T){switch(T){case se.NOTIFICATION_CLICKED:return"notification_open";case se.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(R);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(_e,{message_id:q[$r],message_name:q[Lo],message_time:q[il],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function va(){return va=(0,W.Z)(function*(T,R){const q=R.data;if(!q.isFirebaseMessaging)return;T.onMessageHandler&&q.messageType===se.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(De(q)):T.onMessageHandler.next(De(q)));const _e=q.data;(function bt(T){return"object"==typeof T&&!!T&&$r in T})(_e)&&"1"===_e["google.c.a.e"]&&(yield function Ki(T,R,q){return Zi.apply(this,arguments)}(T,q.messageType,_e))}),va.apply(this,arguments)}const al="@firebase/messaging",Mc=T=>{const R=new tr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",q=>function Ml(T,R){return va.apply(this,arguments)}(R,q)),R},or=T=>{const R=T.getProvider("messaging").getImmediate();return{getToken:_e=>function ts(T,R){return qo.apply(this,arguments)}(R,_e)}};function xl(){return go.apply(this,arguments)}function go(){return(go=(0,W.Z)(function*(){try{yield(0,Ce.eu)()}catch{return!1}return typeof window<"u"&&(0,Ce.hl)()&&(0,Ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ws(){(0,J._registerComponent)(new ve.wA("messaging",Mc,"PUBLIC")),(0,J._registerComponent)(new ve.wA("messaging-internal",or,"PRIVATE")),(0,J.registerVersion)(al,"0.12.4"),(0,J.registerVersion)(al,"0.12.4","esm2017")}();const wn="analytics",ut="firebase_id",Hr="origin",vn=6e4,Dt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ot="https://www.googletagmanager.com/gtag/js",kr=new he.Yd("@firebase/analytics"),Di=new Ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cl(T){if(!T.startsWith(Ot)){const R=Di.create("invalid-gtag-resource",{gtagURL:T});return kr.warn(R.message),""}return T}function ya(T){return Promise.all(T.map(R=>R.catch(q=>q)))}function ms(){return(ms=(0,W.Z)(function*(T,R,q,_e,qe,nt){const Tt=_e[qe];try{if(Tt)yield R[Tt];else{const ln=(yield ya(q)).find(Fn=>Fn.measurementId===qe);ln&&(yield R[ln.appId])}}catch(pn){kr.error(pn)}T("config",qe,nt)})).apply(this,arguments)}function ws(){return(ws=(0,W.Z)(function*(T,R,q,_e,qe){try{let nt=[];if(qe&&qe.send_to){let Tt=qe.send_to;Array.isArray(Tt)||(Tt=[Tt]);const pn=yield ya(q);for(const ln of Tt){const Fn=pn.find(gr=>gr.measurementId===ln),hr=Fn&&R[Fn.appId];if(!hr){nt=[];break}nt.push(hr)}}0===nt.length&&(nt=Object.values(R)),yield Promise.all(nt),T("event",_e,qe||{})}catch(nt){kr.error(nt)}})).apply(this,arguments)}const Fi=30,Br=new class Na{constructor(R={},q=1e3){this.throttleMetadata=R,this.intervalMillis=q}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,q){this.throttleMetadata[R]=q}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function xc(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function gn(){return(gn=(0,W.Z)(function*(T){var R;const{appId:q,apiKey:_e}=T,qe={method:"GET",headers:xc(_e)},nt=Dt.replace("{app-id}",q),Tt=yield fetch(nt,qe);if(200!==Tt.status&&304!==Tt.status){let pn="";try{const ln=yield Tt.json();null!==(R=ln.error)&&void 0!==R&&R.message&&(pn=ln.error.message)}catch{}throw Di.create("config-fetch-failed",{httpStatus:Tt.status,responseMessage:pn})}return Tt.json()})).apply(this,arguments)}function S(){return(S=(0,W.Z)(function*(T,R=Br,q){const{appId:_e,apiKey:qe,measurementId:nt}=T.options;if(!_e)throw Di.create("no-app-id");if(!qe){if(nt)return{measurementId:nt,appId:_e};throw Di.create("no-api-key")}const Tt=R.getThrottleMetadata(_e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},pn=new ye;return setTimeout((0,W.Z)(function*(){pn.abort()}),void 0!==q?q:vn),O({appId:_e,apiKey:qe,measurementId:nt},Tt,pn,R)})).apply(this,arguments)}function O(T,R,q){return I.apply(this,arguments)}function I(){return I=(0,W.Z)(function*(T,{throttleEndTimeMillis:R,backoffCount:q},_e,qe=Br){var nt;const{appId:Tt,measurementId:pn}=T;try{yield function F(T,R){return new Promise((q,_e)=>{const qe=Math.max(R-Date.now(),0),nt=setTimeout(q,qe);T.addEventListener(()=>{clearTimeout(nt),_e(Di.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(_e,R)}catch(ln){if(pn)return kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pn} provided in the "measurementId" field in the local Firebase config. [${null==ln?void 0:ln.message}]`),{appId:Tt,measurementId:pn};throw ln}try{const ln=yield function Li(T){return gn.apply(this,arguments)}(T);return qe.deleteThrottleMetadata(Tt),ln}catch(ln){const Fn=ln;if(!function ee(T){if(!(T instanceof Ce.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Fn)){if(qe.deleteThrottleMetadata(Tt),pn)return kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${pn} provided in the "measurementId" field in the local Firebase config. [${null==Fn?void 0:Fn.message}]`),{appId:Tt,measurementId:pn};throw ln}const hr=503===Number(null===(nt=null==Fn?void 0:Fn.customData)||void 0===nt?void 0:nt.httpStatus)?(0,Ce.$s)(q,qe.intervalMillis,Fi):(0,Ce.$s)(q,qe.intervalMillis),gr={throttleEndTimeMillis:Date.now()+hr,backoffCount:q+1};return qe.setThrottleMetadata(Tt,gr),kr.debug(`Calling attemptFetch again in ${hr} millis`),O(T,gr,_e,qe)}}),I.apply(this,arguments)}class ye{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let Oe,vs;function Pt(){return(Pt=(0,W.Z)(function*(T,R,q,_e,qe){if(qe&&qe.global)T("event",q,_e);else{const nt=yield R;T("event",q,Object.assign(Object.assign({},_e),{send_to:nt}))}})).apply(this,arguments)}function _a(){return(_a=(0,W.Z)(function*(){if(!(0,Ce.hl)())return kr.warn(Di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ce.eu)()}catch(T){return kr.warn(Di.create("indexeddb-unavailable",{errorInfo:null==T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function ia(){return ia=(0,W.Z)(function*(T,R,q,_e,qe,nt,Tt){var pn;const ln=function E(T){return S.apply(this,arguments)}(T);ln.then(Zr=>{q[Zr.measurementId]=Zr.appId,T.options.measurementId&&Zr.measurementId!==T.options.measurementId&&kr.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Zr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Zr=>kr.error(Zr)),R.push(ln);const Fn=function Rl(){return _a.apply(this,arguments)}().then(Zr=>{if(Zr)return _e.getId()}),[hr,gr]=yield Promise.all([ln,Fn]);(function ul(T){const R=window.document.getElementsByTagName("script");for(const q of Object.values(R))if(q.src&&q.src.includes(Ot)&&q.src.includes(T))return q;return null})(nt)||function yu(T,R){const q=function Ya(T,R){let q;return window.trustedTypes&&(q=window.trustedTypes.createPolicy(T,R)),q}("firebase-js-sdk-policy",{createScriptURL:cl}),_e=document.createElement("script"),qe=`${Ot}?l=${T}&id=${R}`;_e.src=q?null==q?void 0:q.createScriptURL(qe):qe,_e.async=!0,document.head.appendChild(_e)}(nt,hr.measurementId),vs&&(qe("consent","default",vs),function bs(T){vs=T}(void 0)),qe("js",new Date);const as=null!==(pn=null==Tt?void 0:Tt.config)&&void 0!==pn?pn:{};return as[Hr]="firebase",as.update=!0,null!=gr&&(as[ut]=gr),qe("config",hr.measurementId,as),Oe&&(qe("set",Oe),function Cs(T){Oe=T}(void 0)),hr.measurementId}),ia.apply(this,arguments)}class ss{constructor(R){this.app=R}_delete(){return delete So[this.app.options.appId],Promise.resolve()}}let So={},oa=[];const Rc={};let Iu,Ao,vo="dataLayer",dl=!1;function Pc(T,R,q){!function Oc(){const T=[];if((0,Ce.ru)()&&T.push("This is a browser extension environment."),(0,Ce.zI)()||T.push("Cookies are not available."),T.length>0){const R=T.map((_e,qe)=>`(${qe+1}) ${_e}`).join(" "),q=Di.create("invalid-analytics-context",{errorInfo:R});kr.warn(q.message)}}();const _e=T.options.appId;if(!_e)throw Di.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Di.create("no-api-key");kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=So[_e])throw Di.create("already-exists",{id:_e});if(!dl){!function Ka(T){let R=[];Array.isArray(window[T])?R=window[T]:window[T]=R}(vo);const{wrappedGtag:nt,gtagCore:Tt}=function Pa(T,R,q,_e,qe){let nt=function(...Tt){window[_e].push(arguments)};return window[qe]&&"function"==typeof window[qe]&&(nt=window[qe]),window[qe]=function Yn(T,R,q,_e){function nt(){return nt=(0,W.Z)(function*(Tt,...pn){try{if("event"===Tt){const[ln,Fn]=pn;yield function Ql(T,R,q,_e,qe){return ws.apply(this,arguments)}(T,R,q,ln,Fn)}else if("config"===Tt){const[ln,Fn]=pn;yield function Vo(T,R,q,_e,qe,nt){return ms.apply(this,arguments)}(T,R,q,_e,ln,Fn)}else if("consent"===Tt){const[ln]=pn;T("consent","update",ln)}else if("get"===Tt){const[ln,Fn,hr]=pn;T("get",ln,Fn,hr)}else if("set"===Tt){const[ln]=pn;T("set",ln)}else T(Tt,...pn)}catch(ln){kr.error(ln)}}),nt.apply(this,arguments)}return function qe(Tt){return nt.apply(this,arguments)}}(nt,T,R,q),{gtagCore:nt,wrappedGtag:window[qe]}}(So,oa,Rc,vo,"gtag");Ao=nt,Iu=Tt,dl=!0}return So[_e]=function _u(T,R,q,_e,qe,nt,Tt){return ia.apply(this,arguments)}(T,oa,Rc,R,Iu,vo,q),new ss(T)}function Pl(){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,W.Z)(function*(){if((0,Ce.ru)()||!(0,Ce.zI)()||!(0,Ce.hl)())return!1;try{return yield(0,Ce.eu)()}catch{return!1}})).apply(this,arguments)}const Bc="@firebase/analytics";!function kl(){(0,J._registerComponent)(new ve.wA(wn,(R,{options:q})=>Pc(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),q),"PUBLIC")),(0,J._registerComponent)(new ve.wA("analytics-internal",function T(R){try{const q=R.getProvider(wn).getImmediate();return{logEvent:(_e,qe,nt)=>function Nl(T,R,q,_e){T=(0,Ce.m9)(T),function At(T,R,q,_e,qe){return Pt.apply(this,arguments)}(Ao,So[T.app.options.appId],R,q,_e).catch(qe=>kr.error(qe))}(q,_e,qe,nt)}}catch(q){throw Di.create("interop-component-reg-failed",{reason:q})}},"PRIVATE")),(0,J.registerVersion)(Bc,"0.10.0"),(0,J.registerVersion)(Bc,"0.10.0","esm2017")}();var wu=k(1954),Jl=k(2631);const Mo=new class ec extends Jl.v{}(class $c extends wu.o{constructor(R,q){super(R,q),this.scheduler=R,this.work=q}schedule(R,q=0){return q>0?super.schedule(R,q):(this.delay=q,this.state=R,this.scheduler.flush(this),this)}execute(R,q){return q>0||this.closed?super.execute(R,q):this._execute(R,q)}requestAsyncId(R,q,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(R,q,_e):(R.flush(this),0)}});var qs=k(6321),sa=k(9397),wi=k(5137),Za=k(3093);const xo=new g.GfV("7.6.1"),ti="__angularfire_symbol__analyticsIsSupportedValue",tc="__angularfire_symbol__analyticsIsSupported",Wi="__angularfire_symbol__remoteConfigIsSupportedValue",Yo="__angularfire_symbol__remoteConfigIsSupported",gl="__angularfire_symbol__messagingIsSupportedValue",Fl="__angularfire_symbol__messagingIsSupported";function ys(T,R,q){if(R){if(1===R.length)return R[0];const nt=R.filter(Tt=>Tt.app===q);if(1===nt.length)return nt[0]}return q.container.getProvider(T).getImmediate({optional:!0})}globalThis[tc]||(globalThis[tc]=Pl().then(T=>globalThis[ti]=T).catch(()=>globalThis[ti]=!1)),globalThis[Fl]||(globalThis[Fl]=xl().then(T=>globalThis[gl]=T).catch(()=>globalThis[gl]=!1)),globalThis[Yo]||(globalThis[Yo]=Us().then(T=>globalThis[Wi]=T).catch(()=>globalThis[Wi]=!1));const Ys=(T,R)=>{const q=R?[R]:(0,f.C6)(),_e=[];return q.forEach(qe=>{qe.container.getProvider(T).instances.forEach(Tt=>{_e.includes(Tt)||_e.push(Tt)})}),_e};function aa(){}class ka{constructor(R,q=Mo){this.zone=R,this.delegate=q}now(){return this.delegate.now()}schedule(R,q,_e){const qe=this.zone;return this.delegate.schedule(function(Tt){qe.runGuarded(()=>{R.apply(this,[Tt])})},q,_e)}}class Xa{constructor(R){this.zone=R,this.task=null}call(R,q){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aa,{},aa,aa)),q.pipe((0,sa.b)({next:_e,complete:_e,error:_e})).subscribe(R).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qa=(()=>{class T{constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new ka(Zone.current)),this.insideAngular=q.run(()=>new ka(Zone.current,qs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(q){return new(q||T)(g.LFG(g.R0b))},T.\u0275prov=g.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ko(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function La(T){return Ko(),function gd(T){return function(q){return(q=q.lift(new Xa(T.ngZone))).pipe((0,wi.R)(T.outsideAngular),(0,Za.Q)(T.insideAngular))}}(Ko())(T)}},6878:(qt,Ke,k)=>{"use strict";k.d(Ke,{$:()=>fs,A:()=>Q,D:()=>Me,I:()=>_o,J:()=>Se,L:()=>cr,N:()=>fr,P:()=>_u,Q:()=>Zn,R:()=>nr,U:()=>ds,V:()=>Us,W:()=>Eo,X:()=>yi,Y:()=>Vn,Z:()=>ho,_:()=>Fo,a:()=>Oa,a0:()=>ha,a1:()=>$r,a2:()=>P,a3:()=>ne,a4:()=>on,a5:()=>Bn,a6:()=>gi,a7:()=>Gi,a8:()=>oo,a9:()=>ta,aA:()=>te,aB:()=>Wi,aC:()=>yr,aD:()=>rr,aE:()=>wi,aF:()=>pd,aG:()=>Ea,aH:()=>_r,aL:()=>Ei,aO:()=>uo,aa:()=>pa,ab:()=>na,ac:()=>ki,ad:()=>Aa,ae:()=>Ma,af:()=>xa,ai:()=>ol,aj:()=>Ra,ak:()=>Wo,an:()=>_i,ao:()=>L,aq:()=>Ii,ar:()=>al,as:()=>Ve,at:()=>Vt,au:()=>je,av:()=>He,aw:()=>as,ax:()=>Xi,ay:()=>Gt,az:()=>pe,b:()=>ra,c:()=>Ao,d:()=>Pc,e:()=>Eu,f:()=>Bc,g:()=>ec,h:()=>wu,i:()=>jn,j:()=>qs,k:()=>Ls,l:()=>Uo,m:()=>fp,o:()=>Cu,p:()=>Ue,r:()=>jo,s:()=>ct,u:()=>Rl});var g=k(5861),f=k(9058),W=k(534),J=k(7582),Ce=k(7879),ve=k(4537);const Ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Me=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Le=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new f.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new Ce.Yd("@firebase/auth");function ot(w,...p){we.logLevel<=Ce.in.ERROR&&we.error(`Auth (${W.SDK_VERSION}): ${w}`,...p)}function He(w,...p){throw Ee(w,...p)}function pe(w,...p){return Ee(w,...p)}function Re(w,p,v){const A=Object.assign(Object.assign({},Le()),{[p]:v});return new f.LL("auth","Firebase",A).create(p,{appName:w.name})}function ke(w,p,v){if(!(p instanceof v))throw v.name!==p.constructor.name&&He(w,"argument-error"),Re(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ee(w,...p){if("string"!=typeof w){const v=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=w.name),w._errorFactory.create(v,...A)}return rt.create(w,...p)}function te(w,p,...v){if(!w)throw Ee(p,...v)}function dt(w){const p="INTERNAL ASSERTION FAILED: "+w;throw ot(p),new Error(p)}function Ve(w,p){w||dt(p)}function st(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function lt(){return"http:"===ft()||"https:"===ft()}function ft(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class zt{constructor(p,v){this.shortDelay=p,this.longDelay=v,Ve(v>p,"Short delay should be less than long delay!"),this.isMobile=(0,f.uI)()||(0,f.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,f.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ht(w,p){Ve(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return p?`${v}${p.startsWith("/")?p.slice(1):p}`:v}class le{static initialize(p,v,A){this.fetchImpl=p,v&&(this.headersImpl=v),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xe=new zt(3e4,6e4);function Be(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function Ze(w,p,v,A){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,g.Z)(function*(w,p,v,A,Y={}){return Bt(w,Y,(0,g.Z)(function*(){let ce={},tt={};A&&("GET"===p?tt=A:ce={body:JSON.stringify(A)});const wt=(0,f.xO)(Object.assign({key:w.config.apiKey},tt)).slice(1),sn=yield w._getAdditionalHeaders();return sn["Content-Type"]="application/json",w.languageCode&&(sn["X-Firebase-Locale"]=w.languageCode),le.fetch()(Pe(w,w.config.apiHost,v,wt),Object.assign({method:p,headers:sn,referrerPolicy:"no-referrer"},ce))}))})).apply(this,arguments)}function Bt(w,p,v){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,g.Z)(function*(w,p,v){w._canInitEmulator=!1;const A=Object.assign(Object.assign({},ge),p);try{const Y=new Et(w),ce=yield Promise.race([v(),Y.promise]);Y.clearNetworkTimeout();const tt=yield ce.json();if("needConfirmation"in tt)throw _t(w,"account-exists-with-different-credential",tt);if(ce.ok&&!("errorMessage"in tt))return tt;{const wt=ce.ok?tt.errorMessage:tt.error.message,[sn,Cn]=wt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===sn)throw _t(w,"credential-already-in-use",tt);if("EMAIL_EXISTS"===sn)throw _t(w,"email-already-in-use",tt);if("USER_DISABLED"===sn)throw _t(w,"user-disabled",tt);const Hn=A[sn]||sn.toLowerCase().replace(/[_\s]+/g,"-");if(Cn)throw Re(w,Hn,Cn);He(w,Hn)}}catch(Y){if(Y instanceof f.ZR)throw Y;He(w,"network-request-failed",{message:String(Y)})}})).apply(this,arguments)}function at(w,p,v,A){return gt.apply(this,arguments)}function gt(){return(gt=(0,g.Z)(function*(w,p,v,A,Y={}){const ce=yield Ze(w,p,v,A,Y);return"mfaPendingCredential"in ce&&He(w,"multi-factor-auth-required",{_serverResponse:ce}),ce})).apply(this,arguments)}function Pe(w,p,v,A){const Y=`${p}${v}?${A}`;return w.config.emulator?ht(w.config,Y):`${w.config.apiScheme}://${Y}`}class Et{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((v,A)=>{this.timer=setTimeout(()=>A(pe(this.auth,"network-request-failed")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _t(w,p,v){const A={appName:w.name};v.email&&(A.email=v.email),v.phoneNumber&&(A.phoneNumber=v.phoneNumber);const Y=pe(w,p,A);return Y.customData._tokenResponse=v,Y}function cn(){return(cn=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function mn(){return(mn=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _n(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function sr(){return(sr=(0,g.Z)(function*(w,p=!1){const v=(0,f.m9)(w),A=yield v.getIdToken(p),Y=Jt(A);te(Y&&Y.exp&&Y.auth_time&&Y.iat,v.auth,"internal-error");const ce="object"==typeof Y.firebase?Y.firebase:void 0,tt=null==ce?void 0:ce.sign_in_provider;return{claims:Y,token:A,authTime:_n(vr(Y.auth_time)),issuedAtTime:_n(vr(Y.iat)),expirationTime:_n(vr(Y.exp)),signInProvider:tt||null,signInSecondFactor:(null==ce?void 0:ce.sign_in_second_factor)||null}})).apply(this,arguments)}function vr(w){return 1e3*Number(w)}function Jt(w){const[p,v,A]=w.split(".");if(void 0===p||void 0===v||void 0===A)return ot("JWT malformed, contained fewer than 3 sections"),null;try{const Y=(0,f.tV)(v);return Y?JSON.parse(Y):(ot("Failed to decode base64 JWT payload"),null)}catch(Y){return ot("Caught error parsing JWT payload as JSON",null==Y?void 0:Y.toString()),null}}function qn(w,p){return un.apply(this,arguments)}function un(){return(un=(0,g.Z)(function*(w,p,v=!1){if(v)return p;try{return yield p}catch(A){throw A instanceof f.ZR&&function Fr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(A)&&w.auth.currentUser===w&&(yield w.auth.signOut()),A}})).apply(this,arguments)}class ar{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var v;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Y=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(p=!1){var v=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,g.Z)(function*(){yield v.iteration()}),A)}iteration(){var p=this;return(0,g.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null==v?void 0:v.code)&&p.schedule(!0))}p.schedule()})()}}class Yt{constructor(p,v){this.createdAt=p,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(w){return xt.apply(this,arguments)}function xt(){return xt=(0,g.Z)(function*(w){var p;const v=w.auth,A=yield w.getIdToken(),Y=yield qn(w,function Nn(w,p){return bn.apply(this,arguments)}(v,{idToken:A}));te(null==Y?void 0:Y.users.length,v,"internal-error");const ce=Y.users[0];w._notifyReloadListener(ce);const tt=null!==(p=ce.providerUserInfo)&&void 0!==p&&p.length?function Yr(w){return w.map(p=>{var{providerId:v}=p,A=(0,J._T)(p,["providerId"]);return{providerId:v,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}(ce.providerUserInfo):[],wt=function Er(w,p){return[...w.filter(A=>!p.some(Y=>Y.providerId===A.providerId)),...p]}(w.providerData,tt),Hn=!!w.isAnonymous&&!(w.email&&ce.passwordHash||null!=wt&&wt.length),Gr={uid:ce.localId,displayName:ce.displayName||null,photoURL:ce.photoUrl||null,email:ce.email||null,emailVerified:ce.emailVerified||!1,phoneNumber:ce.phoneNumber||null,tenantId:ce.tenantId||null,providerData:wt,metadata:new Yt(ce.createdAt,ce.lastLoginAt),isAnonymous:Hn};Object.assign(w,Gr)}),xt.apply(this,arguments)}function $n(){return($n=(0,g.Z)(function*(w){const p=(0,f.m9)(w);yield Lr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Mr(){return(Mr=(0,g.Z)(function*(w,p){const v=yield Bt(w,{},(0,g.Z)(function*(){const A=(0,f.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:Y,apiKey:ce}=w.config,tt=Pe(w,Y,"/v1/token",`key=${ce}`),wt=yield w._getAdditionalHeaders();return wt["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(tt,{method:"POST",headers:wt,body:A})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class xr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){te(p.idToken,"internal-error"),te(typeof p.idToken<"u","internal-error"),te(typeof p.refreshToken<"u","internal-error");const v="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Mn(w){const p=Jt(w);return te(p,"internal-error"),te(typeof p.exp<"u","internal-error"),te(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,v)}getToken(p,v=!1){var A=this;return(0,g.Z)(function*(){return te(!A.accessToken||A.refreshToken,p,"user-token-expired"),v||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,v){var A=this;return(0,g.Z)(function*(){const{accessToken:Y,refreshToken:ce,expiresIn:tt}=yield function oi(w,p){return Mr.apply(this,arguments)}(p,v);A.updateTokensAndExpiration(Y,ce,Number(tt))})()}updateTokensAndExpiration(p,v,A){this.refreshToken=v||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,v){const{refreshToken:A,accessToken:Y,expirationTime:ce}=v,tt=new xr;return A&&(te("string"==typeof A,"internal-error",{appName:p}),tt.refreshToken=A),Y&&(te("string"==typeof Y,"internal-error",{appName:p}),tt.accessToken=Y),ce&&(te("number"==typeof ce,"internal-error",{appName:p}),tt.expirationTime=ce),tt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new xr,this.toJSON())}_performRefresh(){return dt("not implemented")}}function Cr(w,p){te("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class Pr{constructor(p){var{uid:v,auth:A,stsTokenManager:Y}=p,ce=(0,J._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=A,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=ce.displayName||null,this.email=ce.email||null,this.emailVerified=ce.emailVerified||!1,this.phoneNumber=ce.phoneNumber||null,this.photoURL=ce.photoURL||null,this.isAnonymous=ce.isAnonymous||!1,this.tenantId=ce.tenantId||null,this.providerData=ce.providerData?[...ce.providerData]:[],this.metadata=new Yt(ce.createdAt||void 0,ce.lastLoginAt||void 0)}getIdToken(p){var v=this;return(0,g.Z)(function*(){const A=yield qn(v,v.stsTokenManager.getToken(v.auth,p));return te(A,v.auth,"internal-error"),v.accessToken!==A&&(v.accessToken=A,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),A})()}getIdTokenResult(p){return function br(w){return sr.apply(this,arguments)}(this,p)}reload(){return function Qr(w){return $n.apply(this,arguments)}(this)}_assign(p){this!==p&&(te(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(v=>Object.assign({},v)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const v=new Pr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return v.metadata._copy(this.metadata),v}_onReload(p){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,v=!1){var A=this;return(0,g.Z)(function*(){let Y=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),Y=!0),v&&(yield Lr(A)),yield A.auth._persistUserIfCurrent(A),Y&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,g.Z)(function*(){const v=yield p.getIdToken();return yield qn(p,function Ut(w,p){return cn.apply(this,arguments)}(p.auth,{idToken:v})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,v){var A,Y,ce,tt,wt,sn,Cn,Hn;const Gr=null!==(A=v.displayName)&&void 0!==A?A:void 0,Ss=null!==(Y=v.email)&&void 0!==Y?Y:void 0,Qo=null!==(ce=v.phoneNumber)&&void 0!==ce?ce:void 0,ic=null!==(tt=v.photoURL)&&void 0!==tt?tt:void 0,Bl=null!==(wt=v.tenantId)&&void 0!==wt?wt:void 0,Gc=null!==(sn=v._redirectEventId)&&void 0!==sn?sn:void 0,yd=null!==(Cn=v.createdAt)&&void 0!==Cn?Cn:void 0,oc=null!==(Hn=v.lastLoginAt)&&void 0!==Hn?Hn:void 0,{uid:Tu,emailVerified:ml,isAnonymous:_s,providerData:$l,stsTokenManager:Su}=v;te(Tu&&Su,p,"internal-error");const Au=xr.fromJSON(this.name,Su);te("string"==typeof Tu,p,"internal-error"),Cr(Gr,p.name),Cr(Ss,p.name),te("boolean"==typeof ml,p,"internal-error"),te("boolean"==typeof _s,p,"internal-error"),Cr(Qo,p.name),Cr(ic,p.name),Cr(Bl,p.name),Cr(Gc,p.name),Cr(yd,p.name),Cr(oc,p.name);const sc=new Pr({uid:Tu,auth:p,email:Ss,emailVerified:ml,displayName:Gr,isAnonymous:_s,photoURL:ic,phoneNumber:Qo,tenantId:Bl,stsTokenManager:Au,createdAt:yd,lastLoginAt:oc});return $l&&Array.isArray($l)&&(sc.providerData=$l.map(Lh=>Object.assign({},Lh))),Gc&&(sc._redirectEventId=Gc),sc}static _fromIdTokenResponse(p,v,A=!1){return(0,g.Z)(function*(){const Y=new xr;Y.updateFromServerResponse(v);const ce=new Pr({uid:v.localId,auth:p,stsTokenManager:Y,isAnonymous:A});return yield Lr(ce),ce})()}}const Vr=new Map;function yr(w){Ve(w instanceof Function,"Expected a class definition");let p=Vr.get(w);return p?(Ve(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,Vr.set(w,p),p)}const fr=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(v,A){var Y=this;return(0,g.Z)(function*(){Y.storage[v]=A})()}_get(v){var A=this;return(0,g.Z)(function*(){const Y=A.storage[v];return void 0===Y?null:Y})()}_remove(v){var A=this;return(0,g.Z)(function*(){delete A.storage[v]})()}_addListener(v,A){}_removeListener(v,A){}}return w.type="NONE",w})();function rr(w,p,v){return`firebase:${w}:${p}:${v}`}class Ne{constructor(p,v,A){this.persistence=p,this.auth=v,this.userKey=A;const{config:Y,name:ce}=this.auth;this.fullUserKey=rr(this.userKey,Y.apiKey,ce),this.fullPersistenceKey=rr("persistence",Y.apiKey,ce),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,g.Z)(function*(){const v=yield p.persistence._get(p.fullUserKey);return v?Pr._fromJSON(p.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var v=this;return(0,g.Z)(function*(){if(v.persistence===p)return;const A=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=p,A?v.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,v,A="authUser"){return(0,g.Z)(function*(){if(!v.length)return new Ne(yr(fr),p,A);const Y=(yield Promise.all(v.map(function(){var Cn=(0,g.Z)(function*(Hn){if(yield Hn._isAvailable())return Hn});return function(Hn){return Cn.apply(this,arguments)}}()))).filter(Cn=>Cn);let ce=Y[0]||yr(fr);const tt=rr(A,p.config.apiKey,p.name);let wt=null;for(const Cn of v)try{const Hn=yield Cn._get(tt);if(Hn){const Gr=Pr._fromJSON(p,Hn);Cn!==ce&&(wt=Gr),ce=Cn;break}}catch{}const sn=Y.filter(Cn=>Cn._shouldAllowMigration);return ce._shouldAllowMigration&&sn.length?(ce=sn[0],wt&&(yield ce._set(tt,wt.toJSON())),yield Promise.all(v.map(function(){var Cn=(0,g.Z)(function*(Hn){if(Hn!==ce)try{yield Hn._remove(tt)}catch{}});return function(Hn){return Cn.apply(this,arguments)}}())),new Ne(ce,p,A)):new Ne(ce,p,A)})()}}function X(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(de(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(V(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(yt(p))return"Blackberry";if($t(p))return"Webos";if(G(p))return"Safari";if((p.includes("chrome/")||B(p))&&!p.includes("edge/"))return"Chrome";if(je(p))return"Android";{const A=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function V(w=(0,f.z$)()){return/firefox\//i.test(w)}function G(w=(0,f.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function B(w=(0,f.z$)()){return/crios\//i.test(w)}function de(w=(0,f.z$)()){return/iemobile/i.test(w)}function je(w=(0,f.z$)()){return/android/i.test(w)}function yt(w=(0,f.z$)()){return/blackberry/i.test(w)}function $t(w=(0,f.z$)()){return/webos/i.test(w)}function Vt(w=(0,f.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Gt(w=(0,f.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function xn(w=(0,f.z$)()){return Vt(w)||je(w)||$t(w)||yt(w)||/windows phone/i.test(w)||de(w)}function qr(w,p=[]){let v;switch(w){case"Browser":v=X((0,f.z$)());break;case"Worker":v=`${X((0,f.z$)())}-${w}`;break;default:v=w}const A=p.length?p.join(","):"FirebaseCore-web";return`${v}/JsCore/${W.SDK_VERSION}/${A}`}function it(){return(it=(0,g.Z)(function*(w){return(yield Ze(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lt(w,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,g.Z)(function*(w,p){return Ze(w,"GET","/v2/recaptchaConfig",Be(w,p))})).apply(this,arguments)}function fn(w){return void 0!==w&&void 0!==w.getResponse}function en(w){return void 0!==w&&void 0!==w.enterprise}class Xn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(v=>"EMAIL_PASSWORD_PROVIDER"===v.provider&&"OFF"!==v.enforcementState)}}function Tr(w){return new Promise((p,v)=>{const A=document.createElement("script");A.setAttribute("src",w),A.onload=p,A.onerror=Y=>{const ce=pe("internal-error");ce.customData=Y,v(ce)},A.type="text/javascript",A.charset="UTF-8",function Nr(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(A)})}function mr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class lo{constructor(p){this.type="recaptcha-enterprise",this.auth=_r(p)}verify(p="verify",v=!1){var A=this;return(0,g.Z)(function*(){function ce(){return ce=(0,g.Z)(function*(wt){if(!v){if(null==wt.tenantId&&null!=wt._agentRecaptchaConfig)return wt._agentRecaptchaConfig.siteKey;if(null!=wt.tenantId&&void 0!==wt._tenantRecaptchaConfigs[wt.tenantId])return wt._tenantRecaptchaConfigs[wt.tenantId].siteKey}return new Promise(function(){var sn=(0,g.Z)(function*(Cn,Hn){Lt(wt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Gr=>{if(void 0!==Gr.recaptchaKey){const Ss=new Xn(Gr);return null==wt.tenantId?wt._agentRecaptchaConfig=Ss:wt._tenantRecaptchaConfigs[wt.tenantId]=Ss,Cn(Ss.siteKey)}Hn(new Error("recaptcha Enterprise site key undefined"))}).catch(Gr=>{Hn(Gr)})});return function(Cn,Hn){return sn.apply(this,arguments)}}())}),ce.apply(this,arguments)}function tt(wt,sn,Cn){const Hn=window.grecaptcha;en(Hn)?Hn.enterprise.ready(()=>{Hn.enterprise.execute(wt,{action:p}).then(Gr=>{sn(Gr)}).catch(()=>{sn("NO_RECAPTCHA")})}):Cn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((wt,sn)=>{(function Y(wt){return ce.apply(this,arguments)})(A.auth).then(Cn=>{if(!v&&en(window.grecaptcha))tt(Cn,wt,sn);else{if(typeof window>"u")return void sn(new Error("RecaptchaVerifier is only supported in browser"));Tr("https://www.google.com/recaptcha/enterprise.js?render="+Cn).then(()=>{tt(Cn,wt,sn)}).catch(Hn=>{sn(Hn)})}}).catch(Cn=>{sn(Cn)})})})()}}function si(w,p,v){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,g.Z)(function*(w,p,v,A=!1){const Y=new lo(w);let ce;try{ce=yield Y.verify(v)}catch{ce=yield Y.verify(v,!0)}const tt=Object.assign({},p);return Object.assign(tt,A?{captchaResp:ce}:{captchaResponse:ce}),Object.assign(tt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(tt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),tt})).apply(this,arguments)}class Hi{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,v){const A=ce=>new Promise((tt,wt)=>{try{tt(p(ce))}catch(sn){wt(sn)}});A.onAbort=v,this.queue.push(A);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(p){var v=this;return(0,g.Z)(function*(){if(v.auth.currentUser===p)return;const A=[];try{for(const Y of v.queue)yield Y(p),Y.onAbort&&A.push(Y.onAbort)}catch(Y){A.reverse();for(const ce of A)try{ce()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null==Y?void 0:Y.message})}})()}}class Kr{constructor(p,v,A,Y){this.app=p,this.heartbeatServiceProvider=v,this.appCheckServiceProvider=A,this.config=Y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new Hi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=Y.sdkClientVersion}_initializeWithPersistence(p,v){var A=this;return v&&(this._popupRedirectResolver=yr(v)),this._initializationPromise=this.queue((0,g.Z)(function*(){var Y,ce;if(!A._deleted&&(A.persistenceManager=yield Ne.create(A,p),!A._deleted)){if(null!==(Y=A._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(v),A.lastNotifiedUid=(null===(ce=A.currentUser)||void 0===ce?void 0:ce.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,g.Z)(function*(){if(p._deleted)return;const v=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||v){if(p.currentUser&&v&&p.currentUser.uid===v.uid)return p._currentUser._assign(v),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(v,!0)}})()}initializeCurrentUser(p){var v=this;return(0,g.Z)(function*(){var A;const Y=yield v.assertedPersistence.getCurrentUser();let ce=Y,tt=!1;if(p&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const wt=null===(A=v.redirectUser)||void 0===A?void 0:A._redirectEventId,sn=null==ce?void 0:ce._redirectEventId,Cn=yield v.tryRedirectSignIn(p);(!wt||wt===sn)&&null!=Cn&&Cn.user&&(ce=Cn.user,tt=!0)}if(!ce)return v.directlySetCurrentUser(null);if(!ce._redirectEventId){if(tt)try{yield v.beforeStateQueue.runMiddleware(ce)}catch(wt){ce=Y,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(wt))}return ce?v.reloadAndSetCurrentUserOrClear(ce):v.directlySetCurrentUser(null)}return te(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ce._redirectEventId?v.directlySetCurrentUser(ce):v.reloadAndSetCurrentUserOrClear(ce)})()}tryRedirectSignIn(p){var v=this;return(0,g.Z)(function*(){let A=null;try{A=yield v._popupRedirectResolver._completeRedirectFn(v,p,!0)}catch{yield v._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var v=this;return(0,g.Z)(function*(){try{yield Lr(p)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function In(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,g.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var v=this;return(0,g.Z)(function*(){const A=p?(0,f.m9)(p):null;return A&&te(A.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(A&&A._clone(v))})()}_updateCurrentUser(p,v=!1){var A=this;return(0,g.Z)(function*(){if(!A._deleted)return p&&te(A.tenantId===p.tenantId,A,"tenant-id-mismatch"),v||(yield A.beforeStateQueue.runMiddleware(p)),A.queue((0,g.Z)(function*(){yield A.directlySetCurrentUser(p),A.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,g.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var v=this;return this.queue((0,g.Z)(function*(){yield v.assertedPersistence.setPersistence(yr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,g.Z)(function*(){const v=yield Lt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new Xn(v);null==p.tenantId?p._agentRecaptchaConfig=A:p._tenantRecaptchaConfigs[p.tenantId]=A,A.emailPasswordEnabled&&new lo(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new f.LL("auth","Firebase",p())}onAuthStateChanged(p,v,A){return this.registerStateListener(this.authStateSubscription,p,v,A)}beforeAuthStateChanged(p,v){return this.beforeStateQueue.pushCallback(p,v)}onIdTokenChanged(p,v,A){return this.registerStateListener(this.idTokenSubscription,p,v,A)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,v){var A=this;return(0,g.Z)(function*(){const Y=yield A.getOrInitRedirectPersistenceManager(v);return null===p?Y.removeCurrentUser():Y.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var v=this;return(0,g.Z)(function*(){if(!v.redirectPersistenceManager){const A=p&&yr(p)||v._popupRedirectResolver;te(A,v,"argument-error"),v.redirectPersistenceManager=yield Ne.create(v,[yr(A._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(p){var v=this;return(0,g.Z)(function*(){var A,Y;return v._isInitialized&&(yield v.queue((0,g.Z)(function*(){}))),(null===(A=v._currentUser)||void 0===A?void 0:A._redirectEventId)===p?v._currentUser:(null===(Y=v.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===p?v.redirectUser:null})()}_persistUserIfCurrent(p){var v=this;return(0,g.Z)(function*(){if(p===v.currentUser)return v.queue((0,g.Z)(function*(){return v.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(v=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,v,A,Y){if(this._deleted)return()=>{};const ce="function"==typeof v?v:v.next.bind(v),tt=this._isInitialized?Promise.resolve():this._initializationPromise;return te(tt,this,"internal-error"),tt.then(()=>ce(this.currentUser)),"function"==typeof v?p.addObserver(v,A,Y):p.addObserver(v)}directlySetCurrentUser(p){var v=this;return(0,g.Z)(function*(){v.currentUser&&v.currentUser!==p&&v._currentUser._stopProactiveRefresh(),p&&v.isProactiveRefreshEnabled&&p._startProactiveRefresh(),v.currentUser=p,p?yield v.assertedPersistence.setCurrentUser(p):yield v.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=qr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,g.Z)(function*(){var v;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const Y=yield null===(v=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();Y&&(A["X-Firebase-Client"]=Y);const ce=yield p._getAppCheckToken();return ce&&(A["X-Firebase-AppCheck"]=ce),A})()}_getAppCheckToken(){var p=this;return(0,g.Z)(function*(){var v;const A=yield null===(v=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getToken();return null!=A&&A.error&&function oe(w,...p){we.logLevel<=Ce.in.WARN&&we.warn(`Auth (${W.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${A.error}`),null==A?void 0:A.token})()}}function _r(w){return(0,f.m9)(w)}class $i{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,f.ne)(v=>this.observer=v)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _o(w,p,v){const A=_r(w);te(A._canInitEmulator,A,"emulator-config-failed"),te(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const Y=!(null==v||!v.disableWarnings),ce=to(p),{host:tt,port:wt}=function Z(w){const p=to(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!v)return{host:"",port:null};const A=v[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(A);if(Y){const ce=Y[1];return{host:ce,port:me(A.substr(ce.length+1))}}{const[ce,tt]=A.split(":");return{host:ce,port:me(tt)}}}(p);A.config.emulator={url:`${ce}//${tt}${null===wt?"":`:${wt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:tt,port:wt,protocol:ce.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function ie(){function w(){const p=document.createElement("p"),v=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function to(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function me(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class Se{constructor(p,v){this.providerId=p,this.signInMethod=v}toJSON(){return dt("not implemented")}_getIdTokenResponse(p){return dt("not implemented")}_linkToIdToken(p,v){return dt("not implemented")}_getReauthenticationResolver(p){return dt("not implemented")}}function Ye(w,p){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:resetPassword",Be(w,p))})).apply(this,arguments)}function vt(w,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rt(){return(Rt=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:update",Be(w,p))})).apply(this,arguments)}function yn(w,p){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,g.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithPassword",Be(w,p))})).apply(this,arguments)}function Kn(w,p){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:sendOobCode",Be(w,p))})).apply(this,arguments)}function We(){return(We=(0,g.Z)(function*(w,p){return Kn(w,p)})).apply(this,arguments)}function Ge(w,p){return Je.apply(this,arguments)}function Je(){return(Je=(0,g.Z)(function*(w,p){return Kn(w,p)})).apply(this,arguments)}function St(w,p){return jt.apply(this,arguments)}function jt(){return(jt=(0,g.Z)(function*(w,p){return Kn(w,p)})).apply(this,arguments)}function Gn(){return(Gn=(0,g.Z)(function*(w,p){return Kn(w,p)})).apply(this,arguments)}function ir(){return(ir=(0,g.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithEmailLink",Be(w,p))})).apply(this,arguments)}function Io(){return(Io=(0,g.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithEmailLink",Be(w,p))})).apply(this,arguments)}class vi extends Se{constructor(p,v,A,Y=null){super("password",A),this._email=p,this._password=v,this._tenantId=Y}static _fromEmailAndPassword(p,v){return new vi(p,v,"password")}static _fromEmailAndCode(p,v,A=null){return new vi(p,v,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p;if(null!=v&&v.email&&null!=v&&v.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(p){var v=this;return(0,g.Z)(function*(){var A;switch(v.signInMethod){case"password":const Y={returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=p._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const ce=yield si(p,Y,"signInWithPassword");return yn(p,ce)}return yn(p,Y).catch(function(){var ce=(0,g.Z)(function*(tt){if("auth/missing-recaptcha-token"===tt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const wt=yield si(p,Y,"signInWithPassword");return yn(p,wt)}return Promise.reject(tt)});return function(tt){return ce.apply(this,arguments)}}());case"emailLink":return function Un(w,p){return ir.apply(this,arguments)}(p,{email:v._email,oobCode:v._password});default:He(p,"internal-error")}})()}_linkToIdToken(p,v){var A=this;return(0,g.Z)(function*(){switch(A.signInMethod){case"password":return vt(p,{idToken:v,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function di(w,p){return Io.apply(this,arguments)}(p,{idToken:v,email:A._email,oobCode:A._password});default:He(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Mi(w,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,g.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithIdp",Be(w,p))})).apply(this,arguments)}class cr extends Se{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const v=new cr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(v.idToken=p.idToken),p.accessToken&&(v.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(v.nonce=p.nonce),p.pendingToken&&(v.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(v.accessToken=p.oauthToken,v.secret=p.oauthTokenSecret):He("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:Y}=v,ce=(0,J._T)(v,["providerId","signInMethod"]);if(!A||!Y)return null;const tt=new cr(A,Y);return tt.idToken=ce.idToken||void 0,tt.accessToken=ce.accessToken||void 0,tt.secret=ce.secret,tt.nonce=ce.nonce,tt.pendingToken=ce.pendingToken||null,tt}_getIdTokenResponse(p){return Mi(p,this.buildRequest())}_linkToIdToken(p,v){const A=this.buildRequest();return A.idToken=v,Mi(p,A)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,Mi(p,v)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),p.postBody=(0,f.xO)(v)}return p}}function Wn(){return(Wn=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:sendVerificationCode",Be(w,p))})).apply(this,arguments)}function Ti(){return(Ti=(0,g.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithPhoneNumber",Be(w,p))})).apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(w,p){const v=yield at(w,"POST","/v1/accounts:signInWithPhoneNumber",Be(w,p));if(v.temporaryProof)throw _t(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const rs={USER_NOT_FOUND:"user-not-found"};function co(){return(co=(0,g.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithPhoneNumber",Be(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),rs)})).apply(this,arguments)}class ii extends Se{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,v){return new ii({verificationId:p,verificationCode:v})}static _fromTokenResponse(p,v){return new ii({phoneNumber:p,temporaryProof:v})}_getIdTokenResponse(p){return function ur(w,p){return Ti.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,v){return function Go(w,p){return Jr.apply(this,arguments)}(p,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ri(w,p){return co.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:v,verificationId:A,verificationCode:Y}=this.params;return p&&v?{temporaryProof:p,phoneNumber:v}:{sessionInfo:A,code:Y}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:ce}=p;return A||v||Y||ce?new ii({verificationId:v,verificationCode:A,phoneNumber:Y,temporaryProof:ce}):null}}class No{constructor(p){var v,A,Y,ce,tt,wt;const sn=(0,f.zd)((0,f.pd)(p)),Cn=null!==(v=sn.apiKey)&&void 0!==v?v:null,Hn=null!==(A=sn.oobCode)&&void 0!==A?A:null,Gr=function Pn(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=sn.mode)&&void 0!==Y?Y:null);te(Cn&&Hn&&Gr,"argument-error"),this.apiKey=Cn,this.operation=Gr,this.code=Hn,this.continueUrl=null!==(ce=sn.continueUrl)&&void 0!==ce?ce:null,this.languageCode=null!==(tt=sn.languageCode)&&void 0!==tt?tt:null,this.tenantId=null!==(wt=sn.tenantId)&&void 0!==wt?wt:null}static parseLink(p){const v=function Po(w){const p=(0,f.zd)((0,f.pd)(w)).link,v=p?(0,f.zd)((0,f.pd)(p)).deep_link_id:null,A=(0,f.zd)((0,f.pd)(w)).deep_link_id;return(A?(0,f.zd)((0,f.pd)(A)).link:null)||A||v||p||w}(p);try{return new No(v)}catch{return null}}}let Zn=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,A){return vi._fromEmailAndPassword(v,A)}static credentialWithLink(v,A){const Y=No.parseLink(A);return te(Y,"argument-error"),vi._fromEmailAndCode(v,Y.code,Y.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class qi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class no extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class yi extends no{static credentialFromJSON(p){const v="string"==typeof p?JSON.parse(p):p;return te("providerId"in v&&"signInMethod"in v,"argument-error"),cr._fromParams(v)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return te(p.idToken||p.accessToken,"argument-error"),cr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return yi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return yi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:A,oauthTokenSecret:Y,pendingToken:ce,nonce:tt,providerId:wt}=p;if(!A&&!Y&&!v&&!ce||!wt)return null;try{return new yi(wt)._credential({idToken:v,accessToken:A,nonce:tt,pendingToken:ce})}catch{return null}}}let ds=(()=>{class w extends no{constructor(){super("facebook.com")}static credential(v){return cr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Us=(()=>{class w extends no{constructor(){super("google.com"),this.addScope("profile")}static credential(v,A){return cr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:A})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:A,oauthAccessToken:Y}=v;if(!A&&!Y)return null;try{return w.credential(A,Y)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Eo=(()=>{class w extends no{constructor(){super("github.com")}static credential(v){return cr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class uo extends Se{constructor(p,v){super(p,p),this.pendingToken=v}_getIdTokenResponse(p){return Mi(p,this.buildRequest())}_linkToIdToken(p,v){const A=this.buildRequest();return A.idToken=v,Mi(p,A)}_getReauthenticationResolver(p){const v=this.buildRequest();return v.autoCreate=!1,Mi(p,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const v="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:Y,pendingToken:ce}=v;return A&&Y&&ce&&A===Y?new uo(A,ce):null}static _create(p,v){return new uo(p,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vn extends qi{constructor(p){te(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Vn.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Vn.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const v=uo.fromJSON(p);return te(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:v,providerId:A}=p;if(!v||!A)return null;try{return uo._create(A,v)}catch{return null}}}let ho=(()=>{class w extends no{constructor(){super("twitter.com")}static credential(v,A){return cr._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:A})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:A,oauthTokenSecret:Y}=v;if(!A||!Y)return null;try{return w.credential(A,Y)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function fo(w,p){return ko.apply(this,arguments)}function ko(){return(ko=(0,g.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signUp",Be(w,p))})).apply(this,arguments)}class ei{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,v,A,Y=!1){return(0,g.Z)(function*(){const ce=yield Pr._fromIdTokenResponse(p,A,Y),tt=ro(A);return new ei({user:ce,providerId:tt,_tokenResponse:A,operationType:v})})()}static _forOperation(p,v,A){return(0,g.Z)(function*(){yield p._updateTokensIfNecessary(A,!0);const Y=ro(A);return new ei({user:p,providerId:Y,_tokenResponse:A,operationType:v})})()}}function ro(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Fo(w){return Do.apply(this,arguments)}function Do(){return(Do=(0,g.Z)(function*(w){var p;const v=_r(w);if(yield v._initializationPromise,null!==(p=v.currentUser)&&void 0!==p&&p.isAnonymous)return new ei({user:v.currentUser,providerId:null,operationType:"signIn"});const A=yield fo(v,{returnSecureToken:!0}),Y=yield ei._fromIdTokenResponse(v,"signIn",A,!0);return yield v._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class fi extends f.ZR{constructor(p,v,A,Y){var ce;super(v.code,v.message),this.operationType=A,this.user=Y,Object.setPrototypeOf(this,fi.prototype),this.customData={appName:p.name,tenantId:null!==(ce=p.tenantId)&&void 0!==ce?ce:void 0,_serverResponse:v.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,v,A,Y){return new fi(p,v,A,Y)}}function js(w,p,v,A){return("reauthenticate"===p?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(ce=>{throw"auth/multi-factor-auth-required"===ce.code?fi._fromErrorAndOperation(w,ce,p,A):ce})}function pi(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function _i(w,p){return wo.apply(this,arguments)}function wo(){return wo=(0,g.Z)(function*(w,p){const v=(0,f.m9)(w);yield Si(!0,v,p);const{providerUserInfo:A}=yield function an(w,p){return mn.apply(this,arguments)}(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[p]}),Y=pi(A||[]);return v.providerData=v.providerData.filter(ce=>Y.has(ce.providerId)),Y.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v}),wo.apply(this,arguments)}function xi(w,p){return bo.apply(this,arguments)}function bo(){return(bo=(0,g.Z)(function*(w,p,v=!1){const A=yield qn(w,p._linkToIdToken(w.auth,yield w.getIdToken()),v);return ei._forOperation(w,"link",A)})).apply(this,arguments)}function Si(w,p,v){return Es.apply(this,arguments)}function Es(){return(Es=(0,g.Z)(function*(w,p,v){yield Lr(p);const Y=!1===w?"provider-already-linked":"no-such-provider";te(pi(p.providerData).has(v)===w,p.auth,Y)})).apply(this,arguments)}function Js(w,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,g.Z)(function*(w,p,v=!1){const{auth:A}=w,Y="reauthenticate";try{const ce=yield qn(w,js(A,Y,p,w),v);te(ce.idToken,A,"internal-error");const tt=Jt(ce.idToken);te(tt,A,"internal-error");const{sub:wt}=tt;return te(w.uid===wt,A,"user-mismatch"),ei._forOperation(w,Y,ce)}catch(ce){throw"auth/user-not-found"===(null==ce?void 0:ce.code)&&He(A,"user-mismatch"),ce}})).apply(this,arguments)}function da(w,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,g.Z)(function*(w,p,v=!1){const A="signIn",Y=yield js(w,A,p),ce=yield ei._fromIdTokenResponse(w,A,Y);return v||(yield w._updateCurrentUser(ce.user)),ce})).apply(this,arguments)}function fs(w,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,g.Z)(function*(w,p){return da(_r(w),p)})).apply(this,arguments)}function ha(w,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,g.Z)(function*(w,p){const v=(0,f.m9)(w);return yield Si(!1,v,p.providerId),xi(v,p)})).apply(this,arguments)}function $r(w,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,g.Z)(function*(w,p){return Js((0,f.m9)(w),p)})).apply(this,arguments)}function U(){return(U=(0,g.Z)(function*(w,p){return at(w,"POST","/v1/accounts:signInWithCustomToken",Be(w,p))})).apply(this,arguments)}function P(w,p){return se.apply(this,arguments)}function se(){return se=(0,g.Z)(function*(w,p){const v=_r(w),A=yield function il(w,p){return U.apply(this,arguments)}(v,{token:p,returnSecureToken:!0}),Y=yield ei._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(Y.user),Y}),se.apply(this,arguments)}class d{constructor(p,v){this.factorId=p,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(p,v){return"phoneInfo"in v?C._fromServerResponse(p,v):"totpInfo"in v?_._fromServerResponse(p,v):He(p,"internal-error")}}class C extends d{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,v){return new C(v)}}class _ extends d{constructor(p){super("totp",p)}static _fromServerResponse(p,v){return new _(v)}}function N(w,p,v){var A;te((null===(A=v.url)||void 0===A?void 0:A.length)>0,w,"invalid-continue-uri"),te(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=v.url,p.dynamicLinkDomain=v.dynamicLinkDomain,p.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(te(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=v.iOS.bundleId),v.android&&(te(v.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=v.android.installApp,p.androidMinimumVersionCode=v.android.minimumVersion,p.androidPackageName=v.android.packageName)}function ne(w,p,v){return It.apply(this,arguments)}function It(){return It=(0,g.Z)(function*(w,p,v){var A;const Y=_r(w),ce={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=Y._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const tt=yield si(Y,ce,"getOobCode",!0);v&&N(Y,tt,v),yield Ge(Y,tt)}else v&&N(Y,ce,v),yield Ge(Y,ce).catch(function(){var tt=(0,g.Z)(function*(wt){if("auth/missing-recaptcha-token"!==wt.code)return Promise.reject(wt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const sn=yield si(Y,ce,"getOobCode",!0);v&&N(Y,sn,v),yield Ge(Y,sn)}});return function(wt){return tt.apply(this,arguments)}}())}),It.apply(this,arguments)}function on(w,p,v){return tn.apply(this,arguments)}function tn(){return(tn=(0,g.Z)(function*(w,p,v){yield Ye((0,f.m9)(w),{oobCode:p,newPassword:v})})).apply(this,arguments)}function Bn(w,p){return lr.apply(this,arguments)}function lr(){return lr=(0,g.Z)(function*(w,p){yield function Ft(w,p){return Rt.apply(this,arguments)}((0,f.m9)(w),{oobCode:p})}),lr.apply(this,arguments)}function gi(w,p){return io.apply(this,arguments)}function io(){return(io=(0,g.Z)(function*(w,p){const v=(0,f.m9)(w),A=yield Ye(v,{oobCode:p}),Y=A.requestType;switch(te(Y,v,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(A.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(A.mfaInfo,v,"internal-error");default:te(A.email,v,"internal-error")}let ce=null;return A.mfaInfo&&(ce=d._fromServerResponse(_r(v),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:ce},operation:Y}})).apply(this,arguments)}function Gi(w,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,g.Z)(function*(w,p){const{data:v}=yield gi((0,f.m9)(w),p);return v.email})).apply(this,arguments)}function oo(w,p,v){return es.apply(this,arguments)}function es(){return es=(0,g.Z)(function*(w,p,v){var A;const Y=_r(w),ce={returnSecureToken:!0,email:p,password:v,clientType:"CLIENT_TYPE_WEB"};let tt;if(null!==(A=Y._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Cn=yield si(Y,ce,"signUpPassword");tt=fo(Y,Cn)}else tt=fo(Y,ce).catch(function(){var Cn=(0,g.Z)(function*(Hn){if("auth/missing-recaptcha-token"===Hn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Gr=yield si(Y,ce,"signUpPassword");return fo(Y,Gr)}return Promise.reject(Hn)});return function(Hn){return Cn.apply(this,arguments)}}());const wt=yield tt.catch(Cn=>Promise.reject(Cn)),sn=yield ei._fromIdTokenResponse(Y,"signIn",wt);return yield Y._updateCurrentUser(sn.user),sn}),es.apply(this,arguments)}function ta(w,p,v){return fs((0,f.m9)(w),Zn.credential(p,v))}function pa(w,p,v){return Co.apply(this,arguments)}function Co(){return Co=(0,g.Z)(function*(w,p,v){var A;const Y=_r(w),ce={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function tt(wt,sn){te(sn.handleCodeInApp,Y,"argument-error"),sn&&N(Y,wt,sn)}if(null!==(A=Y._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const wt=yield si(Y,ce,"getOobCode",!0);tt(wt,v),yield St(Y,wt)}else tt(ce,v),yield St(Y,ce).catch(function(){var wt=(0,g.Z)(function*(sn){if("auth/missing-recaptcha-token"!==sn.code)return Promise.reject(sn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Cn=yield si(Y,ce,"getOobCode",!0);tt(Cn,v),yield St(Y,Cn)}});return function(sn){return wt.apply(this,arguments)}}())}),Co.apply(this,arguments)}function na(w,p){const v=No.parseLink(p);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function ki(w,p,v){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,g.Z)(function*(w,p,v){const A=(0,f.m9)(w),Y=Zn.credentialWithLink(p,v||st());return te(Y._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),fs(A,Y)})).apply(this,arguments)}function Os(){return(Os=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:createAuthUri",Be(w,p))})).apply(this,arguments)}function Aa(w,p){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,g.Z)(function*(w,p){const A={identifier:p,continueUri:lt()?st():"http://localhost"},{signinMethods:Y}=yield function za(w,p){return Os.apply(this,arguments)}((0,f.m9)(w),A);return Y||[]}),Ps.apply(this,arguments)}function Ma(w,p){return ga.apply(this,arguments)}function ga(){return ga=(0,g.Z)(function*(w,p){const v=(0,f.m9)(w),Y={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&N(v.auth,Y,p);const{email:ce}=yield function Ai(w,p){return We.apply(this,arguments)}(v.auth,Y);ce!==w.email&&(yield w.reload())}),ga.apply(this,arguments)}function xa(w,p,v){return $o.apply(this,arguments)}function $o(){return $o=(0,g.Z)(function*(w,p,v){const A=(0,f.m9)(w),ce={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};v&&N(A.auth,ce,v);const{email:tt}=yield function Zt(w,p){return Gn.apply(this,arguments)}(A.auth,ce);tt!==w.email&&(yield w.reload())}),$o.apply(this,arguments)}function Ns(){return(Ns=(0,g.Z)(function*(w,p){return Ze(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ol(w,p){return sl.apply(this,arguments)}function sl(){return sl=(0,g.Z)(function*(w,{displayName:p,photoURL:v}){if(void 0===p&&void 0===v)return;const A=(0,f.m9)(w),ce={idToken:yield A.getIdToken(),displayName:p,photoUrl:v,returnSecureToken:!0},tt=yield qn(A,function Ga(w,p){return Ns.apply(this,arguments)}(A.auth,ce));A.displayName=tt.displayName||null,A.photoURL=tt.photoUrl||null;const wt=A.providerData.find(({providerId:sn})=>"password"===sn);wt&&(wt.displayName=A.displayName,wt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(tt)}),sl.apply(this,arguments)}function Ra(w,p){return ma((0,f.m9)(w),p,null)}function Wo(w,p){return ma((0,f.m9)(w),null,p)}function ma(w,p,v){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,g.Z)(function*(w,p,v){const{auth:A}=w,ce={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(ce.email=p),v&&(ce.password=v);const tt=yield qn(w,vt(A,ce));yield w._updateTokensIfNecessary(tt,!0)})).apply(this,arguments)}class Ds{constructor(p,v,A={}){this.isNewUser=p,this.providerId=v,this.profile=A}}class po extends Ds{constructor(p,v,A,Y){super(p,v,A),this.username=Y}}class os extends Ds{constructor(p,v){super(p,"facebook.com",v)}}class b extends po{constructor(p,v){super(p,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class j extends Ds{constructor(p,v){super(p,"google.com",v)}}class De extends po{constructor(p,v,A){super(p,"twitter.com",v,A)}}function L(w){const{user:p,_tokenResponse:v}=w;return p.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function zs(w){var p,v;if(!w)return null;const{providerId:A}=w,Y=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},ce=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!A&&null!=w&&w.idToken){const tt=null===(v=null===(p=Jt(w.idToken))||void 0===p?void 0:p.firebase)||void 0===v?void 0:v.sign_in_provider;if(tt)return new Ds(ce,"anonymous"!==tt&&"custom"!==tt?tt:null)}if(!A)return null;switch(A){case"facebook.com":return new os(ce,Y);case"github.com":return new b(ce,Y);case"google.com":return new j(ce,Y);case"twitter.com":return new De(ce,Y,w.screenName||null);case"custom":case"anonymous":return new Ds(ce,null);default:return new Ds(ce,A,Y)}}(v)}class jr{constructor(p,v,A){this.type=p,this.credential=v,this.auth=A}static _fromIdtoken(p,v){return new jr("enroll",p,v)}static _fromMfaPendingCredential(p){return new jr("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var v,A;if(null!=p&&p.multiFactorSession){if(null!==(v=p.multiFactorSession)&&void 0!==v&&v.pendingCredential)return jr._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(A=p.multiFactorSession)&&void 0!==A&&A.idToken)return jr._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Yi{constructor(p,v,A){this.session=p,this.hints=v,this.signInResolver=A}static _fromError(p,v){const A=_r(p),Y=v.customData._serverResponse,ce=(Y.mfaInfo||[]).map(wt=>d._fromServerResponse(A,wt));te(Y.mfaPendingCredential,A,"internal-error");const tt=jr._fromMfaPendingCredential(Y.mfaPendingCredential);return new Yi(tt,ce,function(){var wt=(0,g.Z)(function*(sn){const Cn=yield sn._process(A,tt);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Hn=Object.assign(Object.assign({},Y),{idToken:Cn.idToken,refreshToken:Cn.refreshToken});switch(v.operationType){case"signIn":const Gr=yield ei._fromIdTokenResponse(A,v.operationType,Hn);return yield A._updateCurrentUser(Gr.user),Gr;case"reauthenticate":return te(v.user,A,"internal-error"),ei._forOperation(v.user,v.operationType,Hn);default:He(A,"internal-error")}});return function(sn){return wt.apply(this,arguments)}}())}resolveSignIn(p){var v=this;return(0,g.Z)(function*(){return v.signInResolver(p)})()}}function Ii(w,p){var v;const A=(0,f.m9)(w),Y=p;return te(p.customData.operationType,A,"argument-error"),te(null===(v=Y.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,A,"argument-error"),Yi._fromError(A,Y)}class Ml{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(A=>d._fromServerResponse(p.auth,A)))})}static _fromUser(p){return new Ml(p)}getSession(){var p=this;return(0,g.Z)(function*(){return jr._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,v){var A=this;return(0,g.Z)(function*(){const Y=p,ce=yield A.getSession(),tt=yield qn(A.user,Y._process(A.user.auth,ce,v));return yield A.user._updateTokensIfNecessary(tt),A.user.reload()})()}unenroll(p){var v=this;return(0,g.Z)(function*(){const A="string"==typeof p?p:p.uid,Y=yield v.user.getIdToken();try{const ce=yield qn(v.user,function ps(w,p){return Ze(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Be(w,p))}(v.user.auth,{idToken:Y,mfaEnrollmentId:A}));v.enrolledFactors=v.enrolledFactors.filter(({uid:tt})=>tt!==A),yield v.user._updateTokensIfNecessary(ce),yield v.user.reload()}catch(ce){throw ce}})()}}const va=new WeakMap;function al(w){const p=(0,f.m9)(w);return va.has(p)||va.set(p,Ml._fromUser(p)),va.get(p)}const Gs="__sak";class Mc{constructor(p,v){this.storageRetriever=p,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Gs,"1"),this.storage.removeItem(Gs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,v){return this.storage.setItem(p,JSON.stringify(v)),Promise.resolve()}_get(p){const v=this.storage.getItem(p);return Promise.resolve(v?JSON.parse(v):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ra=(()=>{class w extends Mc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,A)=>this.onStorageEvent(v,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function or(){const w=(0,f.z$)();return G(w)||Vt(w)}()&&function Ur(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xn(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const A of Object.keys(this.listeners)){const Y=this.storage.getItem(A),ce=this.localCache[A];Y!==ce&&v(A,ce,Y)}}onStorageEvent(v,A=!1){if(!v.key)return void this.forAllChangedKeys((wt,sn,Cn)=>{this.notifyListeners(wt,Cn)});const Y=v.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const wt=this.storage.getItem(Y);if(v.newValue!==wt)null!==v.newValue?this.storage.setItem(Y,v.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===v.newValue&&!A)return}const ce=()=>{const wt=this.storage.getItem(Y);!A&&this.localCache[Y]===wt||this.notifyListeners(Y,wt)},tt=this.storage.getItem(Y);!function Jn(){return(0,f.w1)()&&10===document.documentMode}()||tt===v.newValue||v.newValue===v.oldValue?ce():setTimeout(ce,10)}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const ce of Array.from(Y))ce(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,A,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:A,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,A){var Y=()=>super._set,ce=this;return(0,g.Z)(function*(){yield Y().call(ce,v,A),ce.localCache[v]=JSON.stringify(A)})()}_get(v){var A=()=>super._get,Y=this;return(0,g.Z)(function*(){const ce=yield A().call(Y,v);return Y.localCache[v]=JSON.stringify(ce),ce})()}_remove(v){var A=()=>super._remove,Y=this;return(0,g.Z)(function*(){yield A().call(Y,v),delete Y.localCache[v]})()}}return w.type="LOCAL",w})(),Oa=(()=>{class w extends Mc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,A){}_removeListener(v,A){}}return w.type="SESSION",w})();let Xt=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const A=this.receivers.find(ce=>ce.isListeningto(v));if(A)return A;const Y=new w(v);return this.receivers.push(Y),Y}isListeningto(v){return this.eventTarget===v}handleEvent(v){var A=this;return(0,g.Z)(function*(){const Y=v,{eventId:ce,eventType:tt,data:wt}=Y.data,sn=A.handlersMap[tt];if(null==sn||!sn.size)return;Y.ports[0].postMessage({status:"ack",eventId:ce,eventType:tt});const Cn=Array.from(sn).map(function(){var Gr=(0,g.Z)(function*(Ss){return Ss(Y.origin,wt)});return function(Ss){return Gr.apply(this,arguments)}}()),Hn=yield function ll(w){return Promise.all(w.map(function(){var p=(0,g.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(A){return{fulfilled:!1,reason:A}}});return function(v){return p.apply(this,arguments)}}()))}(Cn);Y.ports[0].postMessage({status:"done",eventId:ce,eventType:tt,response:Hn})})()}_subscribe(v,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(A)}_unsubscribe(v,A){this.handlersMap[v]&&A&&this.handlersMap[v].delete(A),(!A||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Ei(w="",p=10){let v="";for(let A=0;A<p;A++)v+=Math.floor(10*Math.random());return w+v}class gs{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,v,A=50){var Y=this;return(0,g.Z)(function*(){const ce=typeof MessageChannel<"u"?new MessageChannel:null;if(!ce)throw new Error("connection_unavailable");let tt,wt;return new Promise((sn,Cn)=>{const Hn=Ei("",20);ce.port1.start();const Gr=setTimeout(()=>{Cn(new Error("unsupported_event"))},A);wt={messageChannel:ce,onMessage(Ss){const Qo=Ss;if(Qo.data.eventId===Hn)switch(Qo.data.status){case"ack":clearTimeout(Gr),tt=setTimeout(()=>{Cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(tt),sn(Qo.data.response);break;default:clearTimeout(Gr),clearTimeout(tt),Cn(new Error("invalid_response"))}}},Y.handlers.add(wt),ce.port1.addEventListener("message",wt.onMessage),Y.target.postMessage({eventType:p,eventId:Hn,data:v},[ce.port2])}).finally(()=>{wt&&Y.removeMessageHandler(wt)})})()}}function Ui(){return window}function ut(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function vn(){return(vn=(0,g.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kr="firebaseLocalStorageDb",Di="firebaseLocalStorage",cl="fbase_key";class ya{constructor(p){this.request=p}toPromise(){return new Promise((p,v)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ya(w,p){return w.transaction([Di],p?"readwrite":"readonly").objectStore(Di)}function Ka(){const w=indexedDB.open(kr,1);return new Promise((p,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const A=w.result;try{A.createObjectStore(Di,{keyPath:cl})}catch(Y){v(Y)}}),w.addEventListener("success",(0,g.Z)(function*(){const A=w.result;A.objectStoreNames.contains(Di)?p(A):(A.close(),yield function yu(){const w=indexedDB.deleteDatabase(kr);return new ya(w).toPromise()}(),p(yield Ka()))}))})}function Vo(w,p,v){return ms.apply(this,arguments)}function ms(){return(ms=(0,g.Z)(function*(w,p,v){const A=Ya(w,!0).put({[cl]:p,value:v});return new ya(A).toPromise()})).apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(w,p){const v=Ya(w,!1).get(p),A=yield new ya(v).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Yn(w,p){const v=Ya(w,!0).delete(p);return new ya(v).toPromise()}const jn=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,g.Z)(function*(){return v.db||(v.db=yield Ka()),v.db})()}_withRetries(v){var A=this;return(0,g.Z)(function*(){let Y=0;for(;;)try{const ce=yield A._openDb();return yield v(ce)}catch(ce){if(Y++>3)throw ce;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,g.Z)(function*(){return ut()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,g.Z)(function*(){v.receiver=Xt._getInstance(function Ot(){return ut()?self:null}()),v.receiver._subscribe("keyChanged",function(){var A=(0,g.Z)(function*(Y,ce){return{keyProcessed:(yield v._poll()).includes(ce.key)}});return function(Y,ce){return A.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var A=(0,g.Z)(function*(Y,ce){return["keyChanged"]});return function(Y,ce){return A.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,g.Z)(function*(){var A,Y;if(v.activeServiceWorker=yield function Hr(){return vn.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new gs(v.activeServiceWorker);const ce=yield v.sender._send("ping",{},800);ce&&null!==(A=ce[0])&&void 0!==A&&A.fulfilled&&null!==(Y=ce[0])&&void 0!==Y&&Y.value.includes("keyChanged")&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var A=this;return(0,g.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Dt(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:v},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Ka();return yield Vo(v,Gs,"1"),yield Yn(v,Gs),!0}catch{}return!1})()}_withPendingWrite(v){var A=this;return(0,g.Z)(function*(){A.pendingWrites++;try{yield v()}finally{A.pendingWrites--}})()}_set(v,A){var Y=this;return(0,g.Z)(function*(){return Y._withPendingWrite((0,g.Z)(function*(){return yield Y._withRetries(ce=>Vo(ce,v,A)),Y.localCache[v]=A,Y.notifyServiceWorker(v)}))})()}_get(v){var A=this;return(0,g.Z)(function*(){const Y=yield A._withRetries(ce=>function Ql(w,p){return ws.apply(this,arguments)}(ce,v));return A.localCache[v]=Y,Y})()}_remove(v){var A=this;return(0,g.Z)(function*(){return A._withPendingWrite((0,g.Z)(function*(){return yield A._withRetries(Y=>Yn(Y,v)),delete A.localCache[v],A.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,g.Z)(function*(){const A=yield v._withRetries(tt=>{const wt=Ya(tt,!1).getAll();return new ya(wt).toPromise()});if(!A)return[];if(0!==v.pendingWrites)return[];const Y=[],ce=new Set;for(const{fbase_key:tt,value:wt}of A)ce.add(tt),JSON.stringify(v.localCache[tt])!==JSON.stringify(wt)&&(v.notifyListeners(tt,wt),Y.push(tt));for(const tt of Object.keys(v.localCache))v.localCache[tt]&&!ce.has(tt)&&(v.notifyListeners(tt,null),Y.push(tt));return Y})()}notifyListeners(v,A){this.localCache[v]=A;const Y=this.listeners[v];if(Y)for(const ce of Array.from(Y))ce(A)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(A)}_removeListener(v,A){this.listeners[v]&&(this.listeners[v].delete(A),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),E=1e12;class S{constructor(p){this.auth=p,this.counter=E,this._widgets=new Map}render(p,v){const A=this.counter;return this._widgets.set(A,new O(p,this.auth.name,v||{})),this.counter++,A}reset(p){var v;const A=p||E;null===(v=this._widgets.get(A))||void 0===v||v.delete(),this._widgets.delete(A)}getResponse(p){var v;return(null===(v=this._widgets.get(p||E))||void 0===v?void 0:v.getResponse())||""}execute(p){var v=this;return(0,g.Z)(function*(){var A;return null===(A=v._widgets.get(p||E))||void 0===A||A.execute(),""})()}}class O{constructor(p,v,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof p?document.getElementById(p):p;te(Y,"argument-error",{appName:v}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function I(w){const p=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<w;A++)p.push(v.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":v}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const F=mr("rcb"),ee=new zt(3e4,6e4);class Oe{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Ui().grecaptcha)||void 0===p||!p.render)}load(p,v=""){return te(function At(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),p,"argument-error"),this.shouldResolveImmediately(v)&&fn(Ui().grecaptcha)?Promise.resolve(Ui().grecaptcha):new Promise((A,Y)=>{const ce=Ui().setTimeout(()=>{Y(pe(p,"network-request-failed"))},ee.get());Ui()[F]=()=>{Ui().clearTimeout(ce),delete Ui()[F];const wt=Ui().grecaptcha;if(!wt||!fn(wt))return void Y(pe(p,"internal-error"));const sn=wt.render;wt.render=(Cn,Hn)=>{const Gr=sn(Cn,Hn);return this.counter++,Gr},this.hostLanguage=v,A(wt)},Tr(`https://www.google.com/recaptcha/api.js??${(0,f.xO)({onload:F,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ce),Y(pe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var v;return!(null===(v=Ui().grecaptcha)||void 0===v||!v.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pt{load(p){return(0,g.Z)(function*(){return new S(p)})()}clearedOneInstance(){}}const kn="recaptcha",On={theme:"light",type:"image"};class nr{constructor(p,v=Object.assign({},On),A){this.parameters=v,this.type=kn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_r(A),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof p?document.getElementById(p):p;te(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pt:new Oe,this.validateStartingState()}verify(){var p=this;return(0,g.Z)(function*(){p.assertNotDestroyed();const v=yield p.render(),A=p.getAssertedRecaptcha();return A.getResponse(v)||new Promise(ce=>{const tt=wt=>{wt&&(p.tokenChangeListeners.delete(tt),ce(wt))};p.tokenChangeListeners.add(tt),p.isInvisible&&A.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return v=>{if(this.tokenChangeListeners.forEach(A=>A(v)),"function"==typeof p)p(v);else if("string"==typeof p){const A=Ui()[p];"function"==typeof A&&A(v)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,g.Z)(function*(){if(yield p.init(),!p.widgetId){let v=p.container;if(!p.isInvisible){const A=document.createElement("div");v.appendChild(A),v=A}p.widgetId=p.getAssertedRecaptcha().render(v,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,g.Z)(function*(){te(lt()&&!ut(),p.auth,"internal-error"),yield function ai(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const v=yield function pt(w){return it.apply(this,arguments)}(p.auth);te(v,p.auth,"internal-error"),p.parameters.sitekey=v})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mo{constructor(p,v){this.verificationId=p,this.onConfirmation=v}confirm(p){const v=ii._fromVerification(this.verificationId,p);return this.onConfirmation(v)}}function ct(w,p,v){return ks.apply(this,arguments)}function ks(){return(ks=(0,g.Z)(function*(w,p,v){const A=_r(w),Y=yield bs(A,p,(0,f.m9)(v));return new mo(Y,ce=>fs(A,ce))})).apply(this,arguments)}function Uo(w,p,v){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,g.Z)(function*(w,p,v){const A=(0,f.m9)(w);yield Si(!1,A,"phone");const Y=yield bs(A.auth,p,(0,f.m9)(v));return new mo(Y,ce=>ha(A,ce))})).apply(this,arguments)}function jo(w,p,v){return vs.apply(this,arguments)}function vs(){return(vs=(0,g.Z)(function*(w,p,v){const A=(0,f.m9)(w),Y=yield bs(A.auth,p,(0,f.m9)(v));return new mo(Y,ce=>$r(A,ce))})).apply(this,arguments)}function bs(w,p,v){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,g.Z)(function*(w,p,v){var A;const Y=yield v.verify();try{let ce;if(te("string"==typeof Y,w,"argument-error"),te(v.type===kn,w,"argument-error"),ce="string"==typeof p?{phoneNumber:p}:p,"session"in ce){const tt=ce.session;if("phoneNumber"in ce)return te("enroll"===tt.type,w,"internal-error"),(yield function ts(w,p){return Ze(w,"POST","/v2/accounts/mfaEnrollment:start",Be(w,p))}(w,{idToken:tt.credential,phoneEnrollmentInfo:{phoneNumber:ce.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{te("signin"===tt.type,w,"internal-error");const wt=(null===(A=ce.multiFactorHint)||void 0===A?void 0:A.uid)||ce.multiFactorUid;return te(wt,w,"missing-multi-factor-info"),(yield function Na(w,p){return Ze(w,"POST","/v2/accounts/mfaSignIn:start",Be(w,p))}(w,{mfaPendingCredential:tt.credential,mfaEnrollmentId:wt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:tt}=yield function rn(w,p){return Wn.apply(this,arguments)}(w,{phoneNumber:ce.phoneNumber,recaptchaToken:Y});return tt}}finally{v._reset()}}),Cs.apply(this,arguments)}function Rl(w,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,g.Z)(function*(w,p){yield xi((0,f.m9)(w),p)})).apply(this,arguments)}let _u=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=_r(v)}verifyPhoneNumber(v,A){return bs(this.auth,v,(0,f.m9)(A))}static credential(v,A){return ii._fromVerification(v,A)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:A,temporaryProof:Y}=v;return A&&Y?ii._fromTokenResponse(A,Y):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function ia(w,p){return p?yr(p):(te(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class ss extends Se{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Mi(p,this._buildIdpRequest())}_linkToIdToken(p,v){return Mi(p,this._buildIdpRequest(v))}_getReauthenticationResolver(p){return Mi(p,this._buildIdpRequest())}_buildIdpRequest(p){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(v.idToken=p),v}}function So(w){return da(w.auth,new ss(w),w.bypassAuthState)}function oa(w){const{auth:p,user:v}=w;return te(v,p,"internal-error"),Js(v,new ss(w),w.bypassAuthState)}function Rc(w){return vo.apply(this,arguments)}function vo(){return(vo=(0,g.Z)(function*(w){const{auth:p,user:v}=w;return te(v,p,"internal-error"),xi(v,new ss(w),w.bypassAuthState)})).apply(this,arguments)}class Ol{constructor(p,v,A,Y,ce=!1){this.auth=p,this.resolver=A,this.user=Y,this.bypassAuthState=ce,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var p=this;return new Promise(function(){var v=(0,g.Z)(function*(A,Y){p.pendingPromise={resolve:A,reject:Y};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(ce){p.reject(ce)}});return function(A,Y){return v.apply(this,arguments)}}())}onAuthEvent(p){var v=this;return(0,g.Z)(function*(){const{urlResponse:A,sessionId:Y,postBody:ce,tenantId:tt,error:wt,type:sn}=p;if(wt)return void v.reject(wt);const Cn={auth:v.auth,requestUri:A,sessionId:Y,tenantId:tt||void 0,postBody:ce||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(sn)(Cn))}catch(Hn){v.reject(Hn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return So;case"linkViaPopup":case"linkViaRedirect":return Rc;case"reauthViaPopup":case"reauthViaRedirect":return oa;default:He(this.auth,"internal-error")}}resolve(p){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Iu=new zt(2e3,1e4);function Ao(w,p,v){return dl.apply(this,arguments)}function dl(){return(dl=(0,g.Z)(function*(w,p,v){const A=_r(w);ke(w,p,qi);const Y=ia(A,v);return new Nc(A,"signInViaPopup",p,Y).executeNotNull()})).apply(this,arguments)}function Eu(w,p,v){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,g.Z)(function*(w,p,v){const A=(0,f.m9)(w);ke(A.auth,p,qi);const Y=ia(A.auth,v);return new Nc(A.auth,"reauthViaPopup",p,Y,A).executeNotNull()})).apply(this,arguments)}function Pc(w,p,v){return hl.apply(this,arguments)}function hl(){return(hl=(0,g.Z)(function*(w,p,v){const A=(0,f.m9)(w);ke(A.auth,p,qi);const Y=ia(A.auth,v);return new Nc(A.auth,"linkViaPopup",p,Y,A).executeNotNull()})).apply(this,arguments)}let Nc=(()=>{class w extends Ol{constructor(v,A,Y,ce,tt){super(v,A,ce,tt),this.provider=Y,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,g.Z)(function*(){const A=yield v.execute();return te(A,v.auth,"internal-error"),A})()}onExecution(){var v=this;return(0,g.Z)(function*(){Ve(1===v.filter.length,"Popup operations only handle one event");const A=Ei();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],A),v.authWindow.associatedEvent=A,v.resolver._originValidation(v.auth).catch(Y=>{v.reject(Y)}),v.resolver._isIframeWebStorageSupported(v.auth,Y=>{Y||v.reject(pe(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var A,Y;this.pollId=null!==(Y=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(v,Iu.get())};v()}}return w.currentPopupAction=null,w})();const Pl="pendingRedirect",Ia=new Map;class kc extends Ol{constructor(p,v,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,v=this;return(0,g.Z)(function*(){let A=Ia.get(v.auth._key());if(!A){try{const ce=(yield function hp(w,p){return fl.apply(this,arguments)}(v.resolver,v.auth))?yield p().call(v):null;A=()=>Promise.resolve(ce)}catch(Y){A=()=>Promise.reject(Y)}Ia.set(v.auth._key(),A)}return v.bypassAuthState||Ia.set(v.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var v=()=>super.onAuthEvent,A=this;return(0,g.Z)(function*(){if("signInViaRedirect"===p.type)return v().call(A,p);if("unknown"!==p.type){if(p.eventId){const Y=yield A.auth._redirectUserForId(p.eventId);if(Y)return A.user=Y,v().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function fl(){return(fl=(0,g.Z)(function*(w,p){const v=Lc(p),A=Nl(w);if(!(yield A._isAvailable()))return!1;const Y="true"===(yield A._get(v));return yield A._remove(v),Y})).apply(this,arguments)}function Fc(w,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,g.Z)(function*(w,p){return Nl(w)._set(Lc(p),"true")})).apply(this,arguments)}function Ea(){Ia.clear()}function pd(w,p){Ia.set(w._key(),p)}function Nl(w){return yr(w._redirectPersistence)}function Lc(w){return rr(Pl,w.config.apiKey,w.name)}function Bc(w,p,v){return function pl(w,p,v){return kl.apply(this,arguments)}(w,p,v)}function kl(){return(kl=(0,g.Z)(function*(w,p,v){const A=_r(w);ke(w,p,qi),yield A._initializationPromise;const Y=ia(A,v);return yield Fc(Y,A),Y._openRedirect(A,p,"signInViaRedirect")})).apply(this,arguments)}function wu(w,p,v){return function $c(w,p,v){return Jl.apply(this,arguments)}(w,p,v)}function Jl(){return(Jl=(0,g.Z)(function*(w,p,v){const A=(0,f.m9)(w);ke(A.auth,p,qi),yield A.auth._initializationPromise;const Y=ia(A.auth,v);yield Fc(Y,A.auth);const ce=yield xo(A);return Y._openRedirect(A.auth,p,"reauthViaRedirect",ce)})).apply(this,arguments)}function ec(w,p,v){return function Mo(w,p,v){return Vc.apply(this,arguments)}(w,p,v)}function Vc(){return(Vc=(0,g.Z)(function*(w,p,v){const A=(0,f.m9)(w);ke(A.auth,p,qi),yield A.auth._initializationPromise;const Y=ia(A.auth,v);yield Si(!1,A,p.providerId),yield Fc(Y,A.auth);const ce=yield xo(A);return Y._openRedirect(A.auth,p,"linkViaRedirect",ce)})).apply(this,arguments)}function qs(w,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,g.Z)(function*(w,p){return yield _r(w)._initializationPromise,wi(w,p,!1)})).apply(this,arguments)}function wi(w,p){return Za.apply(this,arguments)}function Za(){return(Za=(0,g.Z)(function*(w,p,v=!1){const A=_r(w),Y=ia(A,p),tt=yield new kc(A,Y,v).execute();return tt&&!v&&(delete tt.user._redirectEventId,yield A._persistUserIfCurrent(tt.user),yield A._setRedirectUser(null,p)),tt})).apply(this,arguments)}function xo(w){return ti.apply(this,arguments)}function ti(){return(ti=(0,g.Z)(function*(w){const p=Ei(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class Wi{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let v=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(v=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Fl(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gl(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=p,v=!0)),v}sendToConsumer(p,v){var A;if(p.error&&!gl(p)){const Y=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";v.onError(pe(this.auth,Y))}else v.onAuthEvent(p)}isEventForConsumer(p,v){const A=null===v.eventId||!!p.eventId&&p.eventId===v.eventId;return v.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yo(p))}saveEventToCache(p){this.cachedEventUids.add(Yo(p)),this.lastProcessedEventTime=Date.now()}}function Yo(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function gl({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Xi(w){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,g.Z)(function*(w,p={}){return Ze(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Da=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ri=/^https?/;function Ys(){return(Ys=(0,g.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Xi(w);for(const v of p)try{if(aa(v))return}catch{}He(w,"unauthorized-domain")})).apply(this,arguments)}function aa(w){const p=st(),{protocol:v,hostname:A}=new URL(p);if(w.startsWith("chrome-extension://")){const tt=new URL(w);return""===tt.hostname&&""===A?"chrome-extension:"===v&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===v&&tt.hostname===A}if(!Ri.test(v))return!1;if(Da.test(w))return A===w;const Y=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(A)}const ka=new zt(3e4,6e4);function Xa(){const w=Ui().___jsl;if(null!=w&&w.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let Ko=null;const Ts=new zt(5e3,15e3),Fa="__/auth/iframe",Hc="emulator/auth/iframe",La={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ks(w){const p=w.config;te(p.authDomain,w,"auth-domain-config-required");const v=p.emulator?ht(p,Hc):`https://${w.config.authDomain}/${Fa}`,A={apiKey:p.apiKey,appName:w.name,v:W.SDK_VERSION},Y=gd.get(w.config.apiHost);Y&&(A.eid=Y);const ce=w._getFrameworks();return ce.length&&(A.fw=ce.join(",")),`${v}?${(0,f.xO)(A).slice(1)}`}function T(){return T=(0,g.Z)(function*(w){const p=yield function jc(w){return Ko=Ko||function Qa(w){return new Promise((p,v)=>{var A,Y,ce;function tt(){Xa(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Xa(),v(pe(w,"network-request-failed"))},timeout:ka.get()})}if(null!==(Y=null===(A=Ui().gapi)||void 0===A?void 0:A.iframes)&&void 0!==Y&&Y.Iframe)p(gapi.iframes.getContext());else{if(null===(ce=Ui().gapi)||void 0===ce||!ce.load){const wt=mr("iframefcb");return Ui()[wt]=()=>{gapi.load?tt():v(pe(w,"network-request-failed"))},Tr(`https://apis.google.com/js/api.js?onload=${wt}`).catch(sn=>v(sn))}tt()}}).catch(p=>{throw Ko=null,p})}(w),Ko}(w),v=Ui().gapi;return te(v,w,"internal-error"),p.open({where:document.body,url:Ks(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:La,dontclear:!0},A=>new Promise(function(){var Y=(0,g.Z)(function*(ce,tt){yield A.restyle({setHideOnLeave:!1});const wt=pe(w,"network-request-failed"),sn=Ui().setTimeout(()=>{tt(wt)},Ts.get());function Cn(){Ui().clearTimeout(sn),ce(A)}A.ping(Cn).then(Cn,()=>{tt(wt)})});return function(ce,tt){return Y.apply(this,arguments)}}()))}),T.apply(this,arguments)}const R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tt{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fn="__/auth/handler",hr="emulator/auth/handler",gr=encodeURIComponent("fac");function as(w,p,v,A,Y,ce){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,g.Z)(function*(w,p,v,A,Y,ce){te(w.config.authDomain,w,"auth-domain-config-required"),te(w.config.apiKey,w,"invalid-api-key");const tt={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:A,v:W.SDK_VERSION,eventId:Y};if(p instanceof qi){p.setDefaultLanguage(w.languageCode),tt.providerId=p.providerId||"",(0,f.xb)(p.getCustomParameters())||(tt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Hn,Gr]of Object.entries(ce||{}))tt[Hn]=Gr}if(p instanceof no){const Hn=p.getScopes().filter(Gr=>""!==Gr);Hn.length>0&&(tt.scopes=Hn.join(","))}w.tenantId&&(tt.tid=w.tenantId);const wt=tt;for(const Hn of Object.keys(wt))void 0===wt[Hn]&&delete wt[Hn];const sn=yield w._getAppCheckToken(),Cn=sn?`#${gr}=${encodeURIComponent(sn)}`:"";return`${function Zo({config:w}){return w.emulator?ht(w,hr):`https://${w.authDomain}/${Fn}`}(w)}?${(0,f.xO)(wt).slice(1)}${Cn}`})).apply(this,arguments)}const li="webStorageSupport",Ls=class Xo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oa,this._completeRedirectFn=wi,this._overrideRedirectResult=pd}_openPopup(p,v,A,Y){var ce=this;return(0,g.Z)(function*(){var tt;Ve(null===(tt=ce.eventManagers[p._key()])||void 0===tt?void 0:tt.manager,"_initialize() not called before _openPopup()");const wt=yield as(p,v,A,st(),Y);return function pn(w,p,v,A=500,Y=600){const ce=Math.max((window.screen.availHeight-Y)/2,0).toString(),tt=Math.max((window.screen.availWidth-A)/2,0).toString();let wt="";const sn=Object.assign(Object.assign({},R),{width:A.toString(),height:Y.toString(),top:ce,left:tt}),Cn=(0,f.z$)().toLowerCase();v&&(wt=B(Cn)?"_blank":v),V(Cn)&&(p=p||"http://localhost",sn.scrollbars="yes");const Hn=Object.entries(sn).reduce((Ss,[Qo,ic])=>`${Ss}${Qo}=${ic},`,"");if(function dn(w=(0,f.z$)()){var p;return Vt(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Cn)&&"_self"!==wt)return function ln(w,p){const v=document.createElement("a");v.href=w,v.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(A)}(p||"",wt),new Tt(null);const Gr=window.open(p||"",wt,Hn);te(Gr,w,"popup-blocked");try{Gr.focus()}catch{}return new Tt(Gr)}(p,wt,Ei())})()}_openRedirect(p,v,A,Y){var ce=this;return(0,g.Z)(function*(){return yield ce._originValidation(p),function wn(w){Ui().location.href=w}(yield as(p,v,A,st(),Y)),new Promise(()=>{})})()}_initialize(p){const v=p._key();if(this.eventManagers[v]){const{manager:Y,promise:ce}=this.eventManagers[v];return Y?Promise.resolve(Y):(Ve(ce,"If manager is not set, promise should be"),ce)}const A=this.initAndGetManager(p);return this.eventManagers[v]={promise:A},A.catch(()=>{delete this.eventManagers[v]}),A}initAndGetManager(p){var v=this;return(0,g.Z)(function*(){const A=yield function bu(w){return T.apply(this,arguments)}(p),Y=new Wi(p);return A.register("authEvent",ce=>(te(null==ce?void 0:ce.authEvent,p,"invalid-auth-event"),{status:Y.onEvent(ce.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[p._key()]={manager:Y},v.iframes[p._key()]=A,Y})()}_isIframeWebStorageSupported(p,v){this.iframes[p._key()].send(li,{type:li},Y=>{var ce;const tt=null===(ce=null==Y?void 0:Y[0])||void 0===ce?void 0:ce[li];void 0!==tt&&v(!!tt),He(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const v=p._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ys(w){return Ys.apply(this,arguments)}(p)),this.originValidationPromises[v]}get _shouldInitProactively(){return xn()||G()||Vt()}};class la{constructor(p){this.factorId=p}_process(p,v,A){switch(v.type){case"enroll":return this._finalizeEnroll(p,v.credential,A);case"signin":return this._finalizeSignIn(p,v.credential);default:return dt("unexpected MultiFactorSessionType")}}}class wa extends la{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new wa(p)}_finalizeEnroll(p,v,A){return function qo(w,p){return Ze(w,"POST","/v2/accounts/mfaEnrollment:finalize",Be(w,p))}(p,{idToken:v,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,v){return function Br(w,p){return Ze(w,"POST","/v2/accounts/mfaSignIn:finalize",Be(w,p))}(p,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fp=(()=>{class w{constructor(){}static assertion(v){return wa._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var nc="@firebase/auth";class Nh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var v=this;return(0,g.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const v=this.auth.onIdTokenChanged(A=>{p((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,v),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const v=this.internalListeners.get(p);v&&(this.internalListeners.delete(p),v(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Fh=(0,f.Pz)("authIdTokenMaxAge")||300;let md=null;const vd=w=>function(){var p=(0,g.Z)(function*(v){const A=v&&(yield v.getIdTokenResult()),Y=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if(Y&&Y>Fh)return;const ce=null==A?void 0:A.token;md!==ce&&(md=ce,yield fetch(w,{method:ce?"POST":"DELETE",headers:ce?{Authorization:`Bearer ${ce}`}:{}}))});return function(v){return p.apply(this,arguments)}}();function Cu(w=(0,W.getApp)()){const p=(0,W._getProvider)(w,"auth");if(p.isInitialized())return p.getImmediate();const v=function Ni(w,p){const v=(0,W._getProvider)(w,"auth");if(v.isInitialized()){const Y=v.getImmediate(),ce=v.getOptions();if((0,f.vZ)(ce,null!=p?p:{}))return Y;He(Y,"already-initialized")}return v.initialize({options:p})}(w,{popupRedirectResolver:Ls,persistence:[jn,ra,Oa]}),A=(0,f.Pz)("authTokenSyncURL");if(A){const ce=vd(A);(function Kt(w,p,v){(0,f.m9)(w).beforeAuthStateChanged(p,v)})(v,ce,()=>ce(v.currentUser)),function bt(w,p,v,A){(0,f.m9)(w).onIdTokenChanged(p,v,A)}(v,tt=>ce(tt))}const Y=(0,f.q4)("auth");return Y&&_o(v,`http://${Y}`),v}!function kh(w){(0,W._registerComponent)(new ve.wA("auth",(p,{options:v})=>{const A=p.getProvider("app").getImmediate(),Y=p.getProvider("heartbeat"),ce=p.getProvider("app-check-internal"),{apiKey:tt,authDomain:wt}=A.options;te(tt&&!tt.includes(":"),"invalid-api-key",{appName:A.name});const sn={apiKey:tt,authDomain:wt,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qr(w)},Cn=new Kr(A,Y,ce,sn);return function mi(w,p){const v=(null==p?void 0:p.persistence)||[],A=(Array.isArray(v)?v:[v]).map(yr);null!=p&&p.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(A,null==p?void 0:p.popupRedirectResolver)}(Cn,v),Cn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,v,A)=>{p.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new ve.wA("auth-internal",p=>{const v=_r(p.getProvider("auth").getImmediate());return new Nh(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(nc,"0.23.2",function rc(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,W.registerVersion)(nc,"0.23.2","esm2017")}("Browser")},9058:(qt,Ke,k)=>{"use strict";k.d(Ke,{$s:()=>yr,BH:()=>Re,G6:()=>ht,L:()=>Ae,LL:()=>Xe,Pz:()=>pe,Sg:()=>ke,UG:()=>dt,US:()=>ve,ZB:()=>be,ZR:()=>Ze,aH:()=>He,b$:()=>lt,eu:()=>ge,hl:()=>le,jU:()=>Ve,m9:()=>rr,ne:()=>qn,pd:()=>Jt,q4:()=>oe,r3:()=>an,ru:()=>st,tV:()=>fe,uI:()=>te,vZ:()=>_n,w1:()=>Wt,xO:()=>sr,xb:()=>Nn,z$:()=>Ee,zI:()=>xe,zd:()=>vr});const J=function(Ne){const X=[];let V=0;for(let G=0;G<Ne.length;G++){let B=Ne.charCodeAt(G);B<128?X[V++]=B:B<2048?(X[V++]=B>>6|192,X[V++]=63&B|128):55296==(64512&B)&&G+1<Ne.length&&56320==(64512&Ne.charCodeAt(G+1))?(B=65536+((1023&B)<<10)+(1023&Ne.charCodeAt(++G)),X[V++]=B>>18|240,X[V++]=B>>12&63|128,X[V++]=B>>6&63|128,X[V++]=63&B|128):(X[V++]=B>>12|224,X[V++]=B>>6&63|128,X[V++]=63&B|128)}return X},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ne,X){if(!Array.isArray(Ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,G=[];for(let B=0;B<Ne.length;B+=3){const de=Ne[B],je=B+1<Ne.length,yt=je?Ne[B+1]:0,$t=B+2<Ne.length,Vt=$t?Ne[B+2]:0;let Jn=(15&yt)<<2|Vt>>6,xn=63&Vt;$t||(xn=64,je||(Jn=64)),G.push(V[de>>2],V[(3&de)<<4|yt>>4],V[Jn],V[xn])}return G.join("")},encodeString(Ne,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(Ne):this.encodeByteArray(J(Ne),X)},decodeString(Ne,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(Ne):function(Ne){const X=[];let V=0,G=0;for(;V<Ne.length;){const B=Ne[V++];if(B<128)X[G++]=String.fromCharCode(B);else if(B>191&&B<224){const de=Ne[V++];X[G++]=String.fromCharCode((31&B)<<6|63&de)}else if(B>239&&B<365){const $t=((7&B)<<18|(63&Ne[V++])<<12|(63&Ne[V++])<<6|63&Ne[V++])-65536;X[G++]=String.fromCharCode(55296+($t>>10)),X[G++]=String.fromCharCode(56320+(1023&$t))}else{const de=Ne[V++],je=Ne[V++];X[G++]=String.fromCharCode((15&B)<<12|(63&de)<<6|63&je)}}return X.join("")}(this.decodeStringToByteArray(Ne,X))},decodeStringToByteArray(Ne,X){this.init_();const V=X?this.charToByteMapWebSafe_:this.charToByteMap_,G=[];for(let B=0;B<Ne.length;){const de=V[Ne.charAt(B++)],yt=B<Ne.length?V[Ne.charAt(B)]:0;++B;const Vt=B<Ne.length?V[Ne.charAt(B)]:64;++B;const dn=B<Ne.length?V[Ne.charAt(B)]:64;if(++B,null==de||null==yt||null==Vt||null==dn)throw new he;G.push(de<<2|yt>>4),64!==Vt&&(G.push(yt<<4&240|Vt>>2),64!==dn&&G.push(Vt<<6&192|dn))}return G},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ne=0;Ne<this.ENCODED_VALS.length;Ne++)this.byteToCharMap_[Ne]=this.ENCODED_VALS.charAt(Ne),this.charToByteMap_[this.byteToCharMap_[Ne]]=Ne,this.byteToCharMapWebSafe_[Ne]=this.ENCODED_VALS_WEBSAFE.charAt(Ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ne]]=Ne,Ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ne)]=Ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ne)]=Ne)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ae=function(Ne){return function(Ne){const X=J(Ne);return ve.encodeByteArray(X,!0)}(Ne).replace(/\./g,"")},fe=function(Ne){try{return ve.decodeString(Ne,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function be(Ne,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===Ne&&(Ne={});break;case Array:Ne=[];break;default:return X}for(const V in X)!X.hasOwnProperty(V)||!Ie(V)||(Ne[V]=be(Ne[V],X[V]));return Ne}function Ie(Ne){return"__proto__"!==Ne}const we=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ne=process.env.__FIREBASE_DEFAULTS__;return Ne?JSON.parse(Ne):void 0})()||(()=>{if(typeof document>"u")return;let Ne;try{Ne=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=Ne&&fe(Ne[1]);return X&&JSON.parse(X)})()}catch(Ne){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ne}`)}},oe=Ne=>{var X,V;return null===(V=null===(X=we())||void 0===X?void 0:X.emulatorHosts)||void 0===V?void 0:V[Ne]},He=()=>{var Ne;return null===(Ne=we())||void 0===Ne?void 0:Ne.config},pe=Ne=>{var X;return null===(X=we())||void 0===X?void 0:X[`_${Ne}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,V)=>{this.resolve=X,this.reject=V})}wrapCallback(X){return(V,G)=>{V?this.reject(V):this.resolve(G),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(V):X(V,G))}}}function ke(Ne,X){if(Ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const G=X||"demo-project",B=Ne.iat||0,de=Ne.sub||Ne.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${G}`,aud:G,iat:B,exp:B+3600,auth_time:B,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},Ne);return[Ae(JSON.stringify({alg:"none",type:"JWT"})),Ae(JSON.stringify(je)),""].join(".")}function Ee(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function dt(){var Ne;const X=null===(Ne=we())||void 0===Ne?void 0:Ne.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ve(){return"object"==typeof self&&self.self===self}function st(){const Ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ne&&void 0!==Ne.id}function lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){const Ne=Ee();return Ne.indexOf("MSIE ")>=0||Ne.indexOf("Trident/")>=0}function ht(){return!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((Ne,X)=>{try{let V=!0;const G="validate-browser-context-for-indexeddb-analytics-module",B=self.indexedDB.open(G);B.onsuccess=()=>{B.result.close(),V||self.indexedDB.deleteDatabase(G),Ne(!0)},B.onupgradeneeded=()=>{V=!1},B.onerror=()=>{var de;X((null===(de=B.error)||void 0===de?void 0:de.message)||"")}}catch(V){X(V)}})}function xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ze extends Error{constructor(X,V,G){super(V),this.code=X,this.customData=G,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(X,V,G){this.service=X,this.serviceName=V,this.errors=G}create(X,...V){const G=V[0]||{},B=`${this.service}/${X}`,de=this.errors[X],je=de?function Bt(Ne,X){return Ne.replace(Ct,(V,G)=>{const B=X[G];return null!=B?String(B):`<${G}?>`})}(de,G):"Error";return new Ze(B,`${this.serviceName}: ${je} (${B}).`,G)}}const Ct=/\{\$([^}]+)}/g;function an(Ne,X){return Object.prototype.hasOwnProperty.call(Ne,X)}function Nn(Ne){for(const X in Ne)if(Object.prototype.hasOwnProperty.call(Ne,X))return!1;return!0}function _n(Ne,X){if(Ne===X)return!0;const V=Object.keys(Ne),G=Object.keys(X);for(const B of V){if(!G.includes(B))return!1;const de=Ne[B],je=X[B];if(Rn(de)&&Rn(je)){if(!_n(de,je))return!1}else if(de!==je)return!1}for(const B of G)if(!V.includes(B))return!1;return!0}function Rn(Ne){return null!==Ne&&"object"==typeof Ne}function sr(Ne){const X=[];for(const[V,G]of Object.entries(Ne))Array.isArray(G)?G.forEach(B=>{X.push(encodeURIComponent(V)+"="+encodeURIComponent(B))}):X.push(encodeURIComponent(V)+"="+encodeURIComponent(G));return X.length?"&"+X.join("&"):""}function vr(Ne){const X={};return Ne.replace(/^\?/,"").split("&").forEach(G=>{if(G){const[B,de]=G.split("=");X[decodeURIComponent(B)]=decodeURIComponent(de)}}),X}function Jt(Ne){const X=Ne.indexOf("?");if(!X)return"";const V=Ne.indexOf("#",X);return Ne.substring(X,V>0?V:void 0)}function qn(Ne,X){const V=new un(Ne,X);return V.subscribe.bind(V)}class un{constructor(X,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{X(this)}).catch(G=>{this.error(G)})}next(X){this.forEachObserver(V=>{V.next(X)})}error(X){this.forEachObserver(V=>{V.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,V,G){let B;if(void 0===X&&void 0===V&&void 0===G)throw new Error("Missing Observer.");B=function ar(Ne,X){if("object"!=typeof Ne||null===Ne)return!1;for(const V of X)if(V in Ne&&"function"==typeof Ne[V])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:V,complete:G},void 0===B.next&&(B.next=Yt),void 0===B.error&&(B.error=Yt),void 0===B.complete&&(B.complete=Yt);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?B.error(this.finalError):B.complete()}catch{}}),this.observers.push(B),de}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,X)}sendOne(X,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{V(this.observers[X])}catch(G){typeof console<"u"&&console.error&&console.error(G)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yt(){}const xr=1e3,Cr=2,Pr=144e5,Vr=.5;function yr(Ne,X=xr,V=Cr){const G=X*Math.pow(V,Ne),B=Math.round(Vr*G*(Math.random()-.5)*2);return Math.min(Pr,G+B)}function rr(Ne){return Ne&&Ne._delegate?Ne._delegate:Ne}},6506:(qt,Ke,k)=>{"use strict";k.d(Ke,{c:()=>rt});var g=k(7643),f=k(544);let W;const Ce=Te=>Te.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ve=Te=>(void 0===W&&(W=void 0===Te.style.animationName&&void 0!==Te.style.webkitAnimationName?"-webkit-":""),W),he=(Te,we,oe)=>{const ot=we.startsWith("animation")?ve(Te):"";Te.style.setProperty(ot+we,oe)},Ue=(Te,we)=>{const oe=we.startsWith("animation")?ve(Te):"";Te.style.removeProperty(oe+we)},Q=[],Le=(Te=[],we)=>{if(void 0!==we){const oe=Array.isArray(we)?we:[we];return[...Te,...oe]}return Te},rt=Te=>{let we,oe,ot,He,pe,Re,Ve,le,ge,xe,Be,Ct,at,ke=[],Ee=[],te=[],dt=!1,st={},lt=[],ft=[],Wt={},In=0,zt=!1,ht=!1,Ze=!0,Xe=!1,Bt=!0,gt=!1;const Pe=Te,Et=[],_t=[],Ut=[],cn=[],an=[],mn=[],Nn=[],bn=[],_n=[],Rn=[],br="function"==typeof AnimationEffect||void 0!==g.w&&"function"==typeof g.w.AnimationEffect,sr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&br,Jt=()=>Rn,ar=(ie,Se)=>((null!=Se&&Se.oneTimeCallback?_t:Et).push({c:ie,o:Se}),at),Lr=()=>{if(sr)Rn.forEach(ie=>{ie.cancel()}),Rn.length=0;else{const ie=Ut.slice();(0,f.r)(()=>{ie.forEach(Se=>{Ue(Se,"animation-name"),Ue(Se,"animation-duration"),Ue(Se,"animation-timing-function"),Ue(Se,"animation-iteration-count"),Ue(Se,"animation-delay"),Ue(Se,"animation-play-state"),Ue(Se,"animation-fill-mode"),Ue(Se,"animation-direction")})})}},xt=()=>{an.forEach(ie=>{null!=ie&&ie.parentNode&&ie.parentNode.removeChild(ie)}),an.length=0},fr=()=>void 0!==pe?pe:Ve?Ve.getFill():"both",rr=()=>void 0!==ge?ge:void 0!==Re?Re:Ve?Ve.getDirection():"normal",Ne=()=>zt?"linear":void 0!==ot?ot:Ve?Ve.getEasing():"linear",X=()=>ht?0:void 0!==xe?xe:void 0!==oe?oe:Ve?Ve.getDuration():0,V=()=>void 0!==He?He:Ve?Ve.getIterations():1,G=()=>void 0!==Be?Be:void 0!==we?we:Ve?Ve.getDelay():0,Lt=()=>{0!==In&&(In--,0===In&&((()=>{Hi(),bn.forEach(vt=>vt()),_n.forEach(vt=>vt());const ie=Ze?1:0,Se=lt,Ye=ft,Qe=Wt;Ut.forEach(vt=>{const Mt=vt.classList;Se.forEach(Ft=>Mt.add(Ft)),Ye.forEach(Ft=>Mt.remove(Ft));for(const Ft in Qe)Qe.hasOwnProperty(Ft)&&he(vt,Ft,Qe[Ft])}),Et.forEach(vt=>vt.c(ie,at)),_t.forEach(vt=>vt.c(ie,at)),_t.length=0,Bt=!0,Ze&&(Xe=!0),Ze=!0})(),Ve&&Ve.animationFinish()))},hn=(ie=!0)=>{xt();const Se=(Te=>(Te.forEach(we=>{for(const oe in we)if(we.hasOwnProperty(oe)){const ot=we[oe];if("easing"===oe)we["animation-timing-function"]=ot,delete we[oe];else{const He=Ce(oe);He!==oe&&(we[He]=ot,delete we[oe])}}}),Te))(ke);Ut.forEach(Ye=>{if(Se.length>0){const Qe=((Te=[])=>Te.map(we=>{const oe=we.offset,ot=[];for(const He in we)we.hasOwnProperty(He)&&"offset"!==He&&ot.push(`${He}: ${we[He]};`);return`${100*oe}% { ${ot.join(" ")} }`}).join(" "))(Se);Ct=void 0!==Te?Te:(Te=>{let we=Q.indexOf(Te);return we<0&&(we=Q.push(Te)-1),`ion-animation-${we}`})(Qe);const vt=((Te,we,oe)=>{var ot;const He=(Te=>{const we=void 0!==Te.getRootNode?Te.getRootNode():Te;return we.head||we})(oe),pe=ve(oe),Re=He.querySelector("#"+Te);if(Re)return Re;const ke=(null!==(ot=oe.ownerDocument)&&void 0!==ot?ot:document).createElement("style");return ke.id=Te,ke.textContent=`@${pe}keyframes ${Te} { ${we} } @${pe}keyframes ${Te}-alt { ${we} }`,He.appendChild(ke),ke})(Ct,Qe,Ye);an.push(vt),he(Ye,"animation-duration",`${X()}ms`),he(Ye,"animation-timing-function",Ne()),he(Ye,"animation-delay",`${G()}ms`),he(Ye,"animation-fill-mode",fr()),he(Ye,"animation-direction",rr());const Mt=V()===1/0?"infinite":V().toString();he(Ye,"animation-iteration-count",Mt),he(Ye,"animation-play-state","paused"),ie&&he(Ye,"animation-name",`${vt.id}-alt`),(0,f.r)(()=>{he(Ye,"animation-name",vt.id||null)})}})},en=(ie=!0)=>{(()=>{mn.forEach(Qe=>Qe()),Nn.forEach(Qe=>Qe());const ie=Ee,Se=te,Ye=st;Ut.forEach(Qe=>{const vt=Qe.classList;ie.forEach(Mt=>vt.add(Mt)),Se.forEach(Mt=>vt.remove(Mt));for(const Mt in Ye)Ye.hasOwnProperty(Mt)&&he(Qe,Mt,Ye[Mt])})})(),ke.length>0&&(sr?(Ut.forEach(ie=>{const Se=ie.animate(ke,{id:Pe,delay:G(),duration:X(),easing:Ne(),iterations:V(),fill:fr(),direction:rr()});Se.pause(),Rn.push(Se)}),Rn.length>0&&(Rn[0].onfinish=()=>{Lt()})):hn(ie)),dt=!0},Xn=ie=>{if(ie=Math.min(Math.max(ie,0),.9999),sr)Rn.forEach(Se=>{Se.currentTime=Se.effect.getComputedTiming().delay+X()*ie,Se.pause()});else{const Se=`-${X()*ie}ms`;Ut.forEach(Ye=>{ke.length>0&&(he(Ye,"animation-delay",Se),he(Ye,"animation-play-state","paused"))})}},Nr=ie=>{Rn.forEach(Se=>{Se.effect.updateTiming({delay:G(),duration:X(),easing:Ne(),iterations:V(),fill:fr(),direction:rr()})}),void 0!==ie&&Xn(ie)},Tr=(ie=!0,Se)=>{(0,f.r)(()=>{Ut.forEach(Ye=>{he(Ye,"animation-name",Ct||null),he(Ye,"animation-duration",`${X()}ms`),he(Ye,"animation-timing-function",Ne()),he(Ye,"animation-delay",void 0!==Se?`-${Se*X()}ms`:`${G()}ms`),he(Ye,"animation-fill-mode",fr()||null),he(Ye,"animation-direction",rr()||null);const Qe=V()===1/0?"infinite":V().toString();he(Ye,"animation-iteration-count",Qe),ie&&he(Ye,"animation-name",`${Ct}-alt`),(0,f.r)(()=>{he(Ye,"animation-name",Ct||null)})})})},mr=(ie=!1,Se=!0,Ye)=>(ie&&cn.forEach(Qe=>{Qe.update(ie,Se,Ye)}),sr?Nr(Ye):Tr(Se,Ye),at),lo=()=>{dt&&(sr?Rn.forEach(ie=>{ie.pause()}):Ut.forEach(ie=>{he(ie,"animation-play-state","paused")}),gt=!0)},Bi=()=>{le=void 0,Lt()},Hi=()=>{le&&clearTimeout(le)},mi=ie=>new Promise(Se=>{null!=ie&&ie.sync&&(ht=!0,ar(()=>ht=!1,{oneTimeCallback:!0})),dt||en(),Xe&&(sr?(Xn(0),Nr()):Tr(),Xe=!1),Bt&&(In=cn.length+1,Bt=!1),ar(()=>Se(),{oneTimeCallback:!0}),cn.forEach(Ye=>{Ye.play()}),sr?(Rn.forEach(ie=>{ie.play()}),(0===ke.length||0===Ut.length)&&Lt()):(()=>{if(Hi(),(0,f.r)(()=>{Ut.forEach(ie=>{ke.length>0&&he(ie,"animation-play-state","running")})}),0===ke.length||0===Ut.length)Lt();else{const ie=G()||0,Se=X()||0,Ye=V()||1;isFinite(Ye)&&(le=setTimeout(Bi,ie+Se*Ye+100)),((Te,we)=>{let oe;const ot={passive:!0},pe=Re=>{Te===Re.target&&(oe&&oe(),Hi(),(0,f.r)(()=>{Ut.forEach(ie=>{Ue(ie,"animation-duration"),Ue(ie,"animation-delay"),Ue(ie,"animation-play-state")}),(0,f.r)(Lt)}))};Te&&(Te.addEventListener("webkitAnimationEnd",pe,ot),Te.addEventListener("animationend",pe,ot),oe=()=>{Te.removeEventListener("webkitAnimationEnd",pe,ot),Te.removeEventListener("animationend",pe,ot)})})(Ut[0])}})(),gt=!1}),to=(ie,Se)=>{const Ye=ke[0];return void 0===Ye||void 0!==Ye.offset&&0!==Ye.offset?ke=[{offset:0,[ie]:Se},...ke]:Ye[ie]=Se,at};return at={parentAnimation:Ve,elements:Ut,childAnimations:cn,id:Pe,animationFinish:Lt,from:to,to:(ie,Se)=>{const Ye=ke[ke.length-1];return void 0===Ye||void 0!==Ye.offset&&1!==Ye.offset?ke=[...ke,{offset:1,[ie]:Se}]:Ye[ie]=Se,at},fromTo:(ie,Se,Ye)=>to(ie,Se).to(ie,Ye),parent:ie=>(Ve=ie,at),play:mi,pause:()=>(cn.forEach(ie=>{ie.pause()}),lo(),at),stop:()=>{cn.forEach(ie=>{ie.stop()}),dt&&(Lr(),dt=!1),zt=!1,ht=!1,Bt=!0,ge=void 0,xe=void 0,Be=void 0,In=0,Xe=!1,Ze=!0,gt=!1},destroy:ie=>(cn.forEach(Se=>{Se.destroy(ie)}),(ie=>{Lr(),ie&&xt()})(ie),Ut.length=0,cn.length=0,ke.length=0,Et.length=0,_t.length=0,dt=!1,Bt=!0,at),keyframes:ie=>{const Se=ke!==ie;return ke=ie,Se&&(ie=>{sr?Jt().forEach(Se=>{if(Se.effect.setKeyframes)Se.effect.setKeyframes(ie);else{const Ye=new KeyframeEffect(Se.effect.target,ie,Se.effect.getTiming());Se.effect=Ye}}):hn()})(ke),at},addAnimation:ie=>{if(null!=ie)if(Array.isArray(ie))for(const Se of ie)Se.parent(at),cn.push(Se);else ie.parent(at),cn.push(ie);return at},addElement:ie=>{if(null!=ie)if(1===ie.nodeType)Ut.push(ie);else if(ie.length>=0)for(let Se=0;Se<ie.length;Se++)Ut.push(ie[Se]);else console.error("Invalid addElement value");return at},update:mr,fill:ie=>(pe=ie,mr(!0),at),direction:ie=>(Re=ie,mr(!0),at),iterations:ie=>(He=ie,mr(!0),at),duration:ie=>(!sr&&0===ie&&(ie=1),oe=ie,mr(!0),at),easing:ie=>(ot=ie,mr(!0),at),delay:ie=>(we=ie,mr(!0),at),getWebAnimations:Jt,getKeyframes:()=>ke,getFill:fr,getDirection:rr,getDelay:G,getIterations:V,getEasing:Ne,getDuration:X,afterAddRead:ie=>(bn.push(ie),at),afterAddWrite:ie=>(_n.push(ie),at),afterClearStyles:(ie=[])=>{for(const Se of ie)Wt[Se]="";return at},afterStyles:(ie={})=>(Wt=ie,at),afterRemoveClass:ie=>(ft=Le(ft,ie),at),afterAddClass:ie=>(lt=Le(lt,ie),at),beforeAddRead:ie=>(mn.push(ie),at),beforeAddWrite:ie=>(Nn.push(ie),at),beforeClearStyles:(ie=[])=>{for(const Se of ie)st[Se]="";return at},beforeStyles:(ie={})=>(st=ie,at),beforeRemoveClass:ie=>(te=Le(te,ie),at),beforeAddClass:ie=>(Ee=Le(Ee,ie),at),onFinish:ar,isRunning:()=>0!==In&&!gt,progressStart:(ie=!1,Se)=>(cn.forEach(Ye=>{Ye.progressStart(ie,Se)}),lo(),zt=ie,dt||en(),mr(!1,!0,Se),at),progressStep:ie=>(cn.forEach(Se=>{Se.progressStep(ie)}),Xn(ie),at),progressEnd:(ie,Se,Ye)=>(zt=!1,cn.forEach(Qe=>{Qe.progressEnd(ie,Se,Ye)}),void 0!==Ye&&(xe=Ye),Xe=!1,Ze=!0,0===ie?(ge="reverse"===rr()?"normal":"reverse","reverse"===ge&&(Ze=!1),sr?(mr(),Xn(1-Se)):(Be=(1-Se)*X()*-1,mr(!1,!1))):1===ie&&(sr?(mr(),Xn(Se)):(Be=Se*X()*-1,mr(!1,!1))),void 0!==ie&&(ar(()=>{xe=void 0,ge=void 0,Be=void 0},{oneTimeCallback:!0}),Ve||mi()),at)}}},1273:(qt,Ke,k)=>{"use strict";k.d(Ke,{E:()=>fe,a:()=>g,s:()=>Ue});const g=Q=>{try{if(Q instanceof he)return Q.value;if(!J()||"string"!=typeof Q||""===Q)return Q;if(Q.includes("onload="))return"";const be=document.createDocumentFragment(),Ie=document.createElement("div");be.appendChild(Ie),Ie.innerHTML=Q,ve.forEach(Te=>{const we=be.querySelectorAll(Te);for(let oe=we.length-1;oe>=0;oe--){const ot=we[oe];ot.parentNode?ot.parentNode.removeChild(ot):be.removeChild(ot);const He=W(ot);for(let pe=0;pe<He.length;pe++)f(He[pe])}});const Me=W(be);for(let Te=0;Te<Me.length;Te++)f(Me[Te]);const Le=document.createElement("div");Le.appendChild(be);const rt=Le.querySelector("div");return null!==rt?rt.innerHTML:Le.innerHTML}catch(be){return console.error(be),""}},f=Q=>{if(Q.nodeType&&1!==Q.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Q.attributes instanceof NamedNodeMap))return void Q.remove();for(let Ie=Q.attributes.length-1;Ie>=0;Ie--){const Me=Q.attributes.item(Ie),Le=Me.name;if(!Ce.includes(Le.toLowerCase())){Q.removeAttribute(Le);continue}const rt=Me.value,Te=Q[Le];(null!=rt&&rt.toLowerCase().includes("javascript:")||null!=Te&&Te.toLowerCase().includes("javascript:"))&&Q.removeAttribute(Le)}const be=W(Q);for(let Ie=0;Ie<be.length;Ie++)f(be[Ie])},W=Q=>null!=Q.children?Q.children:Q.childNodes,J=()=>{var Q;const be=window,Ie=null===(Q=null==be?void 0:be.Ionic)||void 0===Q?void 0:Q.config;return!Ie||(Ie.get?Ie.get("sanitizerEnabled",!0):!0===Ie.sanitizerEnabled||void 0===Ie.sanitizerEnabled)},Ce=["class","id","href","src","name","slot"],ve=["script","style","iframe","meta","link","object","embed"];class he{constructor(be){this.value=be}}const Ue=Q=>{const be=window,Ie=be.Ionic;if(!Ie||!Ie.config||"Object"===Ie.config.constructor.name)return be.Ionic=be.Ionic||{},be.Ionic.config=Object.assign(Object.assign({},be.Ionic.config),Q),be.Ionic.config},fe=!1},9439:(qt,Ke,k)=>{"use strict";k.d(Ke,{C:()=>Ce,a:()=>W,d:()=>J});var g=k(5861),f=k(544);const W=function(){var ve=(0,g.Z)(function*(he,Ue,Ae,fe,Q,be){var Ie;if(he)return he.attachViewToDom(Ue,Ae,Q,fe);if(!(be||"string"==typeof Ae||Ae instanceof HTMLElement))throw new Error("framework delegate is missing");const Me="string"==typeof Ae?null===(Ie=Ue.ownerDocument)||void 0===Ie?void 0:Ie.createElement(Ae):Ae;return fe&&fe.forEach(Le=>Me.classList.add(Le)),Q&&Object.assign(Me,Q),Ue.appendChild(Me),yield new Promise(Le=>(0,f.c)(Me,Le)),Me});return function(Ue,Ae,fe,Q,be,Ie){return ve.apply(this,arguments)}}(),J=(ve,he)=>{if(he){if(ve)return ve.removeViewFromDom(he.parentElement,he);he.remove()}return Promise.resolve()},Ce=()=>{let ve,he;return{attachViewToDom:function(){var fe=(0,g.Z)(function*(Q,be,Ie={},Me=[]){var Le,rt;if(ve=Q,be){const we="string"==typeof be?null===(Le=ve.ownerDocument)||void 0===Le?void 0:Le.createElement(be):be;Me.forEach(oe=>we.classList.add(oe)),Object.assign(we,Ie),ve.appendChild(we),yield new Promise(oe=>(0,f.c)(we,oe))}else if(ve.children.length>0&&("ION-MODAL"===ve.tagName||"ION-POPOVER"===ve.tagName)&&!ve.children[0].classList.contains("ion-delegate-host")){const oe=null===(rt=ve.ownerDocument)||void 0===rt?void 0:rt.createElement("div");oe.classList.add("ion-delegate-host"),Me.forEach(ot=>oe.classList.add(ot)),oe.append(...ve.children),ve.appendChild(oe)}const Te=document.querySelector("ion-app")||document.body;return he=document.createComment("ionic teleport"),ve.parentNode.insertBefore(he,ve),Te.appendChild(ve),ve});return function(be,Ie){return fe.apply(this,arguments)}}(),removeViewFromDom:()=>(ve&&he&&(he.parentNode.insertBefore(ve,he),he.remove()),Promise.resolve())}}},4587:(qt,Ke,k)=>{"use strict";k.d(Ke,{G:()=>Ce});class f{constructor(he,Ue,Ae,fe,Q){this.id=Ue,this.name=Ae,this.disableScroll=Q,this.priority=1e6*fe+Ue,this.ctrl=he}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const he=this.ctrl.capture(this.name,this.id,this.priority);return he&&this.disableScroll&&this.ctrl.disableScroll(this.id),he}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class W{constructor(he,Ue,Ae,fe){this.id=Ue,this.disable=Ae,this.disableScroll=fe,this.ctrl=he}block(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.disableGesture(he,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const he of this.disable)this.ctrl.enableGesture(he,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const J="backdrop-no-scroll",Ce=new class g{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(he){var Ue;return new f(this,this.newID(),he.name,null!==(Ue=he.priority)&&void 0!==Ue?Ue:0,!!he.disableScroll)}createBlocker(he={}){return new W(this,this.newID(),he.disable,!!he.disableScroll)}start(he,Ue,Ae){return this.canStart(he)?(this.requestedStart.set(Ue,Ae),!0):(this.requestedStart.delete(Ue),!1)}capture(he,Ue,Ae){if(!this.start(he,Ue,Ae))return!1;const fe=this.requestedStart;let Q=-1e4;if(fe.forEach(be=>{Q=Math.max(Q,be)}),Q===Ae){this.capturedId=Ue,fe.clear();const be=new CustomEvent("ionGestureCaptured",{detail:{gestureName:he}});return document.dispatchEvent(be),!0}return fe.delete(Ue),!1}release(he){this.requestedStart.delete(he),this.capturedId===he&&(this.capturedId=void 0)}disableGesture(he,Ue){let Ae=this.disabledGestures.get(he);void 0===Ae&&(Ae=new Set,this.disabledGestures.set(he,Ae)),Ae.add(Ue)}enableGesture(he,Ue){const Ae=this.disabledGestures.get(he);void 0!==Ae&&Ae.delete(Ue)}disableScroll(he){this.disabledScroll.add(he),1===this.disabledScroll.size&&document.body.classList.add(J)}enableScroll(he){this.disabledScroll.delete(he),0===this.disabledScroll.size&&document.body.classList.remove(J)}canStart(he){return!(void 0!==this.capturedId||this.isDisabled(he))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(he){const Ue=this.disabledGestures.get(he);return!!(Ue&&Ue.size>0)}newID(){return this.gestureId++,this.gestureId}}},5421:(qt,Ke,k)=>{"use strict";k.r(Ke),k.d(Ke,{MENU_BACK_BUTTON_PRIORITY:()=>Ce,OVERLAY_BACK_BUTTON_PRIORITY:()=>J,blockHardwareBackButton:()=>f,startHardwareBackButton:()=>W});var g=k(5861);const f=()=>{document.addEventListener("backbutton",()=>{})},W=()=>{const ve=document;let he=!1;ve.addEventListener("backbutton",()=>{if(he)return;let Ue=0,Ae=[];const fe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ie,Me){Ae.push({priority:Ie,handler:Me,id:Ue++})}}});ve.dispatchEvent(fe);const Q=function(){var Ie=(0,g.Z)(function*(Me){try{if(null!=Me&&Me.handler){const Le=Me.handler(be);null!=Le&&(yield Le)}}catch(Le){console.error(Le)}});return function(Le){return Ie.apply(this,arguments)}}(),be=()=>{if(Ae.length>0){let Ie={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ae.forEach(Me=>{Me.priority>=Ie.priority&&(Ie=Me)}),he=!0,Ae=Ae.filter(Me=>Me.id!==Ie.id),Q(Ie).then(()=>he=!1)}};be()})},J=100,Ce=99},544:(qt,Ke,k)=>{"use strict";k.d(Ke,{a:()=>Ue,b:()=>Ae,c:()=>W,d:()=>rt,e:()=>Le,f:()=>Me,g:()=>fe,h:()=>Ie,i:()=>he,j:()=>pe,k:()=>Ce,l:()=>Te,m:()=>J,n:()=>be,o:()=>we,p:()=>He,q:()=>Re,r:()=>Q,s:()=>ke,t:()=>g,u:()=>oe,v:()=>ot});const g=(Ee,te=0)=>new Promise(dt=>{f(Ee,te,dt)}),f=(Ee,te=0,dt)=>{let Ve,st;const lt={passive:!0},Wt=()=>{Ve&&Ve()},In=zt=>{(void 0===zt||Ee===zt.target)&&(Wt(),dt(zt))};return Ee&&(Ee.addEventListener("webkitTransitionEnd",In,lt),Ee.addEventListener("transitionend",In,lt),st=setTimeout(In,te+500),Ve=()=>{st&&(clearTimeout(st),st=void 0),Ee.removeEventListener("webkitTransitionEnd",In,lt),Ee.removeEventListener("transitionend",In,lt)}),Wt},W=(Ee,te)=>{Ee.componentOnReady?Ee.componentOnReady().then(dt=>te(dt)):Q(()=>te(Ee))},J=Ee=>void 0!==Ee.componentOnReady,Ce=(Ee,te=[])=>{const dt={};return te.forEach(Ve=>{Ee.hasAttribute(Ve)&&(null!==Ee.getAttribute(Ve)&&(dt[Ve]=Ee.getAttribute(Ve)),Ee.removeAttribute(Ve))}),dt},ve=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],he=(Ee,te)=>{let dt=ve;return te&&te.length>0&&(dt=dt.filter(Ve=>!te.includes(Ve))),Ce(Ee,dt)},Ue=(Ee,te,dt,Ve)=>{var st;if(typeof window<"u"){const lt=window,ft=null===(st=null==lt?void 0:lt.Ionic)||void 0===st?void 0:st.config;if(ft){const Wt=ft.get("_ael");if(Wt)return Wt(Ee,te,dt,Ve);if(ft._ael)return ft._ael(Ee,te,dt,Ve)}}return Ee.addEventListener(te,dt,Ve)},Ae=(Ee,te,dt,Ve)=>{var st;if(typeof window<"u"){const lt=window,ft=null===(st=null==lt?void 0:lt.Ionic)||void 0===st?void 0:st.config;if(ft){const Wt=ft.get("_rel");if(Wt)return Wt(Ee,te,dt,Ve);if(ft._rel)return ft._rel(Ee,te,dt,Ve)}}return Ee.removeEventListener(te,dt,Ve)},fe=(Ee,te=Ee)=>Ee.shadowRoot||te,Q=Ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ee):setTimeout(Ee),be=Ee=>!!Ee.shadowRoot&&!!Ee.attachShadow,Ie=Ee=>{const te=Ee.closest("ion-item");return te?te.querySelector("ion-label"):null},Me=Ee=>{if(Ee.focus(),Ee.classList.contains("ion-focusable")){const te=Ee.closest("ion-app");te&&te.setFocus([Ee])}},Le=(Ee,te)=>{let dt;const Ve=Ee.getAttribute("aria-labelledby"),st=Ee.id;let lt=null!==Ve&&""!==Ve.trim()?Ve:te+"-lbl",ft=null!==Ve&&""!==Ve.trim()?document.getElementById(Ve):Ie(Ee);return ft?(null===Ve&&(ft.id=lt),dt=ft.textContent,ft.setAttribute("aria-hidden","true")):""!==st.trim()&&(ft=document.querySelector(`label[for="${st}"]`),ft&&(""!==ft.id?lt=ft.id:ft.id=lt=`${st}-lbl`,dt=ft.textContent)),{label:ft,labelId:lt,labelText:dt}},rt=(Ee,te,dt,Ve,st)=>{if(Ee||be(te)){let lt=te.querySelector("input.aux-input");lt||(lt=te.ownerDocument.createElement("input"),lt.type="hidden",lt.classList.add("aux-input"),te.appendChild(lt)),lt.disabled=st,lt.name=dt,lt.value=Ve||""}},Te=(Ee,te,dt)=>Math.max(Ee,Math.min(te,dt)),we=(Ee,te)=>{if(!Ee){const dt="ASSERT: "+te;throw console.error(dt),new Error(dt)}},oe=Ee=>Ee.timeStamp||Date.now(),ot=Ee=>{if(Ee){const te=Ee.changedTouches;if(te&&te.length>0){const dt=te[0];return{x:dt.clientX,y:dt.clientY}}if(void 0!==Ee.pageX)return{x:Ee.pageX,y:Ee.pageY}}return{x:0,y:0}},He=Ee=>{const te="rtl"===document.dir;switch(Ee){case"start":return te;case"end":return!te;default:throw new Error(`"${Ee}" is not a valid value for [side]. Use "start" or "end" instead.`)}},pe=(Ee,te)=>{const dt=Ee._original||Ee;return{_original:Ee,emit:Re(dt.emit.bind(dt),te)}},Re=(Ee,te=0)=>{let dt;return(...Ve)=>{clearTimeout(dt),dt=setTimeout(Ee,te,...Ve)}},ke=(Ee,te)=>{if(null!=Ee||(Ee={}),null!=te||(te={}),Ee===te)return!0;const dt=Object.keys(Ee);if(dt.length!==Object.keys(te).length)return!1;for(const Ve of dt)if(!(Ve in te)||Ee[Ve]!==te[Ve])return!1;return!0}},6953:(qt,Ke,k)=>{"use strict";k.d(Ke,{B:()=>Q,H:()=>Wt,a:()=>yo,b:()=>Vt,c:()=>Xe,d:()=>gt,e:()=>_o,f:()=>at,g:()=>Bt,h:()=>lt,i:()=>Wr,j:()=>be,p:()=>si,r:()=>it,w:()=>to});var g=k(5861);let W,J,Ce,ve=!1,he=!1,Ue=!1,Ae=!1,fe=!1;const Q={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},be=Z=>{const me=new URL(Z,Qn.$resourcesUrl$);return me.origin!==mr.location.origin?me.href:me.pathname},oe="s-id",ot="sty-id",Re="http://www.w3.org/1999/xlink",ke={},Ve=Z=>"object"==(Z=typeof Z)||"function"===Z;function st(Z){var me,ie,Se;return null!==(Se=null===(ie=null===(me=Z.head)||void 0===me?void 0:me.querySelector('meta[name="csp-nonce"]'))||void 0===ie?void 0:ie.getAttribute("content"))&&void 0!==Se?Se:void 0}const lt=(Z,me,...ie)=>{let Se=null,Ye=null,Qe=null,vt=!1,Mt=!1;const Ft=[],Rt=Dn=>{for(let Kn=0;Kn<Dn.length;Kn++)Se=Dn[Kn],Array.isArray(Se)?Rt(Se):null!=Se&&"boolean"!=typeof Se&&((vt="function"!=typeof Z&&!Ve(Se))&&(Se=String(Se)),vt&&Mt?Ft[Ft.length-1].$text$+=Se:Ft.push(vt?ft(null,Se):Se),Mt=vt)};if(Rt(ie),me){me.key&&(Ye=me.key),me.name&&(Qe=me.name);{const Dn=me.className||me.class;Dn&&(me.class="object"!=typeof Dn?Dn:Object.keys(Dn).filter(Kn=>Dn[Kn]).join(" "))}}if("function"==typeof Z)return Z(null===me?{}:me,Ft,zt);const yn=ft(Z,null);return yn.$attrs$=me,Ft.length>0&&(yn.$children$=Ft),yn.$key$=Ye,yn.$name$=Qe,yn},ft=(Z,me)=>({$flags$:0,$tag$:Z,$text$:me,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Wt={},zt={forEach:(Z,me)=>Z.map(ht).forEach(me),map:(Z,me)=>Z.map(ht).map(me).map(le)},ht=Z=>({vattrs:Z.$attrs$,vchildren:Z.$children$,vkey:Z.$key$,vname:Z.$name$,vtag:Z.$tag$,vtext:Z.$text$}),le=Z=>{if("function"==typeof Z.vtag){const ie=Object.assign({},Z.vattrs);return Z.vkey&&(ie.key=Z.vkey),Z.vname&&(ie.name=Z.vname),lt(Z.vtag,ie,...Z.vchildren||[])}const me=ft(Z.vtag,Z.vtext);return me.$attrs$=Z.vattrs,me.$children$=Z.vchildren,me.$key$=Z.vkey,me.$name$=Z.vname,me},xe=(Z,me,ie,Se,Ye,Qe,vt)=>{let Mt,Ft,Rt,yn;if(1===Qe.nodeType){for(Mt=Qe.getAttribute("c-id"),Mt&&(Ft=Mt.split("."),(Ft[0]===vt||"0"===Ft[0])&&(Rt={$flags$:0,$hostId$:Ft[0],$nodeId$:Ft[1],$depth$:Ft[2],$index$:Ft[3],$tag$:Qe.tagName.toLowerCase(),$elm$:Qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},me.push(Rt),Qe.removeAttribute("c-id"),Z.$children$||(Z.$children$=[]),Z.$children$[Rt.$index$]=Rt,Z=Rt,Se&&"0"===Rt.$depth$&&(Se[Rt.$index$]=Rt.$elm$))),yn=Qe.childNodes.length-1;yn>=0;yn--)xe(Z,me,ie,Se,Ye,Qe.childNodes[yn],vt);if(Qe.shadowRoot)for(yn=Qe.shadowRoot.childNodes.length-1;yn>=0;yn--)xe(Z,me,ie,Se,Ye,Qe.shadowRoot.childNodes[yn],vt)}else if(8===Qe.nodeType)Ft=Qe.nodeValue.split("."),(Ft[1]===vt||"0"===Ft[1])&&(Mt=Ft[0],Rt={$flags$:0,$hostId$:Ft[1],$nodeId$:Ft[2],$depth$:Ft[3],$index$:Ft[4],$elm$:Qe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Mt?(Rt.$elm$=Qe.nextSibling,Rt.$elm$&&3===Rt.$elm$.nodeType&&(Rt.$text$=Rt.$elm$.textContent,me.push(Rt),Qe.remove(),Z.$children$||(Z.$children$=[]),Z.$children$[Rt.$index$]=Rt,Se&&"0"===Rt.$depth$&&(Se[Rt.$index$]=Rt.$elm$))):Rt.$hostId$===vt&&("s"===Mt?(Rt.$tag$="slot",Qe["s-sn"]=Ft[5]?Rt.$name$=Ft[5]:"",Qe["s-sr"]=!0,Se&&(Rt.$elm$=er.createElement(Rt.$tag$),Rt.$name$&&Rt.$elm$.setAttribute("name",Rt.$name$),Qe.parentNode.insertBefore(Rt.$elm$,Qe),Qe.remove(),"0"===Rt.$depth$&&(Se[Rt.$index$]=Rt.$elm$)),ie.push(Rt),Z.$children$||(Z.$children$=[]),Z.$children$[Rt.$index$]=Rt):"r"===Mt&&(Se?Qe.remove():(Ye["s-cr"]=Qe,Qe["s-cn"]=!0))));else if(Z&&"style"===Z.$tag$){const Dn=ft(null,Qe.textContent);Dn.$elm$=Qe,Dn.$index$="0",Z.$children$=[Dn]}},Be=(Z,me)=>{if(1===Z.nodeType){let ie=0;for(;ie<Z.childNodes.length;ie++)Be(Z.childNodes[ie],me);if(Z.shadowRoot)for(ie=0;ie<Z.shadowRoot.childNodes.length;ie++)Be(Z.shadowRoot.childNodes[ie],me)}else if(8===Z.nodeType){const ie=Z.nodeValue.split(".");"o"===ie[0]&&(me.set(ie[1]+"."+ie[2],Z),Z.nodeValue="",Z["s-en"]=ie[3])}},Xe=Z=>Tr.push(Z),Bt=Z=>pt(Z).$modeName$,at=Z=>pt(Z).$hostElement$,gt=(Z,me,ie)=>{const Se=at(Z);return{emit:Ye=>Pe(Se,me,{bubbles:!!(4&ie),composed:!!(2&ie),cancelable:!!(1&ie),detail:Ye})}},Pe=(Z,me,ie)=>{const Se=Qn.ce(me,ie);return Z.dispatchEvent(Se),Se},Et=new WeakMap,_t=(Z,me,ie)=>{let Se=Nr.get(Z);Bi&&ie?(Se=Se||new CSSStyleSheet,"string"==typeof Se?Se=me:Se.replaceSync(me)):Se=me,Nr.set(Z,Se)},Ut=(Z,me,ie,Se)=>{var Ye;let Qe=an(me,ie);const vt=Nr.get(Qe);if(Z=11===Z.nodeType?Z:er,vt)if("string"==typeof vt){let Ft,Mt=Et.get(Z=Z.head||Z);if(Mt||Et.set(Z,Mt=new Set),!Mt.has(Qe)){if(Z.host&&(Ft=Z.querySelector(`[${ot}="${Qe}"]`)))Ft.innerHTML=vt;else{Ft=er.createElement("style"),Ft.innerHTML=vt;const Rt=null!==(Ye=Qn.$nonce$)&&void 0!==Ye?Ye:st(er);null!=Rt&&Ft.setAttribute("nonce",Rt),Z.insertBefore(Ft,Z.querySelector("link"))}Mt&&Mt.add(Qe)}}else Z.adoptedStyleSheets.includes(vt)||(Z.adoptedStyleSheets=[...Z.adoptedStyleSheets,vt]);return Qe},an=(Z,me)=>"sc-"+(me&&32&Z.$flags$?Z.$tagName$+"-"+me:Z.$tagName$),mn=Z=>Z.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Nn=(Z,me,ie,Se,Ye,Qe)=>{if(ie!==Se){let vt=hn(Z,me),Mt=me.toLowerCase();if("class"===me){const Ft=Z.classList,Rt=_n(ie),yn=_n(Se);Ft.remove(...Rt.filter(Dn=>Dn&&!yn.includes(Dn))),Ft.add(...yn.filter(Dn=>Dn&&!Rt.includes(Dn)))}else if("style"===me){for(const Ft in ie)(!Se||null==Se[Ft])&&(Ft.includes("-")?Z.style.removeProperty(Ft):Z.style[Ft]="");for(const Ft in Se)(!ie||Se[Ft]!==ie[Ft])&&(Ft.includes("-")?Z.style.setProperty(Ft,Se[Ft]):Z.style[Ft]=Se[Ft])}else if("key"!==me)if("ref"===me)Se&&Se(Z);else if(vt||"o"!==me[0]||"n"!==me[1]){const Ft=Ve(Se);if((vt||Ft&&null!==Se)&&!Ye)try{if(Z.tagName.includes("-"))Z[me]=Se;else{const yn=null==Se?"":Se;"list"===me?vt=!1:(null==ie||Z[me]!=yn)&&(Z[me]=yn)}}catch{}let Rt=!1;Mt!==(Mt=Mt.replace(/^xlink\:?/,""))&&(me=Mt,Rt=!0),null==Se||!1===Se?(!1!==Se||""===Z.getAttribute(me))&&(Rt?Z.removeAttributeNS(Re,me):Z.removeAttribute(me)):(!vt||4&Qe||Ye)&&!Ft&&(Se=!0===Se?"":Se,Rt?Z.setAttributeNS(Re,me,Se):Z.setAttribute(me,Se))}else me="-"===me[2]?me.slice(3):hn(mr,Mt)?Mt.slice(2):Mt[2]+me.slice(3),ie&&Qn.rel(Z,me,ie,!1),Se&&Qn.ael(Z,me,Se,!1)}},bn=/\s/,_n=Z=>Z?Z.split(bn):[],Rn=(Z,me,ie,Se)=>{const Ye=11===me.$elm$.nodeType&&me.$elm$.host?me.$elm$.host:me.$elm$,Qe=Z&&Z.$attrs$||ke,vt=me.$attrs$||ke;for(Se in Qe)Se in vt||Nn(Ye,Se,Qe[Se],void 0,ie,me.$flags$);for(Se in vt)Nn(Ye,Se,Qe[Se],vt[Se],ie,me.$flags$)},br=(Z,me,ie,Se)=>{const Ye=me.$children$[ie];let vt,Mt,Ft,Qe=0;if(ve||(Ue=!0,"slot"===Ye.$tag$&&(W&&Se.classList.add(W+"-s"),Ye.$flags$|=Ye.$children$?2:1)),null!==Ye.$text$)vt=Ye.$elm$=er.createTextNode(Ye.$text$);else if(1&Ye.$flags$)vt=Ye.$elm$=er.createTextNode("");else{if(Ae||(Ae="svg"===Ye.$tag$),vt=Ye.$elm$=er.createElementNS(Ae?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ye.$flags$?"slot-fb":Ye.$tag$),Ae&&"foreignObject"===Ye.$tag$&&(Ae=!1),Rn(null,Ye,Ae),(Z=>null!=Z)(W)&&vt["s-si"]!==W&&vt.classList.add(vt["s-si"]=W),Ye.$children$)for(Qe=0;Qe<Ye.$children$.length;++Qe)Mt=br(Z,Ye,Qe,vt),Mt&&vt.appendChild(Mt);"svg"===Ye.$tag$?Ae=!1:"foreignObject"===vt.tagName&&(Ae=!0)}return vt["s-hn"]=Ce,3&Ye.$flags$&&(vt["s-sr"]=!0,vt["s-cr"]=J,vt["s-sn"]=Ye.$name$||"",Ft=Z&&Z.$children$&&Z.$children$[ie],Ft&&Ft.$tag$===Ye.$tag$&&Z.$elm$&&sr(Z.$elm$,!1)),vt},sr=(Z,me)=>{Qn.$flags$|=1;const ie=Z.childNodes;for(let Se=ie.length-1;Se>=0;Se--){const Ye=ie[Se];Ye["s-hn"]!==Ce&&Ye["s-ol"]&&(Fr(Ye).insertBefore(Ye,un(Ye)),Ye["s-ol"].remove(),Ye["s-ol"]=void 0,Ue=!0),me&&sr(Ye,me)}Qn.$flags$&=-2},vr=(Z,me,ie,Se,Ye,Qe)=>{let Mt,vt=Z["s-cr"]&&Z["s-cr"].parentNode||Z;for(vt.shadowRoot&&vt.tagName===Ce&&(vt=vt.shadowRoot);Ye<=Qe;++Ye)Se[Ye]&&(Mt=br(null,ie,Ye,Z),Mt&&(Se[Ye].$elm$=Mt,vt.insertBefore(Mt,un(me))))},Jt=(Z,me,ie)=>{for(let Se=me;Se<=ie;++Se){const Ye=Z[Se];if(Ye){const Qe=Ye.$elm$;$n(Ye),Qe&&(he=!0,Qe["s-ol"]?Qe["s-ol"].remove():sr(Qe,!0),Qe.remove())}}},qn=(Z,me)=>Z.$tag$===me.$tag$&&("slot"===Z.$tag$?Z.$name$===me.$name$:Z.$key$===me.$key$),un=Z=>Z&&Z["s-ol"]||Z,Fr=Z=>(Z["s-ol"]?Z["s-ol"]:Z).parentNode,ar=(Z,me)=>{const ie=me.$elm$=Z.$elm$,Se=Z.$children$,Ye=me.$children$,Qe=me.$tag$,vt=me.$text$;let Mt;null===vt?(Ae="svg"===Qe||"foreignObject"!==Qe&&Ae,"slot"===Qe||Rn(Z,me,Ae),null!==Se&&null!==Ye?((Z,me,ie,Se)=>{let Ai,We,Ye=0,Qe=0,vt=0,Mt=0,Ft=me.length-1,Rt=me[0],yn=me[Ft],Dn=Se.length-1,Kn=Se[0],Dr=Se[Dn];for(;Ye<=Ft&&Qe<=Dn;)if(null==Rt)Rt=me[++Ye];else if(null==yn)yn=me[--Ft];else if(null==Kn)Kn=Se[++Qe];else if(null==Dr)Dr=Se[--Dn];else if(qn(Rt,Kn))ar(Rt,Kn),Rt=me[++Ye],Kn=Se[++Qe];else if(qn(yn,Dr))ar(yn,Dr),yn=me[--Ft],Dr=Se[--Dn];else if(qn(Rt,Dr))("slot"===Rt.$tag$||"slot"===Dr.$tag$)&&sr(Rt.$elm$.parentNode,!1),ar(Rt,Dr),Z.insertBefore(Rt.$elm$,yn.$elm$.nextSibling),Rt=me[++Ye],Dr=Se[--Dn];else if(qn(yn,Kn))("slot"===Rt.$tag$||"slot"===Dr.$tag$)&&sr(yn.$elm$.parentNode,!1),ar(yn,Kn),Z.insertBefore(yn.$elm$,Rt.$elm$),yn=me[--Ft],Kn=Se[++Qe];else{for(vt=-1,Mt=Ye;Mt<=Ft;++Mt)if(me[Mt]&&null!==me[Mt].$key$&&me[Mt].$key$===Kn.$key$){vt=Mt;break}vt>=0?(We=me[vt],We.$tag$!==Kn.$tag$?Ai=br(me&&me[Qe],ie,vt,Z):(ar(We,Kn),me[vt]=void 0,Ai=We.$elm$),Kn=Se[++Qe]):(Ai=br(me&&me[Qe],ie,Qe,Z),Kn=Se[++Qe]),Ai&&Fr(Rt.$elm$).insertBefore(Ai,un(Rt.$elm$))}Ye>Ft?vr(Z,null==Se[Dn+1]?null:Se[Dn+1].$elm$,ie,Se,Qe,Dn):Qe>Dn&&Jt(me,Ye,Ft)})(ie,Se,me,Ye):null!==Ye?(null!==Z.$text$&&(ie.textContent=""),vr(ie,null,me,Ye,0,Ye.length-1)):null!==Se&&Jt(Se,0,Se.length-1),Ae&&"svg"===Qe&&(Ae=!1)):(Mt=ie["s-cr"])?Mt.parentNode.textContent=vt:Z.$text$!==vt&&(ie.data=vt)},Yt=Z=>{const me=Z.childNodes;let ie,Se,Ye,Qe,vt,Mt;for(Se=0,Ye=me.length;Se<Ye;Se++)if(ie=me[Se],1===ie.nodeType){if(ie["s-sr"])for(vt=ie["s-sn"],ie.hidden=!1,Qe=0;Qe<Ye;Qe++)if(Mt=me[Qe].nodeType,me[Qe]["s-hn"]!==ie["s-hn"]||""!==vt){if(1===Mt&&vt===me[Qe].getAttribute("slot")){ie.hidden=!0;break}}else if(1===Mt||3===Mt&&""!==me[Qe].textContent.trim()){ie.hidden=!0;break}Yt(ie)}},Lr=[],xt=Z=>{let me,ie,Se,Ye,Qe,vt,Mt=0;const Ft=Z.childNodes,Rt=Ft.length;for(;Mt<Rt;Mt++){if(me=Ft[Mt],me["s-sr"]&&(ie=me["s-cr"])&&ie.parentNode)for(Se=ie.parentNode.childNodes,Ye=me["s-sn"],vt=Se.length-1;vt>=0;vt--)ie=Se[vt],!ie["s-cn"]&&!ie["s-nr"]&&ie["s-hn"]!==me["s-hn"]&&(Qr(ie,Ye)?(Qe=Lr.find(yn=>yn.$nodeToRelocate$===ie),he=!0,ie["s-sn"]=ie["s-sn"]||Ye,Qe?Qe.$slotRefNode$=me:Lr.push({$slotRefNode$:me,$nodeToRelocate$:ie}),ie["s-sr"]&&Lr.map(yn=>{Qr(yn.$nodeToRelocate$,ie["s-sn"])&&(Qe=Lr.find(Dn=>Dn.$nodeToRelocate$===ie),Qe&&!yn.$slotRefNode$&&(yn.$slotRefNode$=Qe.$slotRefNode$))})):Lr.some(yn=>yn.$nodeToRelocate$===ie)||Lr.push({$nodeToRelocate$:ie}));1===me.nodeType&&xt(me)}},Qr=(Z,me)=>1===Z.nodeType?null===Z.getAttribute("slot")&&""===me||Z.getAttribute("slot")===me:Z["s-sn"]===me||""===me,$n=Z=>{Z.$attrs$&&Z.$attrs$.ref&&Z.$attrs$.ref(null),Z.$children$&&Z.$children$.map($n)},Yr=(Z,me)=>{me&&!Z.$onRenderResolve$&&me["s-p"]&&me["s-p"].push(new Promise(ie=>Z.$onRenderResolve$=ie))},oi=(Z,me)=>{if(Z.$flags$|=16,!(4&Z.$flags$))return Yr(Z,Z.$ancestorComponent$),to(()=>Mr(Z,me));Z.$flags$|=512},Mr=(Z,me)=>{const Se=Z.$lazyInstance$;let Ye;return me&&(Z.$flags$|=256,Z.$queuedListeners$&&(Z.$queuedListeners$.map(([Qe,vt])=>rr(Se,Qe,vt)),Z.$queuedListeners$=void 0),Ye=rr(Se,"componentWillLoad")),Ye=xr(Ye,()=>rr(Se,"componentWillRender")),xr(Ye,()=>Pr(Z,Se,me))},xr=(Z,me)=>Cr(Z)?Z.then(me):me(),Cr=Z=>Z instanceof Promise||Z&&Z.then&&"function"==typeof Z.then,Pr=function(){var Z=(0,g.Z)(function*(me,ie,Se){var Ye;const Qe=me.$hostElement$,Mt=Qe["s-rc"];Se&&(Z=>{const me=Z.$cmpMeta$,ie=Z.$hostElement$,Se=me.$flags$,Qe=Ut(ie.shadowRoot?ie.shadowRoot:ie.getRootNode(),me,Z.$modeName$);10&Se&&(ie["s-sc"]=Qe,ie.classList.add(Qe+"-h"),2&Se&&ie.classList.add(Qe+"-s"))})(me);Vr(me,ie),Mt&&(Mt.map(Rt=>Rt()),Qe["s-rc"]=void 0);{const Rt=null!==(Ye=Qe["s-p"])&&void 0!==Ye?Ye:[],yn=()=>yr(me);0===Rt.length?yn():(Promise.all(Rt).then(yn),me.$flags$|=4,Rt.length=0)}});return function(ie,Se,Ye){return Z.apply(this,arguments)}}(),Vr=(Z,me,ie)=>{try{me=me.render&&me.render(),Z.$flags$&=-17,Z.$flags$|=2,((Z,me)=>{const ie=Z.$hostElement$,Se=Z.$cmpMeta$,Ye=Z.$vnode$||ft(null,null),Qe=(Z=>Z&&Z.$tag$===Wt)(me)?me:lt(null,null,me);if(Ce=ie.tagName,Se.$attrsToReflect$&&(Qe.$attrs$=Qe.$attrs$||{},Se.$attrsToReflect$.map(([vt,Mt])=>Qe.$attrs$[Mt]=ie[vt])),Qe.$tag$=null,Qe.$flags$|=4,Z.$vnode$=Qe,Qe.$elm$=Ye.$elm$=ie.shadowRoot||ie,W=ie["s-sc"],J=ie["s-cr"],ve=0!=(1&Se.$flags$),he=!1,ar(Ye,Qe),Qn.$flags$|=1,Ue){xt(Qe.$elm$);let vt,Mt,Ft,Rt,yn,Dn,Kn=0;for(;Kn<Lr.length;Kn++)vt=Lr[Kn],Mt=vt.$nodeToRelocate$,Mt["s-ol"]||(Ft=er.createTextNode(""),Ft["s-nr"]=Mt,Mt.parentNode.insertBefore(Mt["s-ol"]=Ft,Mt));for(Kn=0;Kn<Lr.length;Kn++)if(vt=Lr[Kn],Mt=vt.$nodeToRelocate$,vt.$slotRefNode$){for(Rt=vt.$slotRefNode$.parentNode,yn=vt.$slotRefNode$.nextSibling,Ft=Mt["s-ol"];Ft=Ft.previousSibling;)if(Dn=Ft["s-nr"],Dn&&Dn["s-sn"]===Mt["s-sn"]&&Rt===Dn.parentNode&&(Dn=Dn.nextSibling,!Dn||!Dn["s-nr"])){yn=Dn;break}(!yn&&Rt!==Mt.parentNode||Mt.nextSibling!==yn)&&Mt!==yn&&(!Mt["s-hn"]&&Mt["s-ol"]&&(Mt["s-hn"]=Mt["s-ol"].parentNode.nodeName),Rt.insertBefore(Mt,yn))}else 1===Mt.nodeType&&(Mt.hidden=!0)}he&&Yt(Qe.$elm$),Qn.$flags$&=-2,Lr.length=0})(Z,me)}catch(Se){fn(Se,Z.$hostElement$)}return null},yr=Z=>{const ie=Z.$hostElement$,Ye=Z.$lazyInstance$,Qe=Z.$ancestorComponent$;rr(Ye,"componentDidRender"),64&Z.$flags$?rr(Ye,"componentDidUpdate"):(Z.$flags$|=64,Ne(ie),rr(Ye,"componentDidLoad"),Z.$onReadyResolve$(ie),Qe||fr()),Z.$onInstanceResolve$(ie),Z.$onRenderResolve$&&(Z.$onRenderResolve$(),Z.$onRenderResolve$=void 0),512&Z.$flags$&&mi(()=>oi(Z,!1)),Z.$flags$&=-517},Wr=Z=>{{const me=pt(Z),ie=me.$hostElement$.isConnected;return ie&&2==(18&me.$flags$)&&oi(me,!1),ie}},fr=Z=>{Ne(er.documentElement),mi(()=>Pe(mr,"appload",{detail:{namespace:"ionic"}}))},rr=(Z,me,ie)=>{if(Z&&Z[me])try{return Z[me](ie)}catch(Se){fn(Se)}},Ne=Z=>Z.classList.add("hydrated"),G=(Z,me,ie)=>{if(me.$members$){Z.watchers&&(me.$watchers$=Z.watchers);const Se=Object.entries(me.$members$),Ye=Z.prototype;if(Se.map(([Qe,[vt]])=>{31&vt||2&ie&&32&vt?Object.defineProperty(Ye,Qe,{get(){return((Z,me)=>pt(this).$instanceValues$.get(me))(0,Qe)},set(Mt){((Z,me,ie,Se)=>{const Ye=pt(Z),Qe=Ye.$hostElement$,vt=Ye.$instanceValues$.get(me),Mt=Ye.$flags$,Ft=Ye.$lazyInstance$;ie=((Z,me)=>null==Z||Ve(Z)?Z:4&me?"false"!==Z&&(""===Z||!!Z):2&me?parseFloat(Z):1&me?String(Z):Z)(ie,Se.$members$[me][0]);const Rt=Number.isNaN(vt)&&Number.isNaN(ie);if((!(8&Mt)||void 0===vt)&&ie!==vt&&!Rt&&(Ye.$instanceValues$.set(me,ie),Ft)){if(Se.$watchers$&&128&Mt){const Dn=Se.$watchers$[me];Dn&&Dn.map(Kn=>{try{Ft[Kn](ie,vt,me)}catch(Dr){fn(Dr,Qe)}})}2==(18&Mt)&&oi(Ye,!1)}})(this,Qe,Mt,me)},configurable:!0,enumerable:!0}):1&ie&&64&vt&&Object.defineProperty(Ye,Qe,{value(...Mt){const Ft=pt(this);return Ft.$onInstancePromise$.then(()=>Ft.$lazyInstance$[Qe](...Mt))}})}),1&ie){const Qe=new Map;Ye.attributeChangedCallback=function(vt,Mt,Ft){Qn.jmp(()=>{const Rt=Qe.get(vt);if(this.hasOwnProperty(Rt))Ft=this[Rt],delete this[Rt];else if(Ye.hasOwnProperty(Rt)&&"number"==typeof this[Rt]&&this[Rt]==Ft)return;this[Rt]=(null!==Ft||"boolean"!=typeof this[Rt])&&Ft})},Z.observedAttributes=Se.filter(([vt,Mt])=>15&Mt[0]).map(([vt,Mt])=>{const Ft=Mt[1]||vt;return Qe.set(Ft,vt),512&Mt[0]&&me.$attrsToReflect$.push([vt,Ft]),Ft})}}return Z},B=function(){var Z=(0,g.Z)(function*(me,ie,Se,Ye,Qe){if(!(32&ie.$flags$)){ie.$flags$|=32;{if((Qe=Xn(Se)).then){const Rt=()=>{};Qe=yield Qe,Rt()}Qe.isProxied||(Se.$watchers$=Qe.watchers,G(Qe,Se,2),Qe.isProxied=!0);const Ft=()=>{};ie.$flags$|=8;try{new Qe(ie)}catch(Rt){fn(Rt)}ie.$flags$&=-9,ie.$flags$|=128,Ft(),de(ie.$lazyInstance$)}if(Qe.style){let Ft=Qe.style;"string"!=typeof Ft&&(Ft=Ft[ie.$modeName$=(Z=>Tr.map(me=>me(Z)).find(me=>!!me))(me)]);const Rt=an(Se,ie.$modeName$);if(!Nr.has(Rt)){const yn=()=>{};_t(Rt,Ft,!!(1&Se.$flags$)),yn()}}}const vt=ie.$ancestorComponent$,Mt=()=>oi(ie,!0);vt&&vt["s-rc"]?vt["s-rc"].push(Mt):Mt()});return function(ie,Se,Ye,Qe,vt){return Z.apply(this,arguments)}}(),de=Z=>{rr(Z,"connectedCallback")},yt=Z=>{const me=Z["s-cr"]=er.createComment("");me["s-cn"]=!0,Z.insertBefore(me,Z.firstChild)},Vt=(Z,me={})=>{var ie;const Ye=[],Qe=me.exclude||[],vt=mr.customElements,Mt=er.head,Ft=Mt.querySelector("meta[charset]"),Rt=er.createElement("style"),yn=[],Dn=er.querySelectorAll(`[${ot}]`);let Kn,Dr=!0,Ai=0;for(Object.assign(Qn,me),Qn.$resourcesUrl$=new URL(me.resourcesUrl||"./",er.baseURI).href,Qn.$flags$|=2;Ai<Dn.length;Ai++)_t(Dn[Ai].getAttribute(ot),mn(Dn[Ai].innerHTML),!0);Z.map(We=>{We[1].map(Ge=>{const Je={$flags$:Ge[0],$tagName$:Ge[1],$members$:Ge[2],$listeners$:Ge[3]};Je.$members$=Ge[2],Je.$listeners$=Ge[3],Je.$attrsToReflect$=[],Je.$watchers$={};const St=Je.$tagName$,jt=class extends HTMLElement{constructor(Zt){super(Zt),Lt(Zt=this,Je),1&Je.$flags$&&Zt.attachShadow({mode:"open",delegatesFocus:!!(16&Je.$flags$)})}connectedCallback(){Kn&&(clearTimeout(Kn),Kn=null),Dr?yn.push(this):Qn.jmp(()=>(Z=>{if(!(1&Qn.$flags$)){const me=pt(Z),ie=me.$cmpMeta$,Se=()=>{};if(1&me.$flags$)Gt(Z,me,ie.$listeners$),de(me.$lazyInstance$);else{let Ye;if(me.$flags$|=1,Ye=Z.getAttribute(oe),Ye){if(1&ie.$flags$){const Qe=Ut(Z.shadowRoot,ie,Z.getAttribute("s-mode"));Z.classList.remove(Qe+"-h",Qe+"-s")}((Z,me,ie,Se)=>{const Qe=Z.shadowRoot,vt=[],Ft=Qe?[]:null,Rt=Se.$vnode$=ft(me,null);Qn.$orgLocNodes$||Be(er.body,Qn.$orgLocNodes$=new Map),Z[oe]=ie,Z.removeAttribute(oe),xe(Rt,vt,[],Ft,Z,Z,ie),vt.map(yn=>{const Dn=yn.$hostId$+"."+yn.$nodeId$,Kn=Qn.$orgLocNodes$.get(Dn),Dr=yn.$elm$;Kn&&lo&&""===Kn["s-en"]&&Kn.parentNode.insertBefore(Dr,Kn.nextSibling),Qe||(Dr["s-hn"]=me,Kn&&(Dr["s-ol"]=Kn,Dr["s-ol"]["s-nr"]=Dr)),Qn.$orgLocNodes$.delete(Dn)}),Qe&&Ft.map(yn=>{yn&&Qe.appendChild(yn)})})(Z,ie.$tagName$,Ye,me)}Ye||12&ie.$flags$&&yt(Z);{let Qe=Z;for(;Qe=Qe.parentNode||Qe.host;)if(1===Qe.nodeType&&Qe.hasAttribute("s-id")&&Qe["s-p"]||Qe["s-p"]){Yr(me,me.$ancestorComponent$=Qe);break}}ie.$members$&&Object.entries(ie.$members$).map(([Qe,[vt]])=>{if(31&vt&&Z.hasOwnProperty(Qe)){const Mt=Z[Qe];delete Z[Qe],Z[Qe]=Mt}}),B(Z,me,ie)}Se()}})(this))}disconnectedCallback(){Qn.jmp(()=>(Z=>{if(!(1&Qn.$flags$)){const me=pt(this),ie=me.$lazyInstance$;me.$rmListeners$&&(me.$rmListeners$.map(Se=>Se()),me.$rmListeners$=void 0),rr(ie,"disconnectedCallback")}})())}componentOnReady(){return pt(this).$onReadyPromise$}};Je.$lazyBundleId$=We[0],!Qe.includes(St)&&!vt.get(St)&&(Ye.push(St),vt.define(St,G(jt,Je,1)))})});{Rt.innerHTML=Ye+"{visibility:hidden}.hydrated{visibility:inherit}",Rt.setAttribute("data-styles","");const We=null!==(ie=Qn.$nonce$)&&void 0!==ie?ie:st(er);null!=We&&Rt.setAttribute("nonce",We),Mt.insertBefore(Rt,Ft?Ft.nextSibling:Mt.firstChild)}Dr=!1,yn.length?yn.map(We=>We.connectedCallback()):Qn.jmp(()=>Kn=setTimeout(fr,30))},Gt=(Z,me,ie,Se)=>{ie&&ie.map(([Ye,Qe,vt])=>{const Mt=Jn(Z,Ye),Ft=dn(me,vt),Rt=xn(Ye);Qn.ael(Mt,Qe,Ft,Rt),(me.$rmListeners$=me.$rmListeners$||[]).push(()=>Qn.rel(Mt,Qe,Ft,Rt))})},dn=(Z,me)=>ie=>{try{256&Z.$flags$?Z.$lazyInstance$[me](ie):(Z.$queuedListeners$=Z.$queuedListeners$||[]).push([me,ie])}catch(Se){fn(Se)}},Jn=(Z,me)=>4&me?er:8&me?mr:16&me?er.body:Z,xn=Z=>0!=(2&Z),qr=new WeakMap,pt=Z=>qr.get(Z),it=(Z,me)=>qr.set(me.$lazyInstance$=Z,me),Lt=(Z,me)=>{const ie={$flags$:0,$hostElement$:Z,$cmpMeta$:me,$instanceValues$:new Map};return ie.$onInstancePromise$=new Promise(Se=>ie.$onInstanceResolve$=Se),ie.$onReadyPromise$=new Promise(Se=>ie.$onReadyResolve$=Se),Z["s-p"]=[],Z["s-rc"]=[],Gt(Z,ie,me.$listeners$),qr.set(Z,ie)},hn=(Z,me)=>me in Z,fn=(Z,me)=>(0,console.error)(Z,me),en=new Map,Xn=(Z,me,ie)=>{const Se=Z.$tagName$.replace(/-/g,"_"),Ye=Z.$lazyBundleId$,Qe=en.get(Ye);return Qe?Qe[Se]:k(863)(`./${Ye}.entry.js`).then(vt=>(en.set(Ye,vt),vt[Se]),fn)},Nr=new Map,Tr=[],mr=typeof window<"u"?window:{},er=mr.document||{head:{}},Qn={$flags$:0,$resourcesUrl$:"",jmp:Z=>Z(),raf:Z=>requestAnimationFrame(Z),ael:(Z,me,ie,Se)=>Z.addEventListener(me,ie,Se),rel:(Z,me,ie,Se)=>Z.removeEventListener(me,ie,Se),ce:(Z,me)=>new CustomEvent(Z,me)},yo=Z=>{Object.assign(Qn,Z)},lo=!0,si=Z=>Promise.resolve(Z),Bi=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Hi=[],Kr=[],_r=(Z,me)=>ie=>{Z.push(ie),fe||(fe=!0,me&&4&Qn.$flags$?mi(Ni):Qn.raf(Ni))},$i=Z=>{for(let me=0;me<Z.length;me++)try{Z[me](performance.now())}catch(ie){fn(ie)}Z.length=0},Ni=()=>{$i(Hi),$i(Kr),(fe=Hi.length>0)&&Qn.raf(Ni)},mi=Z=>si().then(Z),_o=_r(Hi,!1),to=_r(Kr,!0)},8077:(qt,Ke,k)=>{"use strict";k.r(Ke),k.d(Ke,{GESTURE_CONTROLLER:()=>g.G,createGesture:()=>Ae});var g=k(4587);const f=(Ie,Me,Le,rt)=>{const Te=W(Ie)?{capture:!!rt.capture,passive:!!rt.passive}:!!rt.capture;let we,oe;return Ie.__zone_symbol__addEventListener?(we="__zone_symbol__addEventListener",oe="__zone_symbol__removeEventListener"):(we="addEventListener",oe="removeEventListener"),Ie[we](Me,Le,Te),()=>{Ie[oe](Me,Le,Te)}},W=Ie=>{if(void 0===J)try{const Me=Object.defineProperty({},"passive",{get:()=>{J=!0}});Ie.addEventListener("optsTest",()=>{},Me)}catch{J=!1}return!!J};let J;const he=Ie=>Ie instanceof Document?Ie:Ie.ownerDocument,Ae=Ie=>{let Me=!1,Le=!1,rt=!0,Te=!1;const we=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ie),oe=we.canStart,ot=we.onWillStart,He=we.onStart,pe=we.onEnd,Re=we.notCaptured,ke=we.onMove,Ee=we.threshold,te=we.passive,dt=we.blurOnStart,Ve={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},st=((Ie,Me,Le)=>{const rt=Le*(Math.PI/180),Te="x"===Ie,we=Math.cos(rt),oe=Me*Me;let ot=0,He=0,pe=!1,Re=0;return{start(ke,Ee){ot=ke,He=Ee,Re=0,pe=!0},detect(ke,Ee){if(!pe)return!1;const te=ke-ot,dt=Ee-He,Ve=te*te+dt*dt;if(Ve<oe)return!1;const st=Math.sqrt(Ve),lt=(Te?te:dt)/st;return Re=lt>we?1:lt<-we?-1:0,pe=!1,!0},isGesture:()=>0!==Re,getDirection:()=>Re}})(we.direction,we.threshold,we.maxAngle),lt=g.G.createGesture({name:Ie.gestureName,priority:Ie.gesturePriority,disableScroll:Ie.disableScroll}),In=()=>{Me&&(Te=!1,ke&&ke(Ve))},zt=()=>!!lt.capture()&&(Me=!0,rt=!1,Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime,ot?ot(Ve).then(le):le(),!0),le=()=>{dt&&(()=>{if(typeof document<"u"){const Xe=document.activeElement;null!=Xe&&Xe.blur&&Xe.blur()}})(),He&&He(Ve),rt=!0},ge=()=>{Me=!1,Le=!1,Te=!1,rt=!0,lt.release()},xe=Xe=>{const Bt=Me,Ct=rt;if(ge(),Ct){if(fe(Ve,Xe),Bt)return void(pe&&pe(Ve));Re&&Re(Ve)}},Be=((Ie,Me,Le,rt,Te)=>{let we,oe,ot,He,pe,Re,ke,Ee=0;const te=ht=>{Ee=Date.now()+2e3,Me(ht)&&(!oe&&Le&&(oe=f(Ie,"touchmove",Le,Te)),ot||(ot=f(ht.target,"touchend",Ve,Te)),He||(He=f(ht.target,"touchcancel",Ve,Te)))},dt=ht=>{Ee>Date.now()||Me(ht)&&(!Re&&Le&&(Re=f(he(Ie),"mousemove",Le,Te)),ke||(ke=f(he(Ie),"mouseup",st,Te)))},Ve=ht=>{lt(),rt&&rt(ht)},st=ht=>{ft(),rt&&rt(ht)},lt=()=>{oe&&oe(),ot&&ot(),He&&He(),oe=ot=He=void 0},ft=()=>{Re&&Re(),ke&&ke(),Re=ke=void 0},Wt=()=>{lt(),ft()},In=(ht=!0)=>{ht?(we||(we=f(Ie,"touchstart",te,Te)),pe||(pe=f(Ie,"mousedown",dt,Te))):(we&&we(),pe&&pe(),we=pe=void 0,Wt())};return{enable:In,stop:Wt,destroy:()=>{In(!1),rt=Le=Me=void 0}}})(we.el,Xe=>{const Bt=be(Xe);return!(Le||!rt||(Q(Xe,Ve),Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime=Bt,Ve.velocityX=Ve.velocityY=Ve.deltaX=Ve.deltaY=0,Ve.event=Xe,oe&&!1===oe(Ve))||(lt.release(),!lt.start()))&&(Le=!0,0===Ee?zt():(st.start(Ve.startX,Ve.startY),!0))},Xe=>{Me?!Te&&rt&&(Te=!0,fe(Ve,Xe),requestAnimationFrame(In)):(fe(Ve,Xe),st.detect(Ve.currentX,Ve.currentY)&&(!st.isGesture()||!zt())&&Ze())},xe,{capture:!1,passive:te}),Ze=()=>{ge(),Be.stop(),Re&&Re(Ve)};return{enable(Xe=!0){Xe||(Me&&xe(void 0),ge()),Be.enable(Xe)},destroy(){lt.destroy(),Be.destroy()}}},fe=(Ie,Me)=>{if(!Me)return;const Le=Ie.currentX,rt=Ie.currentY,Te=Ie.currentTime;Q(Me,Ie);const we=Ie.currentX,oe=Ie.currentY,He=(Ie.currentTime=be(Me))-Te;if(He>0&&He<100){const Re=(oe-rt)/He;Ie.velocityX=(we-Le)/He*.7+.3*Ie.velocityX,Ie.velocityY=.7*Re+.3*Ie.velocityY}Ie.deltaX=we-Ie.startX,Ie.deltaY=oe-Ie.startY,Ie.event=Me},Q=(Ie,Me)=>{let Le=0,rt=0;if(Ie){const Te=Ie.changedTouches;if(Te&&Te.length>0){const we=Te[0];Le=we.clientX,rt=we.clientY}else void 0!==Ie.pageX&&(Le=Ie.pageX,rt=Ie.pageY)}Me.currentX=Le,Me.currentY=rt},be=Ie=>Ie.timeStamp||Date.now()},1767:(qt,Ke,k)=>{"use strict";k.d(Ke,{m:()=>Q});var g=k(5861),f=k(5421),W=k(544),J=k(7876),Ce=k(6506);const ve=be=>(0,Ce.c)().duration(be?400:300),he=be=>{let Ie,Me;const Le=be.width+8,rt=(0,Ce.c)(),Te=(0,Ce.c)();be.isEndSide?(Ie=Le+"px",Me="0px"):(Ie=-Le+"px",Me="0px"),rt.addElement(be.menuInnerEl).fromTo("transform",`translateX(${Ie})`,`translateX(${Me})`);const oe="ios"===(0,J.b)(be),ot=oe?.2:.25;return Te.addElement(be.backdropEl).fromTo("opacity",.01,ot),ve(oe).addAnimation([rt,Te])},Ue=be=>{let Ie,Me;const Le=(0,J.b)(be),rt=be.width;be.isEndSide?(Ie=-rt+"px",Me=rt+"px"):(Ie=rt+"px",Me=-rt+"px");const Te=(0,Ce.c)().addElement(be.menuInnerEl).fromTo("transform",`translateX(${Me})`,"translateX(0px)"),we=(0,Ce.c)().addElement(be.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ie})`),oe=(0,Ce.c)().addElement(be.backdropEl).fromTo("opacity",.01,.32);return ve("ios"===Le).addAnimation([Te,we,oe])},Ae=be=>{const Ie=(0,J.b)(be),Me=be.width*(be.isEndSide?-1:1)+"px",Le=(0,Ce.c)().addElement(be.contentEl).fromTo("transform","translateX(0px)",`translateX(${Me})`);return ve("ios"===Ie).addAnimation(Le)},Q=(()=>{const be=new Map,Ie=[],Me=function(){var le=(0,g.Z)(function*(ge){const xe=yield He(ge);return!!xe&&xe.open()});return function(xe){return le.apply(this,arguments)}}(),Le=function(){var le=(0,g.Z)(function*(ge){const xe=yield void 0!==ge?He(ge):pe();return void 0!==xe&&xe.close()});return function(xe){return le.apply(this,arguments)}}(),rt=function(){var le=(0,g.Z)(function*(ge){const xe=yield He(ge);return!!xe&&xe.toggle()});return function(xe){return le.apply(this,arguments)}}(),Te=function(){var le=(0,g.Z)(function*(ge,xe){const Be=yield He(xe);return Be&&(Be.disabled=!ge),Be});return function(xe,Be){return le.apply(this,arguments)}}(),we=function(){var le=(0,g.Z)(function*(ge,xe){const Be=yield He(xe);return Be&&(Be.swipeGesture=ge),Be});return function(xe,Be){return le.apply(this,arguments)}}(),oe=function(){var le=(0,g.Z)(function*(ge){if(null!=ge){const xe=yield He(ge);return void 0!==xe&&xe.isOpen()}return void 0!==(yield pe())});return function(xe){return le.apply(this,arguments)}}(),ot=function(){var le=(0,g.Z)(function*(ge){const xe=yield He(ge);return!!xe&&!xe.disabled});return function(xe){return le.apply(this,arguments)}}(),He=function(){var le=(0,g.Z)(function*(ge){return yield ht(),"start"===ge||"end"===ge?zt(Ze=>Ze.side===ge&&!Ze.disabled)||zt(Ze=>Ze.side===ge):null!=ge?zt(Be=>Be.menuId===ge):zt(Be=>!Be.disabled)||(Ie.length>0?Ie[0].el:void 0)});return function(xe){return le.apply(this,arguments)}}(),pe=function(){var le=(0,g.Z)(function*(){return yield ht(),ft()});return function(){return le.apply(this,arguments)}}(),Re=function(){var le=(0,g.Z)(function*(){return yield ht(),Wt()});return function(){return le.apply(this,arguments)}}(),ke=function(){var le=(0,g.Z)(function*(){return yield ht(),In()});return function(){return le.apply(this,arguments)}}(),Ee=(le,ge)=>{be.set(le,ge)},Ve=le=>{const ge=le.side;Ie.filter(xe=>xe.side===ge&&xe!==le).forEach(xe=>xe.disabled=!0)},st=function(){var le=(0,g.Z)(function*(ge,xe,Be){if(In())return!1;if(xe){const Ze=yield pe();Ze&&ge.el!==Ze&&(yield Ze.setOpen(!1,!1))}return ge._setOpen(xe,Be)});return function(xe,Be,Ze){return le.apply(this,arguments)}}(),ft=()=>zt(le=>le._isOpen),Wt=()=>Ie.map(le=>le.el),In=()=>Ie.some(le=>le.isAnimating),zt=le=>{const ge=Ie.find(le);if(void 0!==ge)return ge.el},ht=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(le=>new Promise(ge=>(0,W.c)(le,ge))));return Ee("reveal",Ae),Ee("push",Ue),Ee("overlay",he),typeof document<"u"&&document.addEventListener("ionBackButton",le=>{const ge=ft();ge&&le.detail.register(f.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:Ee,get:He,getMenus:Re,getOpen:pe,isEnabled:ot,swipeGesture:we,isAnimating:ke,isOpen:oe,enable:Te,toggle:rt,close:Le,open:Me,_getOpenSync:ft,_createAnimation:(le,ge)=>{const xe=be.get(le);if(!xe)throw new Error("animation not registered");return xe(ge)},_register:le=>{Ie.indexOf(le)<0&&(le.disabled||Ve(le),Ie.push(le))},_unregister:le=>{const ge=Ie.indexOf(le);ge>-1&&Ie.splice(ge,1)},_setOpen:st,_setActiveMenu:Ve}})()},8354:(qt,Ke,k)=>{"use strict";k.d(Ke,{L:()=>J,a:()=>Ce,b:()=>ve,c:()=>he,d:()=>Ue,e:()=>Ee,g:()=>Ve,l:()=>Re,s:()=>te,t:()=>Q,w:()=>ke});var g=k(5861),f=k(6953),W=k(544);const J="ionViewWillEnter",Ce="ionViewDidEnter",ve="ionViewWillLeave",he="ionViewDidLeave",Ue="ionViewWillUnload",Q=st=>new Promise((lt,ft)=>{(0,f.w)(()=>{be(st),Ie(st).then(Wt=>{Wt.animation&&Wt.animation.destroy(),Me(st),lt(Wt)},Wt=>{Me(st),ft(Wt)})})}),be=st=>{const lt=st.enteringEl,ft=st.leavingEl;dt(lt,ft,st.direction),st.showGoBack?lt.classList.add("can-go-back"):lt.classList.remove("can-go-back"),te(lt,!1),lt.style.setProperty("pointer-events","none"),ft&&(te(ft,!1),ft.style.setProperty("pointer-events","none"))},Ie=function(){var st=(0,g.Z)(function*(lt){const ft=yield Le(lt);return ft&&f.B.isBrowser?rt(ft,lt):Te(lt)});return function(ft){return st.apply(this,arguments)}}(),Me=st=>{const lt=st.enteringEl,ft=st.leavingEl;lt.classList.remove("ion-page-invisible"),lt.style.removeProperty("pointer-events"),void 0!==ft&&(ft.classList.remove("ion-page-invisible"),ft.style.removeProperty("pointer-events"))},Le=function(){var st=(0,g.Z)(function*(lt){return lt.leavingEl&&lt.animated&&0!==lt.duration?lt.animationBuilder?lt.animationBuilder:"ios"===lt.mode?(yield Promise.resolve().then(k.bind(k,8899))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,5298))).mdTransitionAnimation:void 0});return function(ft){return st.apply(this,arguments)}}(),rt=function(){var st=(0,g.Z)(function*(lt,ft){yield we(ft,!0);const Wt=lt(ft.baseEl,ft);He(ft.enteringEl,ft.leavingEl);const In=yield ot(Wt,ft);return ft.progressCallback&&ft.progressCallback(void 0),In&&pe(ft.enteringEl,ft.leavingEl),{hasCompleted:In,animation:Wt}});return function(ft,Wt){return st.apply(this,arguments)}}(),Te=function(){var st=(0,g.Z)(function*(lt){const ft=lt.enteringEl,Wt=lt.leavingEl;return yield we(lt,!1),He(ft,Wt),pe(ft,Wt),{hasCompleted:!0}});return function(ft){return st.apply(this,arguments)}}(),we=function(){var st=(0,g.Z)(function*(lt,ft){(void 0!==lt.deepWait?lt.deepWait:ft)&&(yield Promise.all([Ee(lt.enteringEl),Ee(lt.leavingEl)])),yield oe(lt.viewIsReady,lt.enteringEl)});return function(ft,Wt){return st.apply(this,arguments)}}(),oe=function(){var st=(0,g.Z)(function*(lt,ft){lt&&(yield lt(ft))});return function(ft,Wt){return st.apply(this,arguments)}}(),ot=(st,lt)=>{const ft=lt.progressCallback,Wt=new Promise(In=>{st.onFinish(zt=>In(1===zt))});return ft?(st.progressStart(!0),ft(st)):st.play(),Wt},He=(st,lt)=>{Re(lt,ve),Re(st,J)},pe=(st,lt)=>{Re(st,Ce),Re(lt,he)},Re=(st,lt)=>{if(st){const ft=new CustomEvent(lt,{bubbles:!1,cancelable:!1});st.dispatchEvent(ft)}},ke=()=>new Promise(st=>(0,W.r)(()=>(0,W.r)(()=>st()))),Ee=function(){var st=(0,g.Z)(function*(lt){const ft=lt;if(ft){if(null!=ft.componentOnReady){if(null!=(yield ft.componentOnReady()))return}else if(null!=ft.__registerHost)return void(yield new Promise(In=>(0,W.r)(In)));yield Promise.all(Array.from(ft.children).map(Ee))}});return function(ft){return st.apply(this,arguments)}}(),te=(st,lt)=>{lt?(st.setAttribute("aria-hidden","true"),st.classList.add("ion-page-hidden")):(st.hidden=!1,st.removeAttribute("aria-hidden"),st.classList.remove("ion-page-hidden"))},dt=(st,lt,ft)=>{void 0!==st&&(st.style.zIndex="back"===ft?"99":"101"),void 0!==lt&&(lt.style.zIndex="100")},Ve=st=>st.classList.contains("ion-page")?st:st.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||st},7643:(qt,Ke,k)=>{"use strict";k.d(Ke,{d:()=>f,w:()=>g});const g=typeof window<"u"?window:void 0,f=typeof document<"u"?document:void 0},7690:(qt,Ke,k)=>{"use strict";k.d(Ke,{a:()=>f,b:()=>W,p:()=>g});const g=(J,...Ce)=>console.warn(`[Ionic Warning]: ${J}`,...Ce),f=(J,...Ce)=>console.error(`[Ionic Error]: ${J}`,...Ce),W=(J,...Ce)=>console.error(`<${J.tagName.toLowerCase()}> must be used inside ${Ce.join(" or ")}.`)},7876:(qt,Ke,k)=>{"use strict";k.d(Ke,{a:()=>Q,b:()=>In,c:()=>W,g:()=>fe,i:()=>zt});var g=k(6953);class f{constructor(){this.m=new Map}reset(le){this.m=new Map(Object.entries(le))}get(le,ge){const xe=this.m.get(le);return void 0!==xe?xe:ge}getBoolean(le,ge=!1){const xe=this.m.get(le);return void 0===xe?ge:"string"==typeof xe?"true"===xe:!!xe}getNumber(le,ge){const xe=parseFloat(this.m.get(le));return isNaN(xe)?void 0!==ge?ge:NaN:xe}set(le,ge){this.m.set(le,ge)}}const W=new f,Ae="ionic-persist-config",fe=ht=>be(ht),Q=(ht,le)=>("string"==typeof ht&&(le=ht,ht=void 0),fe(ht).includes(le)),be=(ht=window)=>{if(typeof ht>"u")return[];ht.Ionic=ht.Ionic||{};let le=ht.Ionic.platforms;return null==le&&(le=ht.Ionic.platforms=Ie(ht),le.forEach(ge=>ht.document.documentElement.classList.add(`plt-${ge}`))),le},Ie=ht=>{const le=W.get("platform");return Object.keys(ft).filter(ge=>{const xe=null==le?void 0:le[ge];return"function"==typeof xe?xe(ht):ft[ge](ht)})},Le=ht=>!!(st(ht,/iPad/i)||st(ht,/Macintosh/i)&&pe(ht)),we=ht=>st(ht,/android|sink/i),pe=ht=>lt(ht,"(any-pointer:coarse)"),ke=ht=>Ee(ht)||te(ht),Ee=ht=>!!(ht.cordova||ht.phonegap||ht.PhoneGap),te=ht=>{const le=ht.Capacitor;return!(null==le||!le.isNative)},st=(ht,le)=>le.test(ht.navigator.userAgent),lt=(ht,le)=>{var ge;return null===(ge=ht.matchMedia)||void 0===ge?void 0:ge.call(ht,le).matches},ft={ipad:Le,iphone:ht=>st(ht,/iPhone/i),ios:ht=>st(ht,/iPhone|iPod/i)||Le(ht),android:we,phablet:ht=>{const le=ht.innerWidth,ge=ht.innerHeight,xe=Math.min(le,ge),Be=Math.max(le,ge);return xe>390&&xe<520&&Be>620&&Be<800},tablet:ht=>{const le=ht.innerWidth,ge=ht.innerHeight,xe=Math.min(le,ge),Be=Math.max(le,ge);return Le(ht)||(ht=>we(ht)&&!st(ht,/mobile/i))(ht)||xe>460&&xe<820&&Be>780&&Be<1400},cordova:Ee,capacitor:te,electron:ht=>st(ht,/electron/i),pwa:ht=>{var le;return!!(null!==(le=ht.matchMedia)&&void 0!==le&&le.call(ht,"(display-mode: standalone)").matches||ht.navigator.standalone)},mobile:pe,mobileweb:ht=>pe(ht)&&!ke(ht),desktop:ht=>!pe(ht),hybrid:ke};let Wt;const In=ht=>ht&&(0,g.g)(ht)||Wt,zt=(ht={})=>{if(typeof window>"u")return;const le=window.document,ge=window,xe=ge.Ionic=ge.Ionic||{},Be={};ht._ael&&(Be.ael=ht._ael),ht._rel&&(Be.rel=ht._rel),ht._ce&&(Be.ce=ht._ce),(0,g.a)(Be);const Ze=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ht=>{try{const le=ht.sessionStorage.getItem(Ae);return null!==le?JSON.parse(le):{}}catch{return{}}})(ge)),{persistConfig:!1}),xe.config),(ht=>{const le={};return ht.location.search.slice(1).split("&").map(ge=>ge.split("=")).map(([ge,xe])=>[decodeURIComponent(ge),decodeURIComponent(xe)]).filter(([ge])=>((ht,le)=>ht.substr(0,le.length)===le)(ge,"ionic:")).map(([ge,xe])=>[ge.slice(6),xe]).forEach(([ge,xe])=>{le[ge]=xe}),le})(ge)),ht);W.reset(Ze),W.getBoolean("persistConfig")&&((ht,le)=>{try{ht.sessionStorage.setItem(Ae,JSON.stringify(le))}catch{return}})(ge,Ze),be(ge),xe.config=W,xe.mode=Wt=W.get("mode",le.documentElement.getAttribute("mode")||(Q(ge,"ios")?"ios":"md")),W.set("mode",Wt),le.documentElement.setAttribute("mode",Wt),le.documentElement.classList.add(Wt),W.getBoolean("_testing")&&W.set("animated",!1);const Xe=Ct=>{var at;return null===(at=Ct.tagName)||void 0===at?void 0:at.startsWith("ION-")},Bt=Ct=>["ios","md"].includes(Ct);(0,g.c)(Ct=>{for(;Ct;){const at=Ct.mode||Ct.getAttribute("mode");if(at){if(Bt(at))return at;Xe(Ct)&&console.warn('Invalid ionic mode: "'+at+'", expected: "ios" or "md"')}Ct=Ct.parentElement}return Wt})}},8899:(qt,Ke,k)=>{"use strict";k.r(Ke),k.d(Ke,{iosTransitionAnimation:()=>Ie,shadow:()=>he});var g=k(6506),f=k(8354);k(7643),k(6953);const ve=Me=>document.querySelector(`${Me}.ion-cloned-element`),he=Me=>Me.shadowRoot||Me,Ue=Me=>{const Le="ION-TABS"===Me.tagName?Me:Me.querySelector("ion-tabs"),rt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Le){const Te=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Te?Te.querySelector(rt):null}return Me.querySelector(rt)},Ae=(Me,Le)=>{const rt="ION-TABS"===Me.tagName?Me:Me.querySelector("ion-tabs");let Te=[];if(null!=rt){const we=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=we&&(Te=we.querySelectorAll("ion-buttons"))}else Te=Me.querySelectorAll("ion-buttons");for(const we of Te){const oe=we.closest("ion-header"),ot=oe&&!oe.classList.contains("header-collapse-condense-inactive"),He=we.querySelector("ion-back-button"),pe=we.classList.contains("buttons-collapse");if(null!==He&&("start"===we.slot||""===we.slot)&&(pe&&ot&&Le||!pe))return He}return null},Q=(Me,Le,rt,Te,we,oe)=>{const ot=Le?`calc(100% - ${oe.right+4}px)`:oe.left-4+"px",He=Le?"7px":"-7px",pe=Le?"-4px":"4px",Re=Le?"-4px":"4px",ke=Le?"right":"left",Ee=Le?"left":"right",Ve=rt?[{offset:0,opacity:1,transform:`translate3d(${pe}, ${oe.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${He}, ${we.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${He}, ${we.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${pe}, ${oe.top-46}px, 0) scale(1)`}],ft=rt?[{offset:0,opacity:1,transform:`translate3d(${Re}, ${oe.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Re}, ${oe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Re}, ${oe.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Re}, ${oe.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Re}, ${oe.top-46}px, 0) scale(1)`}],Wt=(0,g.c)(),In=(0,g.c)(),zt=ve("ion-back-button"),ht=he(zt).querySelector(".button-text"),le=he(zt).querySelector("ion-icon");zt.text=Te.text,zt.mode=Te.mode,zt.icon=Te.icon,zt.color=Te.color,zt.disabled=Te.disabled,zt.style.setProperty("display","block"),zt.style.setProperty("position","fixed"),In.addElement(le),Wt.addElement(ht),Wt.beforeStyles({"transform-origin":`${ke} center`}).beforeAddWrite(()=>{Te.style.setProperty("display","none"),zt.style.setProperty(ke,ot)}).afterAddWrite(()=>{Te.style.setProperty("display",""),zt.style.setProperty("display","none"),zt.style.removeProperty(ke)}).keyframes(Ve),In.beforeStyles({"transform-origin":`${Ee} center`}).keyframes(ft),Me.addAnimation([Wt,In])},be=(Me,Le,rt,Te,we,oe)=>{const ot=Le?`calc(100% - ${we.right}px)`:`${we.left}px`,He=Le?"-18px":"18px",pe=Le?"right":"left",Ee=rt?[{offset:0,opacity:0,transform:`translate3d(${He}, ${oe.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${we.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${we.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${He}, ${oe.top-4}px, 0) scale(0.5)`}],te=ve("ion-title"),dt=(0,g.c)();te.innerText=Te.innerText,te.size=Te.size,te.color=Te.color,dt.addElement(te),dt.beforeStyles({"transform-origin":`${pe} center`,height:"46px",display:"",position:"relative",[pe]:ot}).beforeAddWrite(()=>{Te.style.setProperty("display","none")}).afterAddWrite(()=>{Te.style.setProperty("display",""),te.style.setProperty("display","none")}).keyframes(Ee),Me.addAnimation(dt)},Ie=(Me,Le)=>{var rt;try{const Te="cubic-bezier(0.32,0.72,0,1)",we="opacity",oe="transform",ot="0%",pe="rtl"===Me.ownerDocument.dir,Re=pe?"-99.5%":"99.5%",ke=pe?"33%":"-33%",Ee=Le.enteringEl,te=Le.leavingEl,dt="back"===Le.direction,Ve=Ee.querySelector(":scope > ion-content"),st=Ee.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),lt=Ee.querySelectorAll(":scope > ion-header > ion-toolbar"),ft=(0,g.c)(),Wt=(0,g.c)();if(ft.addElement(Ee).duration((null!==(rt=Le.duration)&&void 0!==rt?rt:0)||540).easing(Le.easing||Te).fill("both").beforeRemoveClass("ion-page-invisible"),te&&null!=Me){const le=(0,g.c)();le.addElement(Me),ft.addAnimation(le)}if(Ve||0!==lt.length||0!==st.length?(Wt.addElement(Ve),Wt.addElement(st)):Wt.addElement(Ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ft.addAnimation(Wt),dt?Wt.beforeClearStyles([we]).fromTo("transform",`translateX(${ke})`,`translateX(${ot})`).fromTo(we,.8,1):Wt.beforeClearStyles([we]).fromTo("transform",`translateX(${Re})`,`translateX(${ot})`),Ve){const le=he(Ve).querySelector(".transition-effect");if(le){const ge=le.querySelector(".transition-cover"),xe=le.querySelector(".transition-shadow"),Be=(0,g.c)(),Ze=(0,g.c)(),Xe=(0,g.c)();Be.addElement(le).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ze.addElement(ge).beforeClearStyles([we]).fromTo(we,0,.1),Xe.addElement(xe).beforeClearStyles([we]).fromTo(we,.03,.7),Be.addAnimation([Ze,Xe]),Wt.addAnimation([Be])}}const In=Ee.querySelector("ion-header.header-collapse-condense"),{forward:zt,backward:ht}=((Me,Le,rt,Te,we)=>{const oe=Ae(Te,rt),ot=Ue(we),He=Ue(Te),pe=Ae(we,rt),Re=null!==oe&&null!==ot&&!rt,ke=null!==He&&null!==pe&&rt;if(Re){const Ee=ot.getBoundingClientRect(),te=oe.getBoundingClientRect();be(Me,Le,rt,ot,Ee,te),Q(Me,Le,rt,oe,Ee,te)}else if(ke){const Ee=He.getBoundingClientRect(),te=pe.getBoundingClientRect();be(Me,Le,rt,He,Ee,te),Q(Me,Le,rt,pe,Ee,te)}return{forward:Re,backward:ke}})(ft,pe,dt,Ee,te);if(lt.forEach(le=>{const ge=(0,g.c)();ge.addElement(le),ft.addAnimation(ge);const xe=(0,g.c)();xe.addElement(le.querySelector("ion-title"));const Be=(0,g.c)(),Ze=Array.from(le.querySelectorAll("ion-buttons,[menuToggle]")),Xe=le.closest("ion-header"),Bt=null==Xe?void 0:Xe.classList.contains("header-collapse-condense-inactive");let Ct;Ct=Ze.filter(dt?_t=>{const Ut=_t.classList.contains("buttons-collapse");return Ut&&!Bt||!Ut}:_t=>!_t.classList.contains("buttons-collapse")),Be.addElement(Ct);const at=(0,g.c)();at.addElement(le.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const gt=(0,g.c)();gt.addElement(he(le).querySelector(".toolbar-background"));const Pe=(0,g.c)(),Et=le.querySelector("ion-back-button");if(Et&&Pe.addElement(Et),ge.addAnimation([xe,Be,at,gt,Pe]),Be.fromTo(we,.01,1),at.fromTo(we,.01,1),dt)Bt||xe.fromTo("transform",`translateX(${ke})`,`translateX(${ot})`).fromTo(we,.01,1),at.fromTo("transform",`translateX(${ke})`,`translateX(${ot})`),Pe.fromTo(we,.01,1);else if(In||xe.fromTo("transform",`translateX(${Re})`,`translateX(${ot})`).fromTo(we,.01,1),at.fromTo("transform",`translateX(${Re})`,`translateX(${ot})`),gt.beforeClearStyles([we,"transform"]),(null==Xe?void 0:Xe.translucent)?gt.fromTo("transform",pe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):gt.fromTo(we,.01,"var(--opacity)"),zt||Pe.fromTo(we,.01,1),Et&&!zt){const Ut=(0,g.c)();Ut.addElement(he(Et).querySelector(".button-text")).fromTo("transform",pe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ge.addAnimation(Ut)}}),te){const le=(0,g.c)(),ge=te.querySelector(":scope > ion-content"),xe=te.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ge||0!==xe.length||0!==Be.length?(le.addElement(ge),le.addElement(Be)):le.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ft.addAnimation(le),dt){le.beforeClearStyles([we]).fromTo("transform",`translateX(${ot})`,pe?"translateX(-100%)":"translateX(100%)");const Ze=(0,f.g)(te);ft.afterAddWrite(()=>{"normal"===ft.getDirection()&&Ze.style.setProperty("display","none")})}else le.fromTo("transform",`translateX(${ot})`,`translateX(${ke})`).fromTo(we,1,.8);if(ge){const Ze=he(ge).querySelector(".transition-effect");if(Ze){const Xe=Ze.querySelector(".transition-cover"),Bt=Ze.querySelector(".transition-shadow"),Ct=(0,g.c)(),at=(0,g.c)(),gt=(0,g.c)();Ct.addElement(Ze).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),at.addElement(Xe).beforeClearStyles([we]).fromTo(we,.1,0),gt.addElement(Bt).beforeClearStyles([we]).fromTo(we,.7,.03),Ct.addAnimation([at,gt]),le.addAnimation([Ct])}}xe.forEach(Ze=>{const Xe=(0,g.c)();Xe.addElement(Ze);const Bt=(0,g.c)();Bt.addElement(Ze.querySelector("ion-title"));const Ct=(0,g.c)(),at=Ze.querySelectorAll("ion-buttons,[menuToggle]"),gt=Ze.closest("ion-header"),Pe=null==gt?void 0:gt.classList.contains("header-collapse-condense-inactive"),Et=Array.from(at).filter(Nn=>{const bn=Nn.classList.contains("buttons-collapse");return bn&&!Pe||!bn});Ct.addElement(Et);const _t=(0,g.c)(),Ut=Ze.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ut.length>0&&_t.addElement(Ut);const cn=(0,g.c)();cn.addElement(he(Ze).querySelector(".toolbar-background"));const an=(0,g.c)(),mn=Ze.querySelector("ion-back-button");if(mn&&an.addElement(mn),Xe.addAnimation([Bt,Ct,_t,an,cn]),ft.addAnimation(Xe),an.fromTo(we,.99,0),Ct.fromTo(we,.99,0),_t.fromTo(we,.99,0),dt){if(Pe||Bt.fromTo("transform",`translateX(${ot})`,pe?"translateX(-100%)":"translateX(100%)").fromTo(we,.99,0),_t.fromTo("transform",`translateX(${ot})`,pe?"translateX(-100%)":"translateX(100%)"),cn.beforeClearStyles([we,"transform"]),(null==gt?void 0:gt.translucent)?cn.fromTo("transform","translateX(0px)",pe?"translateX(-100%)":"translateX(100%)"):cn.fromTo(we,"var(--opacity)",0),mn&&!ht){const bn=(0,g.c)();bn.addElement(he(mn).querySelector(".button-text")).fromTo("transform",`translateX(${ot})`,`translateX(${(pe?-124:124)+"px"})`),Xe.addAnimation(bn)}}else Pe||Bt.fromTo("transform",`translateX(${ot})`,`translateX(${ke})`).fromTo(we,.99,0).afterClearStyles([oe,we]),_t.fromTo("transform",`translateX(${ot})`,`translateX(${ke})`).afterClearStyles([oe,we]),an.afterClearStyles([we]),Bt.afterClearStyles([we]),Ct.afterClearStyles([we])})}return ft}catch(Te){throw Te}}},5298:(qt,Ke,k)=>{"use strict";k.r(Ke),k.d(Ke,{mdTransitionAnimation:()=>Ce});var g=k(6506),f=k(8354);k(7643),k(6953);const Ce=(ve,he)=>{var Ue,Ae,fe;const Q="40px",Ie="back"===he.direction,Le=he.leavingEl,rt=(0,f.g)(he.enteringEl),Te=rt.querySelector("ion-toolbar"),we=(0,g.c)();if(we.addElement(rt).fill("both").beforeRemoveClass("ion-page-invisible"),Ie?we.duration((null!==(Ue=he.duration)&&void 0!==Ue?Ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):we.duration((null!==(Ae=he.duration)&&void 0!==Ae?Ae:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${Q})`,"translateY(0px)").fromTo("opacity",.01,1),Te){const oe=(0,g.c)();oe.addElement(Te),we.addAnimation(oe)}if(Le&&Ie){we.duration((null!==(fe=he.duration)&&void 0!==fe?fe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const oe=(0,g.c)();oe.addElement((0,f.g)(Le)).onFinish(ot=>{1===ot&&oe.elements.length>0&&oe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${Q})`).fromTo("opacity",1,0),we.addAnimation(oe)}return we}},8946:(qt,Ke,k)=>{"use strict";k.d(Ke,{B:()=>Xe,G:()=>Bt,a:()=>Q,b:()=>be,c:()=>rt,d:()=>Ct,e:()=>at,f:()=>ft,g:()=>In,h:()=>le,i:()=>xe,j:()=>we,k:()=>oe,l:()=>Ie,m:()=>Me,n:()=>Ae,o:()=>pe,q:()=>st,s:()=>Ze,t:()=>Te});var g=k(5861),f=k(7876),W=k(9439),J=k(5421),Ce=k(544),ve=k(7690);let he=0,Ue=0;const Ae=new WeakMap,fe=gt=>({create:Pe=>ot(gt,Pe),dismiss:(Pe,Et,_t)=>dt(document,Pe,Et,gt,_t),getTop:()=>(0,g.Z)(function*(){return st(document,gt)})()}),Q=fe("ion-alert"),be=fe("ion-action-sheet"),Ie=fe("ion-loading"),Me=fe("ion-modal"),rt=fe("ion-popover"),Te=fe("ion-toast"),we=gt=>{typeof document<"u"&&te(document);const Pe=he++;gt.overlayIndex=Pe},oe=gt=>(gt.hasAttribute("id")||(gt.id="ion-overlay-"+ ++Ue),gt.id),ot=(gt,Pe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(gt).then(()=>{const Et=document.createElement(gt);return Et.classList.add("overlay-hidden"),Object.assign(Et,Object.assign(Object.assign({},Pe),{hasController:!0})),zt(document).appendChild(Et),new Promise(_t=>(0,Ce.c)(Et,_t))}):Promise.resolve(),He='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',pe=(gt,Pe)=>{let Et=gt.querySelector(He);const _t=null==Et?void 0:Et.shadowRoot;_t&&(Et=_t.querySelector(He)||Et),Et?(0,Ce.f)(Et):Pe.focus()},ke=(gt,Pe)=>{const Et=Array.from(gt.querySelectorAll(He));let _t=Et.length>0?Et[Et.length-1]:null;const Ut=null==_t?void 0:_t.shadowRoot;Ut&&(_t=Ut.querySelector(He)||_t),_t?_t.focus():Pe.focus()},te=gt=>{0===he&&(he=1,gt.addEventListener("focus",Pe=>{((gt,Pe)=>{const Et=st(Pe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),_t=gt.target;Et&&_t&&!Et.classList.contains("ion-disable-focus-trap")&&(Et.shadowRoot?(()=>{if(Et.contains(_t))Et.lastFocus=_t;else{const an=Et.lastFocus;pe(Et,Et),an===Pe.activeElement&&ke(Et,Et),Et.lastFocus=Pe.activeElement}})():(()=>{if(Et===_t)Et.lastFocus=void 0;else{const an=(0,Ce.g)(Et);if(!an.contains(_t))return;const mn=an.querySelector(".ion-overlay-wrapper");if(!mn)return;if(mn.contains(_t)||_t===an.querySelector("ion-backdrop"))Et.lastFocus=_t;else{const Nn=Et.lastFocus;pe(mn,Et),Nn===Pe.activeElement&&ke(mn,Et),Et.lastFocus=Pe.activeElement}}})())})(Pe,gt)},!0),gt.addEventListener("ionBackButton",Pe=>{const Et=st(gt);null!=Et&&Et.backdropDismiss&&Pe.detail.register(J.OVERLAY_BACK_BUTTON_PRIORITY,()=>Et.dismiss(void 0,Xe))}),gt.addEventListener("keydown",Pe=>{if("Escape"===Pe.key){const Et=st(gt);null!=Et&&Et.backdropDismiss&&Et.dismiss(void 0,Xe)}}))},dt=(gt,Pe,Et,_t,Ut)=>{const cn=st(gt,_t,Ut);return cn?cn.dismiss(Pe,Et):Promise.reject("overlay does not exist")},st=(gt,Pe,Et)=>{const _t=((gt,Pe)=>(void 0===Pe&&(Pe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(gt.querySelectorAll(Pe)).filter(Et=>Et.overlayIndex>0)))(gt,Pe).filter(Ut=>!(gt=>gt.classList.contains("overlay-hidden"))(Ut));return void 0===Et?_t[_t.length-1]:_t.find(Ut=>Ut.id===Et)},lt=(gt=!1)=>{const Et=zt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Et&&(gt?Et.setAttribute("aria-hidden","true"):Et.removeAttribute("aria-hidden"))},ft=function(){var gt=(0,g.Z)(function*(Pe,Et,_t,Ut,cn){var an,mn;if(Pe.presented)return;lt(!0),Pe.presented=!0,Pe.willPresent.emit(),null===(an=Pe.willPresentShorthand)||void 0===an||an.emit();const Nn=(0,f.b)(Pe),bn=Pe.enterAnimation?Pe.enterAnimation:f.c.get(Et,"ios"===Nn?_t:Ut);(yield ht(Pe,bn,Pe.el,cn))&&(Pe.didPresent.emit(),null===(mn=Pe.didPresentShorthand)||void 0===mn||mn.emit()),"ION-TOAST"!==Pe.el.tagName&&Wt(Pe.el),Pe.keyboardClose&&(null===document.activeElement||!Pe.el.contains(document.activeElement))&&Pe.el.focus()});return function(Et,_t,Ut,cn,an){return gt.apply(this,arguments)}}(),Wt=function(){var gt=(0,g.Z)(function*(Pe){let Et=document.activeElement;if(!Et)return;const _t=null==Et?void 0:Et.shadowRoot;_t&&(Et=_t.querySelector(He)||Et),yield Pe.onDidDismiss(),Et.focus()});return function(Et){return gt.apply(this,arguments)}}(),In=function(){var gt=(0,g.Z)(function*(Pe,Et,_t,Ut,cn,an,mn){var Nn,bn;if(!Pe.presented)return!1;lt(!1),Pe.presented=!1;try{Pe.el.style.setProperty("pointer-events","none"),Pe.willDismiss.emit({data:Et,role:_t}),null===(Nn=Pe.willDismissShorthand)||void 0===Nn||Nn.emit({data:Et,role:_t});const _n=(0,f.b)(Pe),Rn=Pe.leaveAnimation?Pe.leaveAnimation:f.c.get(Ut,"ios"===_n?cn:an);_t!==Bt&&(yield ht(Pe,Rn,Pe.el,mn)),Pe.didDismiss.emit({data:Et,role:_t}),null===(bn=Pe.didDismissShorthand)||void 0===bn||bn.emit({data:Et,role:_t}),Ae.delete(Pe),Pe.el.classList.add("overlay-hidden"),Pe.el.style.removeProperty("pointer-events"),void 0!==Pe.el.lastFocus&&(Pe.el.lastFocus=void 0)}catch(_n){console.error(_n)}return Pe.el.remove(),!0});return function(Et,_t,Ut,cn,an,mn,Nn){return gt.apply(this,arguments)}}(),zt=gt=>gt.querySelector("ion-app")||gt.body,ht=function(){var gt=(0,g.Z)(function*(Pe,Et,_t,Ut){_t.classList.remove("overlay-hidden");const an=Et(Pe.el,Ut);(!Pe.animated||!f.c.getBoolean("animated",!0))&&an.duration(0),Pe.keyboardClose&&an.beforeAddWrite(()=>{const Nn=_t.ownerDocument.activeElement;null!=Nn&&Nn.matches("input,ion-input, ion-textarea")&&Nn.blur()});const mn=Ae.get(Pe)||[];return Ae.set(Pe,[...mn,an]),yield an.play(),!0});return function(Et,_t,Ut,cn){return gt.apply(this,arguments)}}(),le=(gt,Pe)=>{let Et;const _t=new Promise(Ut=>Et=Ut);return ge(gt,Pe,Ut=>{Et(Ut.detail)}),_t},ge=(gt,Pe,Et)=>{const _t=Ut=>{(0,Ce.b)(gt,Pe,_t),Et(Ut)};(0,Ce.a)(gt,Pe,_t)},xe=gt=>"cancel"===gt||gt===Xe,Be=gt=>gt(),Ze=(gt,Pe)=>{if("function"==typeof gt)return f.c.get("_zoneGate",Be)(()=>{try{return gt(Pe)}catch(_t){throw _t}})},Xe="backdrop",Bt="gesture",Ct=gt=>{let Et,Pe=!1;const _t=(0,W.C)(),Ut=(mn=!1)=>{if(Et&&!mn)return{delegate:Et,inline:Pe};const{el:Nn,hasController:bn,delegate:_n}=gt;return Pe=null!==Nn.parentNode&&!bn,Et=Pe?_n||_t:_n,{inline:Pe,delegate:Et}};return{attachViewToDom:function(){var mn=(0,g.Z)(function*(Nn){const{delegate:bn}=Ut(!0);if(bn)return yield bn.attachViewToDom(gt.el,Nn);const{hasController:_n}=gt;if(_n&&void 0!==Nn)throw new Error("framework delegate is missing");return null});return function(bn){return mn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:mn}=Ut();mn&&void 0!==gt.el&&mn.removeViewFromDom(gt.el.parentElement,gt.el)}}},at=()=>{let gt;const Pe=()=>{gt&&(gt(),gt=void 0)};return{addClickListener:(_t,Ut)=>{Pe();const cn=void 0!==Ut?document.getElementById(Ut):null;cn?gt=((mn,Nn)=>{const bn=()=>{Nn.present()};return mn.addEventListener("click",bn),()=>{mn.removeEventListener("click",bn)}})(cn,_t):(0,ve.p)(`A trigger element with the ID "${Ut}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,_t)},removeClickListener:Pe}}},6949:(qt,Ke,k)=>{"use strict";k.d(Ke,{O:()=>Q});var g=k(5861),f=k(6878),he=(k(9058),k(534),k(7879),k(4537),k(5879)),Ue=k(6796),Ae=k(8330),fe=k(4532);let Q=(()=>{var be;class Ie{constructor(Le,rt,Te){this.auth=Le,this.db=rt,this.utilsSvc=Te}login(Le){return this.auth.signInWithEmailAndPassword(Le.email,Le.password)}signUp(Le){return this.auth.createUserWithEmailAndPassword(Le.email,Le.password)}updateUser(Le){const rt=(0,f.o)();return(0,f.ai)(rt.currentUser,Le)}getAuthState(){return this.auth.authState}signOut(){var Le=this;return(0,g.Z)(function*(){yield Le.auth.signOut(),Le.utilsSvc.routerLink("/auth"),localStorage.removeItem("user")})()}getSubcollection(Le,rt){return this.db.doc(Le).collection(rt).valueChanges({idField:"id"})}addToSubcollection(Le,rt,Te){return this.db.doc(Le).collection(rt).add(Te)}updateDocument(Le,rt){return this.db.doc(Le).update(rt)}deleteDocument(Le){return this.db.doc(Le).delete()}}return(be=Ie).\u0275fac=function(Le){return new(Le||be)(he.LFG(Ue.zQ),he.LFG(Ae.ST),he.LFG(fe.F))},be.\u0275prov=he.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),Ie})()},2471:(qt,Ke,k)=>{"use strict";k.d(Ke,{f:()=>W});var g=k(5619),f=k(5879);let W=(()=>{var J;class Ce{constructor(){this.darkMode=new g.X(!1)}setInitialTheme(){let he=JSON.parse(localStorage.getItem("darkMode"));this.setTheme(he)}setTheme(he){he?document.body.setAttribute("color-theme","dark"):document.body.setAttribute("color-theme","light"),this.darkMode.next(he),localStorage.setItem("darkMode",JSON.stringify(he))}}return(J=Ce).\u0275fac=function(he){return new(he||J)},J.\u0275prov=f.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),Ce})()},4532:(qt,Ke,k)=>{"use strict";k.d(Ke,{F:()=>Ce});var g=k(5861),f=k(5879),W=k(5548),J=k(6745);let Ce=(()=>{var ve;class he{constructor(Ae,fe,Q,be,Ie){this.loadingController=Ae,this.router=fe,this.toastController=Q,this.alertController=be,this.modalController=Ie}presentLoading(Ae){var fe=this;return(0,g.Z)(function*(){yield(yield fe.loadingController.create(Ae)).present()})()}dismissLoading(){var Ae=this;return(0,g.Z)(function*(){return yield Ae.loadingController.dismiss()})()}setElementInLocalStorage(Ae,fe){return localStorage.setItem(Ae,JSON.stringify(fe))}getElementFromLocalStorage(Ae){return JSON.parse(localStorage.getItem(Ae))}routerLink(Ae){return this.router.navigateByUrl(Ae)}presentToast(Ae){var fe=this;return(0,g.Z)(function*(){(yield fe.toastController.create(Ae)).present()})()}presentAlert(Ae){var fe=this;return(0,g.Z)(function*(){yield(yield fe.alertController.create(Ae)).present()})()}presentModal(Ae){var fe=this;return(0,g.Z)(function*(){const Q=yield fe.modalController.create(Ae);yield Q.present();const{data:be}=yield Q.onWillDismiss();if(be)return be})()}dismissModal(Ae){this.modalController.dismiss(Ae)}getPercentage(Ae){let fe=Ae.items.filter(Ie=>Ie.completed).length;return parseInt((100/Ae.items.length*fe).toString())||0}}return(ve=he).\u0275fac=function(Ae){return new(Ae||ve)(f.LFG(W.HT),f.LFG(J.F0),f.LFG(W.yF),f.LFG(W.Br),f.LFG(W.IN))},ve.\u0275prov=f.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),he})()},7725:(qt,Ke,k)=>{"use strict";var g=k(6593),f=k(5879),W=k(6745),J=k(5548),Ce=k(2471);let ve=(()=>{var oe;class ot{constructor(pe){this.themeSvc=pe,this.themeSvc.setInitialTheme()}}return(oe=ot).\u0275fac=function(pe){return new(pe||oe)(f.Y36(Ce.f))},oe.\u0275cmp=f.Xpm({type:oe,selectors:[["app-root"]],decls:2,vars:0,template:function(pe,Re){1&pe&&(f.TgZ(0,"ion-app"),f._UZ(1,"ion-router-outlet"),f.qZA())},dependencies:[J.dr,J.jP]}),ot})();var he=k(7398),Ue=k(6949),Ae=k(4532);const be=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.all([k.e(581),k.e(8592),k.e(5607)]).then(k.bind(k,5607)).then(oe=>oe.AuthPageModule),canActivate:[(()=>{var oe;class ot{constructor(pe,Re){this.firebaseSvc=pe,this.utilSvc=Re}canActivate(pe,Re){return this.firebaseSvc.getAuthState().pipe((0,he.U)(ke=>!ke||(this.utilSvc.routerLink("/tabs/home"),!1)))}}return(oe=ot).\u0275fac=function(pe){return new(pe||oe)(f.LFG(Ue.O),f.LFG(Ae.F))},oe.\u0275prov=f.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),ot})()]},{path:"tabs",loadChildren:()=>k.e(3126).then(k.bind(k,3126)).then(oe=>oe.TabsPageModule),canActivate:[(()=>{var oe;class ot{constructor(pe,Re){this.firebaseSvc=pe,this.utilSvc=Re}canActivate(pe,Re){return this.firebaseSvc.getAuthState().pipe((0,he.U)(ke=>!!ke||(this.utilSvc.routerLink("/auth"),!1)))}}return(oe=ot).\u0275fac=function(pe){return new(pe||oe)(f.LFG(Ue.O),f.LFG(Ae.F))},oe.\u0275prov=f.Yz7({token:oe,factory:oe.\u0275fac,providedIn:"root"}),ot})()]}];let Ie=(()=>{var oe;class ot{}return(oe=ot).\u0275fac=function(pe){return new(pe||oe)},oe.\u0275mod=f.oAB({type:oe}),oe.\u0275inj=f.cJS({imports:[W.Bz.forRoot(be,{preloadingStrategy:W.wm}),W.Bz]}),ot})();var Me=k(6304);const Le_firebaseConfig={apiKey:"AIzaSyCaMIciJy4P-uAVoWjj4AgAFfheSTevoVI",authDomain:"tareas-5d222.firebaseapp.com",projectId:"tareas-5d222",storageBucket:"tareas-5d222.appspot.com",messagingSenderId:"1006414140997",appId:"1:1006414140997:web:e893297ed94d22544fb52c"};var rt=k(6796),Te=k(8330);let we=(()=>{var oe;class ot{}return(oe=ot).\u0275fac=function(pe){return new(pe||oe)},oe.\u0275mod=f.oAB({type:oe,bootstrap:[ve]}),oe.\u0275inj=f.cJS({providers:[{provide:W.wN,useClass:J.r4}],imports:[g.b2,J.Pc.forRoot(),Ie,Me.hO.initializeApp(Le_firebaseConfig),rt.ww,Te.yb]}),ot})();(0,f.G48)(),g.q6().bootstrapModule(we).catch(oe=>console.log(oe))},5619:(qt,Ke,k)=>{"use strict";k.d(Ke,{X:()=>f});var g=k(8645);class f extends g.x{constructor(J){super(),this._value=J}get value(){return this.getValue()}_subscribe(J){const Ce=super._subscribe(J);return!Ce.closed&&J.next(this._value),Ce}getValue(){const{hasError:J,thrownError:Ce,_value:ve}=this;if(J)throw Ce;return this._throwIfClosed(),ve}next(J){super.next(this._value=J)}}},5592:(qt,Ke,k)=>{"use strict";k.d(Ke,{y:()=>Ue});var g=k(1887),f=k(7394),W=k(4850),J=k(8407),Ce=k(2653),ve=k(4674),he=k(1441);let Ue=(()=>{class be{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Le=new be;return Le.source=this,Le.operator=Me,Le}subscribe(Me,Le,rt){const Te=function Q(be){return be&&be instanceof g.Lv||function fe(be){return be&&(0,ve.m)(be.next)&&(0,ve.m)(be.error)&&(0,ve.m)(be.complete)}(be)&&(0,f.Nn)(be)}(Me)?Me:new g.Hp(Me,Le,rt);return(0,he.x)(()=>{const{operator:we,source:oe}=this;Te.add(we?we.call(Te,oe):oe?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Le){Me.error(Le)}}forEach(Me,Le){return new(Le=Ae(Le))((rt,Te)=>{const we=new g.Hp({next:oe=>{try{Me(oe)}catch(ot){Te(ot),we.unsubscribe()}},error:Te,complete:rt});this.subscribe(we)})}_subscribe(Me){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Me)}[W.L](){return this}pipe(...Me){return(0,J.U)(Me)(this)}toPromise(Me){return new(Me=Ae(Me))((Le,rt)=>{let Te;this.subscribe(we=>Te=we,we=>rt(we),()=>Le(Te))})}}return be.create=Ie=>new be(Ie),be})();function Ae(be){var Ie;return null!==(Ie=null!=be?be:Ce.config.Promise)&&void 0!==Ie?Ie:Promise}},8645:(qt,Ke,k)=>{"use strict";k.d(Ke,{x:()=>he});var g=k(5592),f=k(7394);const J=(0,k(2306).d)(Ae=>function(){Ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ce=k(9039),ve=k(1441);let he=(()=>{class Ae extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Q){const be=new Ue(this,this);return be.operator=Q,be}_throwIfClosed(){if(this.closed)throw new J}next(Q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(Q)}})}error(Q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Q;const{observers:be}=this;for(;be.length;)be.shift().error(Q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Q}=this;for(;Q.length;)Q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Q;return(null===(Q=this.observers)||void 0===Q?void 0:Q.length)>0}_trySubscribe(Q){return this._throwIfClosed(),super._trySubscribe(Q)}_subscribe(Q){return this._throwIfClosed(),this._checkFinalizedStatuses(Q),this._innerSubscribe(Q)}_innerSubscribe(Q){const{hasError:be,isStopped:Ie,observers:Me}=this;return be||Ie?f.Lc:(this.currentObservers=null,Me.push(Q),new f.w0(()=>{this.currentObservers=null,(0,Ce.P)(Me,Q)}))}_checkFinalizedStatuses(Q){const{hasError:be,thrownError:Ie,isStopped:Me}=this;be?Q.error(Ie):Me&&Q.complete()}asObservable(){const Q=new g.y;return Q.source=this,Q}}return Ae.create=(fe,Q)=>new Ue(fe,Q),Ae})();class Ue extends he{constructor(fe,Q){super(),this.destination=fe,this.source=Q}next(fe){var Q,be;null===(be=null===(Q=this.destination)||void 0===Q?void 0:Q.next)||void 0===be||be.call(Q,fe)}error(fe){var Q,be;null===(be=null===(Q=this.destination)||void 0===Q?void 0:Q.error)||void 0===be||be.call(Q,fe)}complete(){var fe,Q;null===(Q=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===Q||Q.call(fe)}_subscribe(fe){var Q,be;return null!==(be=null===(Q=this.source)||void 0===Q?void 0:Q.subscribe(fe))&&void 0!==be?be:f.Lc}}},1887:(qt,Ke,k)=>{"use strict";k.d(Ke,{Hp:()=>rt,Lv:()=>be});var g=k(4674),f=k(7394),W=k(2653),J=k(3894);function Ce(){}const ve=Ae("C",void 0,void 0);function Ae(He,pe,Re){return{kind:He,value:pe,error:Re}}var fe=k(7599),Q=k(1441);class be extends f.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,f.Nn)(pe)&&pe.add(this)):this.destination=ot}static create(pe,Re,ke){return new rt(pe,Re,ke)}next(pe){this.isStopped?oe(function Ue(He){return Ae("N",He,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?oe(function he(He){return Ae("E",void 0,He)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?oe(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ie=Function.prototype.bind;function Me(He,pe){return Ie.call(He,pe)}class Le{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:Re}=this;if(Re.next)try{Re.next(pe)}catch(ke){Te(ke)}}error(pe){const{partialObserver:Re}=this;if(Re.error)try{Re.error(pe)}catch(ke){Te(ke)}else Te(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(Re){Te(Re)}}}class rt extends be{constructor(pe,Re,ke){let Ee;if(super(),(0,g.m)(pe)||!pe)Ee={next:null!=pe?pe:void 0,error:null!=Re?Re:void 0,complete:null!=ke?ke:void 0};else{let te;this&&W.config.useDeprecatedNextContext?(te=Object.create(pe),te.unsubscribe=()=>this.unsubscribe(),Ee={next:pe.next&&Me(pe.next,te),error:pe.error&&Me(pe.error,te),complete:pe.complete&&Me(pe.complete,te)}):Ee=pe}this.destination=new Le(Ee)}}function Te(He){W.config.useDeprecatedSynchronousErrorHandling?(0,Q.O)(He):(0,J.h)(He)}function oe(He,pe){const{onStoppedNotification:Re}=W.config;Re&&fe.z.setTimeout(()=>Re(He,pe))}const ot={closed:!0,next:Ce,error:function we(He){throw He},complete:Ce}},7394:(qt,Ke,k)=>{"use strict";k.d(Ke,{Lc:()=>ve,w0:()=>Ce,Nn:()=>he});var g=k(4674);const W=(0,k(2306).d)(Ae=>function(Q){Ae(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((be,Ie)=>`${Ie+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q});var J=k(9039);class Ce{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:Q}=this;if(Q)if(this._parentage=null,Array.isArray(Q))for(const Me of Q)Me.remove(this);else Q.remove(this);const{initialTeardown:be}=this;if((0,g.m)(be))try{be()}catch(Me){fe=Me instanceof W?Me.errors:[Me]}const{_finalizers:Ie}=this;if(Ie){this._finalizers=null;for(const Me of Ie)try{Ue(Me)}catch(Le){fe=null!=fe?fe:[],Le instanceof W?fe=[...fe,...Le.errors]:fe.push(Le)}}if(fe)throw new W(fe)}}add(fe){var Q;if(fe&&fe!==this)if(this.closed)Ue(fe);else{if(fe instanceof Ce){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(Q=this._finalizers)&&void 0!==Q?Q:[]).push(fe)}}_hasParent(fe){const{_parentage:Q}=this;return Q===fe||Array.isArray(Q)&&Q.includes(fe)}_addParent(fe){const{_parentage:Q}=this;this._parentage=Array.isArray(Q)?(Q.push(fe),Q):Q?[Q,fe]:fe}_removeParent(fe){const{_parentage:Q}=this;Q===fe?this._parentage=null:Array.isArray(Q)&&(0,J.P)(Q,fe)}remove(fe){const{_finalizers:Q}=this;Q&&(0,J.P)(Q,fe),fe instanceof Ce&&fe._removeParent(this)}}Ce.EMPTY=(()=>{const Ae=new Ce;return Ae.closed=!0,Ae})();const ve=Ce.EMPTY;function he(Ae){return Ae instanceof Ce||Ae&&"closed"in Ae&&(0,g.m)(Ae.remove)&&(0,g.m)(Ae.add)&&(0,g.m)(Ae.unsubscribe)}function Ue(Ae){(0,g.m)(Ae)?Ae():Ae.unsubscribe()}},2653:(qt,Ke,k)=>{"use strict";k.d(Ke,{config:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2572:(qt,Ke,k)=>{"use strict";k.d(Ke,{a:()=>fe});var g=k(5592),f=k(7453),W=k(2459),J=k(2737),Ce=k(7400),ve=k(9940),he=k(2714),Ue=k(8251),Ae=k(7103);function fe(...Ie){const Me=(0,ve.yG)(Ie),Le=(0,ve.jO)(Ie),{args:rt,keys:Te}=(0,f.D)(Ie);if(0===rt.length)return(0,W.D)([],Me);const we=new g.y(function Q(Ie,Me,Le=J.y){return rt=>{be(Me,()=>{const{length:Te}=Ie,we=new Array(Te);let oe=Te,ot=Te;for(let He=0;He<Te;He++)be(Me,()=>{const pe=(0,W.D)(Ie[He],Me);let Re=!1;pe.subscribe((0,Ue.x)(rt,ke=>{we[He]=ke,Re||(Re=!0,ot--),ot||rt.next(Le(we.slice()))},()=>{--oe||rt.complete()}))},rt)},rt)}}(rt,Me,Te?oe=>(0,he.n)(Te,oe):J.y));return Le?we.pipe((0,Ce.Z)(Le)):we}function be(Ie,Me,Le){Ie?(0,Ae.f)(Le,Ie,Me):Me()}},5211:(qt,Ke,k)=>{"use strict";k.d(Ke,{z:()=>Ce});var g=k(7537),W=k(9940),J=k(2459);function Ce(...ve){return function f(){return(0,g.J)(1)}()((0,J.D)(ve,(0,W.yG)(ve)))}},6232:(qt,Ke,k)=>{"use strict";k.d(Ke,{E:()=>f});const f=new(k(5592).y)(Ce=>Ce.complete())},2459:(qt,Ke,k)=>{"use strict";k.d(Ke,{D:()=>pe});var g=k(4829),f=k(3093),W=k(5137),ve=k(5592),Ue=k(4971),Ae=k(4674),fe=k(7103);function be(Re,ke){if(!Re)throw new Error("Iterable cannot be null");return new ve.y(Ee=>{(0,fe.f)(Ee,ke,()=>{const te=Re[Symbol.asyncIterator]();(0,fe.f)(Ee,ke,()=>{te.next().then(dt=>{dt.done?Ee.complete():Ee.next(dt.value)})},0,!0)})})}var Ie=k(8382),Me=k(4026),Le=k(4266),rt=k(3664),Te=k(5726),we=k(9853),oe=k(541);function pe(Re,ke){return ke?function He(Re,ke){if(null!=Re){if((0,Ie.c)(Re))return function J(Re,ke){return(0,g.Xf)(Re).pipe((0,W.R)(ke),(0,f.Q)(ke))}(Re,ke);if((0,Le.z)(Re))return function he(Re,ke){return new ve.y(Ee=>{let te=0;return ke.schedule(function(){te===Re.length?Ee.complete():(Ee.next(Re[te++]),Ee.closed||this.schedule())})})}(Re,ke);if((0,Me.t)(Re))return function Ce(Re,ke){return(0,g.Xf)(Re).pipe((0,W.R)(ke),(0,f.Q)(ke))}(Re,ke);if((0,Te.D)(Re))return be(Re,ke);if((0,rt.T)(Re))return function Q(Re,ke){return new ve.y(Ee=>{let te;return(0,fe.f)(Ee,ke,()=>{te=Re[Ue.h](),(0,fe.f)(Ee,ke,()=>{let dt,Ve;try{({value:dt,done:Ve}=te.next())}catch(st){return void Ee.error(st)}Ve?Ee.complete():Ee.next(dt)},0,!0)}),()=>(0,Ae.m)(null==te?void 0:te.return)&&te.return()})}(Re,ke);if((0,oe.L)(Re))return function ot(Re,ke){return be((0,oe.Q)(Re),ke)}(Re,ke)}throw(0,we.z)(Re)}(Re,ke):(0,g.Xf)(Re)}},4829:(qt,Ke,k)=>{"use strict";k.d(Ke,{Xf:()=>Ie});var g=k(7582),f=k(4266),W=k(4026),J=k(5592),Ce=k(8382),ve=k(5726),he=k(9853),Ue=k(3664),Ae=k(541),fe=k(4674),Q=k(3894),be=k(4850);function Ie(He){if(He instanceof J.y)return He;if(null!=He){if((0,Ce.c)(He))return function Me(He){return new J.y(pe=>{const Re=He[be.L]();if((0,fe.m)(Re.subscribe))return Re.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,f.z)(He))return function Le(He){return new J.y(pe=>{for(let Re=0;Re<He.length&&!pe.closed;Re++)pe.next(He[Re]);pe.complete()})}(He);if((0,W.t)(He))return function rt(He){return new J.y(pe=>{He.then(Re=>{pe.closed||(pe.next(Re),pe.complete())},Re=>pe.error(Re)).then(null,Q.h)})}(He);if((0,ve.D)(He))return we(He);if((0,Ue.T)(He))return function Te(He){return new J.y(pe=>{for(const Re of He)if(pe.next(Re),pe.closed)return;pe.complete()})}(He);if((0,Ae.L)(He))return function oe(He){return we((0,Ae.Q)(He))}(He)}throw(0,he.z)(He)}function we(He){return new J.y(pe=>{(function ot(He,pe){var Re,ke,Ee,te;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Re=(0,g.KL)(He);!(ke=yield Re.next()).done;)if(pe.next(ke.value),pe.closed)return}catch(dt){Ee={error:dt}}finally{try{ke&&!ke.done&&(te=Re.return)&&(yield te.call(Re))}finally{if(Ee)throw Ee.error}}pe.complete()})})(He,pe).catch(Re=>pe.error(Re))})}},3019:(qt,Ke,k)=>{"use strict";k.d(Ke,{T:()=>ve});var g=k(7537),f=k(4829),W=k(6232),J=k(9940),Ce=k(2459);function ve(...he){const Ue=(0,J.yG)(he),Ae=(0,J._6)(he,1/0),fe=he;return fe.length?1===fe.length?(0,f.Xf)(fe[0]):(0,g.J)(Ae)((0,Ce.D)(fe,Ue)):W.E}},2096:(qt,Ke,k)=>{"use strict";k.d(Ke,{of:()=>W});var g=k(9940),f=k(2459);function W(...J){const Ce=(0,g.yG)(J);return(0,f.D)(J,Ce)}},8251:(qt,Ke,k)=>{"use strict";k.d(Ke,{x:()=>f});var g=k(1887);function f(J,Ce,ve,he,Ue){return new W(J,Ce,ve,he,Ue)}class W extends g.Lv{constructor(Ce,ve,he,Ue,Ae,fe){super(Ce),this.onFinalize=Ae,this.shouldUnsubscribe=fe,this._next=ve?function(Q){try{ve(Q)}catch(be){Ce.error(be)}}:super._next,this._error=Ue?function(Q){try{Ue(Q)}catch(be){Ce.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(Q){Ce.error(Q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(Ce=this.onFinalize)||void 0===Ce||Ce.call(this))}}}},3572:(qt,Ke,k)=>{"use strict";k.d(Ke,{d:()=>W});var g=k(9360),f=k(8251);function W(J){return(0,g.e)((Ce,ve)=>{let he=!1;Ce.subscribe((0,f.x)(ve,Ue=>{he=!0,ve.next(Ue)},()=>{he||ve.next(J),ve.complete()}))})}},3997:(qt,Ke,k)=>{"use strict";k.d(Ke,{x:()=>J});var g=k(2737),f=k(9360),W=k(8251);function J(ve,he=g.y){return ve=null!=ve?ve:Ce,(0,f.e)((Ue,Ae)=>{let fe,Q=!0;Ue.subscribe((0,W.x)(Ae,be=>{const Ie=he(be);(Q||!ve(fe,Ie))&&(Q=!1,fe=Ie,Ae.next(be))}))})}function Ce(ve,he){return ve===he}},2181:(qt,Ke,k)=>{"use strict";k.d(Ke,{h:()=>W});var g=k(9360),f=k(8251);function W(J,Ce){return(0,g.e)((ve,he)=>{let Ue=0;ve.subscribe((0,f.x)(he,Ae=>J.call(Ce,Ae,Ue++)&&he.next(Ae)))})}},1374:(qt,Ke,k)=>{"use strict";k.d(Ke,{P:()=>he});var g=k(6973),f=k(2181),W=k(8180),J=k(3572),Ce=k(3026),ve=k(2737);function he(Ue,Ae){const fe=arguments.length>=2;return Q=>Q.pipe(Ue?(0,f.h)((be,Ie)=>Ue(be,Ie,Q)):ve.y,(0,W.q)(1),fe?(0,J.d)(Ae):(0,Ce.T)(()=>new g.K))}},7398:(qt,Ke,k)=>{"use strict";k.d(Ke,{U:()=>W});var g=k(9360),f=k(8251);function W(J,Ce){return(0,g.e)((ve,he)=>{let Ue=0;ve.subscribe((0,f.x)(he,Ae=>{he.next(J.call(Ce,Ae,Ue++))}))})}},7537:(qt,Ke,k)=>{"use strict";k.d(Ke,{J:()=>W});var g=k(1631),f=k(2737);function W(J=1/0){return(0,g.z)(f.y,J)}},1631:(qt,Ke,k)=>{"use strict";k.d(Ke,{z:()=>Ue});var g=k(7398),f=k(4829),W=k(9360),J=k(7103),Ce=k(8251),he=k(4674);function Ue(Ae,fe,Q=1/0){return(0,he.m)(fe)?Ue((be,Ie)=>(0,g.U)((Me,Le)=>fe(be,Me,Ie,Le))((0,f.Xf)(Ae(be,Ie))),Q):("number"==typeof fe&&(Q=fe),(0,W.e)((be,Ie)=>function ve(Ae,fe,Q,be,Ie,Me,Le,rt){const Te=[];let we=0,oe=0,ot=!1;const He=()=>{ot&&!Te.length&&!we&&fe.complete()},pe=ke=>we<be?Re(ke):Te.push(ke),Re=ke=>{Me&&fe.next(ke),we++;let Ee=!1;(0,f.Xf)(Q(ke,oe++)).subscribe((0,Ce.x)(fe,te=>{null==Ie||Ie(te),Me?pe(te):fe.next(te)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(we--;Te.length&&we<be;){const te=Te.shift();Le?(0,J.f)(fe,Le,()=>Re(te)):Re(te)}He()}catch(te){fe.error(te)}}))};return Ae.subscribe((0,Ce.x)(fe,pe,()=>{ot=!0,He()})),()=>{null==rt||rt()}}(be,Ie,Ae,Q)))}},3093:(qt,Ke,k)=>{"use strict";k.d(Ke,{Q:()=>J});var g=k(7103),f=k(9360),W=k(8251);function J(Ce,ve=0){return(0,f.e)((he,Ue)=>{he.subscribe((0,W.x)(Ue,Ae=>(0,g.f)(Ue,Ce,()=>Ue.next(Ae),ve),()=>(0,g.f)(Ue,Ce,()=>Ue.complete(),ve),Ae=>(0,g.f)(Ue,Ce,()=>Ue.error(Ae),ve)))})}},6699:(qt,Ke,k)=>{"use strict";k.d(Ke,{R:()=>J});var g=k(9360),f=k(8251);function J(Ce,ve){return(0,g.e)(function W(Ce,ve,he,Ue,Ae){return(fe,Q)=>{let be=he,Ie=ve,Me=0;fe.subscribe((0,f.x)(Q,Le=>{const rt=Me++;Ie=be?Ce(Ie,Le,rt):(be=!0,Le),Ue&&Q.next(Ie)},Ae&&(()=>{be&&Q.next(Ie),Q.complete()})))}}(Ce,ve,arguments.length>=2,!0))}},3020:(qt,Ke,k)=>{"use strict";k.d(Ke,{B:()=>Ce});var g=k(4829),f=k(8645),W=k(1887),J=k(9360);function Ce(he={}){const{connector:Ue=(()=>new f.x),resetOnError:Ae=!0,resetOnComplete:fe=!0,resetOnRefCountZero:Q=!0}=he;return be=>{let Ie,Me,Le,rt=0,Te=!1,we=!1;const oe=()=>{null==Me||Me.unsubscribe(),Me=void 0},ot=()=>{oe(),Ie=Le=void 0,Te=we=!1},He=()=>{const pe=Ie;ot(),null==pe||pe.unsubscribe()};return(0,J.e)((pe,Re)=>{rt++,!we&&!Te&&oe();const ke=Le=null!=Le?Le:Ue();Re.add(()=>{rt--,0===rt&&!we&&!Te&&(Me=ve(He,Q))}),ke.subscribe(Re),!Ie&&rt>0&&(Ie=new W.Hp({next:Ee=>ke.next(Ee),error:Ee=>{we=!0,oe(),Me=ve(ot,Ae,Ee),ke.error(Ee)},complete:()=>{Te=!0,oe(),Me=ve(ot,fe),ke.complete()}}),(0,g.Xf)(pe).subscribe(Ie))})(be)}}function ve(he,Ue,...Ae){if(!0===Ue)return void he();if(!1===Ue)return;const fe=new W.Hp({next:()=>{fe.unsubscribe(),he()}});return(0,g.Xf)(Ue(...Ae)).subscribe(fe)}},7921:(qt,Ke,k)=>{"use strict";k.d(Ke,{O:()=>J});var g=k(5211),f=k(9940),W=k(9360);function J(...Ce){const ve=(0,f.yG)(Ce);return(0,W.e)((he,Ue)=>{(ve?(0,g.z)(Ce,he,ve):(0,g.z)(Ce,he)).subscribe(Ue)})}},5137:(qt,Ke,k)=>{"use strict";k.d(Ke,{R:()=>f});var g=k(9360);function f(W,J=0){return(0,g.e)((Ce,ve)=>{ve.add(W.schedule(()=>Ce.subscribe(ve),J))})}},4664:(qt,Ke,k)=>{"use strict";k.d(Ke,{w:()=>J});var g=k(4829),f=k(9360),W=k(8251);function J(Ce,ve){return(0,f.e)((he,Ue)=>{let Ae=null,fe=0,Q=!1;const be=()=>Q&&!Ae&&Ue.complete();he.subscribe((0,W.x)(Ue,Ie=>{null==Ae||Ae.unsubscribe();let Me=0;const Le=fe++;(0,g.Xf)(Ce(Ie,Le)).subscribe(Ae=(0,W.x)(Ue,rt=>Ue.next(ve?ve(Ie,rt,Le,Me++):rt),()=>{Ae=null,be()}))},()=>{Q=!0,be()}))})}},8180:(qt,Ke,k)=>{"use strict";k.d(Ke,{q:()=>J});var g=k(6232),f=k(9360),W=k(8251);function J(Ce){return Ce<=0?()=>g.E:(0,f.e)((ve,he)=>{let Ue=0;ve.subscribe((0,W.x)(he,Ae=>{++Ue<=Ce&&(he.next(Ae),Ce<=Ue&&he.complete())}))})}},9397:(qt,Ke,k)=>{"use strict";k.d(Ke,{b:()=>Ce});var g=k(4674),f=k(9360),W=k(8251),J=k(2737);function Ce(ve,he,Ue){const Ae=(0,g.m)(ve)||he||Ue?{next:ve,error:he,complete:Ue}:ve;return Ae?(0,f.e)((fe,Q)=>{var be;null===(be=Ae.subscribe)||void 0===be||be.call(Ae);let Ie=!0;fe.subscribe((0,W.x)(Q,Me=>{var Le;null===(Le=Ae.next)||void 0===Le||Le.call(Ae,Me),Q.next(Me)},()=>{var Me;Ie=!1,null===(Me=Ae.complete)||void 0===Me||Me.call(Ae),Q.complete()},Me=>{var Le;Ie=!1,null===(Le=Ae.error)||void 0===Le||Le.call(Ae,Me),Q.error(Me)},()=>{var Me,Le;Ie&&(null===(Me=Ae.unsubscribe)||void 0===Me||Me.call(Ae)),null===(Le=Ae.finalize)||void 0===Le||Le.call(Ae)}))}):J.y}},3026:(qt,Ke,k)=>{"use strict";k.d(Ke,{T:()=>J});var g=k(6973),f=k(9360),W=k(8251);function J(ve=Ce){return(0,f.e)((he,Ue)=>{let Ae=!1;he.subscribe((0,W.x)(Ue,fe=>{Ae=!0,Ue.next(fe)},()=>Ae?Ue.complete():Ue.error(ve())))})}function Ce(){return new g.K}},1954:(qt,Ke,k)=>{"use strict";k.d(Ke,{o:()=>Ce});var g=k(7394);class f extends g.w0{constructor(he,Ue){super()}schedule(he,Ue=0){return this}}const W={setInterval(ve,he,...Ue){const{delegate:Ae}=W;return null!=Ae&&Ae.setInterval?Ae.setInterval(ve,he,...Ue):setInterval(ve,he,...Ue)},clearInterval(ve){const{delegate:he}=W;return((null==he?void 0:he.clearInterval)||clearInterval)(ve)},delegate:void 0};var J=k(9039);class Ce extends f{constructor(he,Ue){super(he,Ue),this.scheduler=he,this.work=Ue,this.pending=!1}schedule(he,Ue=0){var Ae;if(this.closed)return this;this.state=he;const fe=this.id,Q=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(Q,fe,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(Ae=this.id)&&void 0!==Ae?Ae:this.requestAsyncId(Q,this.id,Ue),this}requestAsyncId(he,Ue,Ae=0){return W.setInterval(he.flush.bind(he,this),Ae)}recycleAsyncId(he,Ue,Ae=0){if(null!=Ae&&this.delay===Ae&&!1===this.pending)return Ue;null!=Ue&&W.clearInterval(Ue)}execute(he,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ae=this._execute(he,Ue);if(Ae)return Ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,Ue){let fe,Ae=!1;try{this.work(he)}catch(Q){Ae=!0,fe=Q||new Error("Scheduled action threw falsy error")}if(Ae)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:he,scheduler:Ue}=this,{actions:Ae}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(Ae,this),null!=he&&(this.id=this.recycleAsyncId(Ue,he,null)),this.delay=null,super.unsubscribe()}}}},2631:(qt,Ke,k)=>{"use strict";k.d(Ke,{v:()=>W});var g=k(4552);class f{constructor(Ce,ve=f.now){this.schedulerActionCtor=Ce,this.now=ve}schedule(Ce,ve=0,he){return new this.schedulerActionCtor(this,Ce).schedule(he,ve)}}f.now=g.l.now;class W extends f{constructor(Ce,ve=f.now){super(Ce,ve),this.actions=[],this._active=!1}flush(Ce){const{actions:ve}=this;if(this._active)return void ve.push(Ce);let he;this._active=!0;do{if(he=Ce.execute(Ce.state,Ce.delay))break}while(Ce=ve.shift());if(this._active=!1,he){for(;Ce=ve.shift();)Ce.unsubscribe();throw he}}}},6321:(qt,Ke,k)=>{"use strict";k.d(Ke,{P:()=>J,z:()=>W});var g=k(1954);const W=new(k(2631).v)(g.o),J=W},4552:(qt,Ke,k)=>{"use strict";k.d(Ke,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},7599:(qt,Ke,k)=>{"use strict";k.d(Ke,{z:()=>g});const g={setTimeout(f,W,...J){const{delegate:Ce}=g;return null!=Ce&&Ce.setTimeout?Ce.setTimeout(f,W,...J):setTimeout(f,W,...J)},clearTimeout(f){const{delegate:W}=g;return((null==W?void 0:W.clearTimeout)||clearTimeout)(f)},delegate:void 0}},4971:(qt,Ke,k)=>{"use strict";k.d(Ke,{h:()=>f});const f=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(qt,Ke,k)=>{"use strict";k.d(Ke,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(qt,Ke,k)=>{"use strict";k.d(Ke,{K:()=>f});const f=(0,k(2306).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(qt,Ke,k)=>{"use strict";k.d(Ke,{_6:()=>ve,jO:()=>J,yG:()=>Ce});var g=k(4674),f=k(671);function W(he){return he[he.length-1]}function J(he){return(0,g.m)(W(he))?he.pop():void 0}function Ce(he){return(0,f.K)(W(he))?he.pop():void 0}function ve(he,Ue){return"number"==typeof W(he)?he.pop():Ue}},7453:(qt,Ke,k)=>{"use strict";k.d(Ke,{D:()=>Ce});const{isArray:g}=Array,{getPrototypeOf:f,prototype:W,keys:J}=Object;function Ce(he){if(1===he.length){const Ue=he[0];if(g(Ue))return{args:Ue,keys:null};if(function ve(he){return he&&"object"==typeof he&&f(he)===W}(Ue)){const Ae=J(Ue);return{args:Ae.map(fe=>Ue[fe]),keys:Ae}}}return{args:he,keys:null}}},9039:(qt,Ke,k)=>{"use strict";function g(f,W){if(f){const J=f.indexOf(W);0<=J&&f.splice(J,1)}}k.d(Ke,{P:()=>g})},2306:(qt,Ke,k)=>{"use strict";function g(f){const J=f(Ce=>{Error.call(Ce),Ce.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}k.d(Ke,{d:()=>g})},2714:(qt,Ke,k)=>{"use strict";function g(f,W){return f.reduce((J,Ce,ve)=>(J[Ce]=W[ve],J),{})}k.d(Ke,{n:()=>g})},1441:(qt,Ke,k)=>{"use strict";k.d(Ke,{O:()=>J,x:()=>W});var g=k(2653);let f=null;function W(Ce){if(g.config.useDeprecatedSynchronousErrorHandling){const ve=!f;if(ve&&(f={errorThrown:!1,error:null}),Ce(),ve){const{errorThrown:he,error:Ue}=f;if(f=null,he)throw Ue}}else Ce()}function J(Ce){g.config.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=Ce)}},7103:(qt,Ke,k)=>{"use strict";function g(f,W,J,Ce=0,ve=!1){const he=W.schedule(function(){J(),ve?f.add(this.schedule(null,Ce)):this.unsubscribe()},Ce);if(f.add(he),!ve)return he}k.d(Ke,{f:()=>g})},2737:(qt,Ke,k)=>{"use strict";function g(f){return f}k.d(Ke,{y:()=>g})},4266:(qt,Ke,k)=>{"use strict";k.d(Ke,{z:()=>g});const g=f=>f&&"number"==typeof f.length&&"function"!=typeof f},5726:(qt,Ke,k)=>{"use strict";k.d(Ke,{D:()=>f});var g=k(4674);function f(W){return Symbol.asyncIterator&&(0,g.m)(null==W?void 0:W[Symbol.asyncIterator])}},4674:(qt,Ke,k)=>{"use strict";function g(f){return"function"==typeof f}k.d(Ke,{m:()=>g})},8382:(qt,Ke,k)=>{"use strict";k.d(Ke,{c:()=>W});var g=k(4850),f=k(4674);function W(J){return(0,f.m)(J[g.L])}},3664:(qt,Ke,k)=>{"use strict";k.d(Ke,{T:()=>W});var g=k(4971),f=k(4674);function W(J){return(0,f.m)(null==J?void 0:J[g.h])}},4026:(qt,Ke,k)=>{"use strict";k.d(Ke,{t:()=>f});var g=k(4674);function f(W){return(0,g.m)(null==W?void 0:W.then)}},541:(qt,Ke,k)=>{"use strict";k.d(Ke,{L:()=>J,Q:()=>W});var g=k(7582),f=k(4674);function W(Ce){return(0,g.FC)(this,arguments,function*(){const he=Ce.getReader();try{for(;;){const{value:Ue,done:Ae}=yield(0,g.qq)(he.read());if(Ae)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ue)}}finally{he.releaseLock()}})}function J(Ce){return(0,f.m)(null==Ce?void 0:Ce.getReader)}},671:(qt,Ke,k)=>{"use strict";k.d(Ke,{K:()=>f});var g=k(4674);function f(W){return W&&(0,g.m)(W.schedule)}},9360:(qt,Ke,k)=>{"use strict";k.d(Ke,{A:()=>f,e:()=>W});var g=k(4674);function f(J){return(0,g.m)(null==J?void 0:J.lift)}function W(J){return Ce=>{if(f(Ce))return Ce.lift(function(ve){try{return J(ve,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(qt,Ke,k)=>{"use strict";k.d(Ke,{Z:()=>J});var g=k(7398);const{isArray:f}=Array;function J(Ce){return(0,g.U)(ve=>function W(Ce,ve){return f(ve)?Ce(...ve):Ce(ve)}(Ce,ve))}},8407:(qt,Ke,k)=>{"use strict";k.d(Ke,{U:()=>W,z:()=>f});var g=k(2737);function f(...J){return W(J)}function W(J){return 0===J.length?g.y:1===J.length?J[0]:function(ve){return J.reduce((he,Ue)=>Ue(he),ve)}}},3894:(qt,Ke,k)=>{"use strict";k.d(Ke,{h:()=>W});var g=k(2653),f=k(7599);function W(J){f.z.setTimeout(()=>{const{onUnhandledError:Ce}=g.config;if(!Ce)throw J;Ce(J)})}},9853:(qt,Ke,k)=>{"use strict";function g(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ke,{z:()=>g})},863:(qt,Ke,k)=>{var g={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[7068,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,982,433],"./ion-datetime_3.entry.js":[7059,982,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function f(W){if(!k.o(g,W))return Promise.resolve().then(()=>{var ve=new Error("Cannot find module '"+W+"'");throw ve.code="MODULE_NOT_FOUND",ve});var J=g[W],Ce=J[0];return Promise.all(J.slice(1).map(k.e)).then(()=>k(Ce))}f.keys=()=>Object.keys(g),f.id=863,qt.exports=f},6814:(qt,Ke,k)=>{"use strict";k.d(Ke,{Do:()=>rt,EM:()=>no,HT:()=>J,JF:()=>Eo,K0:()=>ve,Mx:()=>er,O5:()=>Ni,OU:()=>Go,PM:()=>No,S$:()=>Ie,V_:()=>Ue,Ye:()=>Te,b0:()=>Le,bD:()=>ri,ez:()=>rs,mk:()=>lo,q:()=>W,sg:()=>Kr,tP:()=>Mt,w_:()=>Ce});var g=k(5879);let f=null;function W(){return f}function J(b){f||(f=b)}class Ce{}const ve=new g.OlP("DocumentToken");let he=(()=>{var b;class j{historyGo(L){throw new Error("Not implemented")}}return(b=j).\u0275fac=function(L){return new(L||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(Ae)},providedIn:"platform"}),j})();const Ue=new g.OlP("Location Initialized");let Ae=(()=>{var b;class j extends he{constructor(){super(),this._doc=(0,g.f3M)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(L){const ae=W().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("popstate",L,!1),()=>ae.removeEventListener("popstate",L)}onHashChange(L){const ae=W().getGlobalEventTarget(this._doc,"window");return ae.addEventListener("hashchange",L,!1),()=>ae.removeEventListener("hashchange",L)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(L){this._location.pathname=L}pushState(L,ae,$e){this._history.pushState(L,ae,$e)}replaceState(L,ae,$e){this._history.replaceState(L,ae,$e)}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return(b=j).\u0275fac=function(L){return new(L||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return new b},providedIn:"platform"}),j})();function fe(b,j){if(0==b.length)return j;if(0==j.length)return b;let De=0;return b.endsWith("/")&&De++,j.startsWith("/")&&De++,2==De?b+j.substring(1):1==De?b+j:b+"/"+j}function Q(b){const j=b.match(/#|\?|$/),De=j&&j.index||b.length;return b.slice(0,De-("/"===b[De-1]?1:0))+b.slice(De)}function be(b){return b&&"?"!==b[0]?"?"+b:b}let Ie=(()=>{var b;class j{historyGo(L){throw new Error("Not implemented")}}return(b=j).\u0275fac=function(L){return new(L||b)},b.\u0275prov=g.Yz7({token:b,factory:function(){return(0,g.f3M)(Le)},providedIn:"root"}),j})();const Me=new g.OlP("appBaseHref");let Le=(()=>{var b;class j extends Ie{constructor(L,ae){var $e,bt,Kt;super(),this._platformLocation=L,this._removeListenerFns=[],this._baseHref=null!==($e=null!==(bt=null!=ae?ae:this._platformLocation.getBaseHrefFromDOM())&&void 0!==bt?bt:null===(Kt=(0,g.f3M)(ve).location)||void 0===Kt?void 0:Kt.origin)&&void 0!==$e?$e:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return fe(this._baseHref,L)}path(L=!1){const ae=this._platformLocation.pathname+be(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&L?`${ae}${$e}`:ae}pushState(L,ae,$e,bt){const Kt=this.prepareExternalUrl($e+be(bt));this._platformLocation.pushState(L,ae,Kt)}replaceState(L,ae,$e,bt){const Kt=this.prepareExternalUrl($e+be(bt));this._platformLocation.replaceState(L,ae,Kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){var ae,$e;null===(ae=($e=this._platformLocation).historyGo)||void 0===ae||ae.call($e,L)}}return(b=j).\u0275fac=function(L){return new(L||b)(g.LFG(he),g.LFG(Me,8))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),j})(),rt=(()=>{var b;class j extends Ie{constructor(L,ae){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=ae&&(this._baseHref=ae)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let ae=this._platformLocation.hash;return null==ae&&(ae="#"),ae.length>0?ae.substring(1):ae}prepareExternalUrl(L){const ae=fe(this._baseHref,L);return ae.length>0?"#"+ae:ae}pushState(L,ae,$e,bt){let Kt=this.prepareExternalUrl($e+be(bt));0==Kt.length&&(Kt=this._platformLocation.pathname),this._platformLocation.pushState(L,ae,Kt)}replaceState(L,ae,$e,bt){let Kt=this.prepareExternalUrl($e+be(bt));0==Kt.length&&(Kt=this._platformLocation.pathname),this._platformLocation.replaceState(L,ae,Kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(L=0){var ae,$e;null===(ae=($e=this._platformLocation).historyGo)||void 0===ae||ae.call($e,L)}}return(b=j).\u0275fac=function(L){return new(L||b)(g.LFG(he),g.LFG(Me,8))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac}),j})(),Te=(()=>{var b;class j{constructor(L){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=L;const ae=this._locationStrategy.getBaseHref();this._basePath=function He(b){if(new RegExp("^(https?:)?//").test(b)){const[,De]=b.split(/\/\/[^\/]+/);return De}return b}(Q(ot(ae))),this._locationStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){var L;null===(L=this._urlChangeSubscription)||void 0===L||L.unsubscribe(),this._urlChangeListeners=[]}path(L=!1){return this.normalize(this._locationStrategy.path(L))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(L,ae=""){return this.path()==this.normalize(L+be(ae))}normalize(L){return j.stripTrailingSlash(function oe(b,j){if(!b||!j.startsWith(b))return j;const De=j.substring(b.length);return""===De||["/",";","?","#"].includes(De[0])?De:j}(this._basePath,ot(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._locationStrategy.prepareExternalUrl(L)}go(L,ae="",$e=null){this._locationStrategy.pushState($e,"",L,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+be(ae)),$e)}replaceState(L,ae="",$e=null){this._locationStrategy.replaceState($e,"",L,ae),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+be(ae)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(L=0){var ae,$e;null===(ae=($e=this._locationStrategy).historyGo)||void 0===ae||ae.call($e,L)}onUrlChange(L){return this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ae=>{this._notifyUrlChangeListeners(ae.url,ae.state)})),()=>{const ae=this._urlChangeListeners.indexOf(L);var $e;this._urlChangeListeners.splice(ae,1),0===this._urlChangeListeners.length&&(null===($e=this._urlChangeSubscription)||void 0===$e||$e.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(L="",ae){this._urlChangeListeners.forEach($e=>$e(L,ae))}subscribe(L,ae,$e){return this._subject.subscribe({next:L,error:ae,complete:$e})}}return(b=j).normalizeQueryParams=be,b.joinWithSlash=fe,b.stripTrailingSlash=Q,b.\u0275fac=function(L){return new(L||b)(g.LFG(Ie))},b.\u0275prov=g.Yz7({token:b,factory:function(){return function we(){return new Te((0,g.LFG)(Ie))}()},providedIn:"root"}),j})();function ot(b){return b.replace(/\/index.html$/,"")}function er(b,j){j=encodeURIComponent(j);for(const De of b.split(";")){const L=De.indexOf("="),[ae,$e]=-1==L?[De,""]:[De.slice(0,L),De.slice(L+1)];if(ae.trim()===j)return decodeURIComponent($e)}return null}const Qn=/\s+/,yo=[];let lo=(()=>{var b;class j{constructor(L,ae,$e,bt){this._iterableDiffers=L,this._keyValueDiffers=ae,this._ngEl=$e,this._renderer=bt,this.initialClasses=yo,this.stateMap=new Map}set klass(L){this.initialClasses=null!=L?L.trim().split(Qn):yo}set ngClass(L){this.rawClass="string"==typeof L?L.trim().split(Qn):L}ngDoCheck(){for(const ae of this.initialClasses)this._updateState(ae,!0);const L=this.rawClass;if(Array.isArray(L)||L instanceof Set)for(const ae of L)this._updateState(ae,!0);else if(null!=L)for(const ae of Object.keys(L))this._updateState(ae,!!L[ae]);this._applyStateDiff()}_updateState(L,ae){const $e=this.stateMap.get(L);void 0!==$e?($e.enabled!==ae&&($e.changed=!0,$e.enabled=ae),$e.touched=!0):this.stateMap.set(L,{enabled:ae,changed:!0,touched:!0})}_applyStateDiff(){for(const L of this.stateMap){const ae=L[0],$e=L[1];$e.changed?(this._toggleClass(ae,$e.enabled),$e.changed=!1):$e.touched||($e.enabled&&this._toggleClass(ae,!1),this.stateMap.delete(ae)),$e.touched=!1}}_toggleClass(L,ae){(L=L.trim()).length>0&&L.split(Qn).forEach($e=>{ae?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return(b=j).\u0275fac=function(L){return new(L||b)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},b.\u0275dir=g.lG2({type:b,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),j})();class Hi{constructor(j,De,L,ae){this.$implicit=j,this.ngForOf=De,this.index=L,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kr=(()=>{var b;class j{set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}constructor(L,ae,$e){this._viewContainer=L,this._template=ae,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const ae=this._viewContainer;L.forEachOperation(($e,bt,Kt)=>{if(null==$e.previousIndex)ae.createEmbeddedView(this._template,new Hi($e.item,this._ngForOf,-1,-1),null===Kt?void 0:Kt);else if(null==Kt)ae.remove(null===bt?void 0:bt);else if(null!==bt){const pr=ae.get(bt);ae.move(pr,Kt),_r(pr,$e)}});for(let $e=0,bt=ae.length;$e<bt;$e++){const pr=ae.get($e).context;pr.index=$e,pr.count=bt,pr.ngForOf=this._ngForOf}L.forEachIdentityChange($e=>{_r(ae.get($e.currentIndex),$e)})}static ngTemplateContextGuard(L,ae){return!0}}return(b=j).\u0275fac=function(L){return new(L||b)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},b.\u0275dir=g.lG2({type:b,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),j})();function _r(b,j){b.context.$implicit=j.item}let Ni=(()=>{var b;class j{constructor(L,ae){this._viewContainer=L,this._context=new mi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ae}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){_o("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){_o("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,ae){return!0}}return(b=j).\u0275fac=function(L){return new(L||b)(g.Y36(g.s_b),g.Y36(g.Rgc))},b.\u0275dir=g.lG2({type:b,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),j})();class mi{constructor(){this.$implicit=null,this.ngIf=null}}function _o(b,j){if(j&&!j.createEmbeddedView)throw new Error(`${b} must be a TemplateRef, but received '${(0,g.AaK)(j)}'.`)}let Mt=(()=>{var b;class j{constructor(L){this._viewContainerRef=L,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(L){if(L.ngTemplateOutlet||L.ngTemplateOutletInjector){const ae=this._viewContainerRef;if(this._viewRef&&ae.remove(ae.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:$e,ngTemplateOutletContext:bt,ngTemplateOutletInjector:Kt}=this;this._viewRef=ae.createEmbeddedView($e,bt,Kt?{injector:Kt}:void 0)}else this._viewRef=null}else this._viewRef&&L.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(b=j).\u0275fac=function(L){return new(L||b)(g.Y36(g.s_b))},b.\u0275dir=g.lG2({type:b,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[g.TTD]}),j})();let Go=(()=>{var b;class j{transform(L,ae,$e){if(null==L)return null;if(!this.supports(L))throw function Rt(b,j){return new g.vHH(2100,!1)}();return L.slice(ae,$e)}supports(L){return"string"==typeof L||Array.isArray(L)}}return(b=j).\u0275fac=function(L){return new(L||b)},b.\u0275pipe=g.Yjl({name:"slice",type:b,pure:!1,standalone:!0}),j})(),rs=(()=>{var b;class j{}return(b=j).\u0275fac=function(L){return new(L||b)},b.\u0275mod=g.oAB({type:b}),b.\u0275inj=g.cJS({}),j})();const ri="browser",co="server";function No(b){return b===co}let no=(()=>{var b;class j{}return(b=j).\u0275prov=(0,g.Yz7)({token:b,providedIn:"root",factory:()=>new yi((0,g.LFG)(ve),window)}),j})();class yi{constructor(j,De){this.document=j,this.window=De,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const De=function ds(b,j){const De=b.getElementById(j)||b.getElementsByName(j)[0];if(De)return De;if("function"==typeof b.createTreeWalker&&b.body&&"function"==typeof b.body.attachShadow){const L=b.createTreeWalker(b.body,NodeFilter.SHOW_ELEMENT);let ae=L.currentNode;for(;ae;){const $e=ae.shadowRoot;if($e){const bt=$e.getElementById(j)||$e.querySelector(`[name="${j}"]`);if(bt)return bt}ae=L.nextNode()}}return null}(this.document,j);De&&(this.scrollToElement(De),De.focus())}setHistoryScrollRestoration(j){this.supportsScrolling()&&(this.window.history.scrollRestoration=j)}scrollToElement(j){const De=j.getBoundingClientRect(),L=De.left+this.window.pageXOffset,ae=De.top+this.window.pageYOffset,$e=this.offset();this.window.scrollTo(L-$e[0],ae-$e[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Eo{}},5879:(qt,Ke,k)=>{"use strict";k.d(Ke,{$8M:()=>Da,$WT:()=>ir,$Z:()=>zv,AFp:()=>df,ALo:()=>OE,AaK:()=>Ie,BQk:()=>Qf,CHM:()=>vn,CRH:()=>YE,DdM:()=>CE,Dn7:()=>PE,EJc:()=>fC,EpF:()=>cm,F$t:()=>S0,F4k:()=>um,FYo:()=>Xu,FiY:()=>rc,G48:()=>eT,Gf:()=>WE,GfV:()=>Ov,GkF:()=>cd,Gpc:()=>rt,HDt:()=>mD,Hsn:()=>A0,JOm:()=>Ar,KtG:()=>Dt,LFG:()=>$t,LMc:()=>xT,Lbi:()=>Hu,Lck:()=>Qw,MMx:()=>vE,NdJ:()=>ep,O4$:()=>nr,Ojb:()=>qp,OlP:()=>Xr,Oqu:()=>Rs,P3R:()=>Fp,PXZ:()=>GC,Q6J:()=>sm,QGY:()=>Jf,Qsj:()=>ng,R0b:()=>Sa,RDi:()=>b_,Rgc:()=>km,SBq:()=>Zu,Sil:()=>mC,Suo:()=>qE,TTD:()=>Ds,TgZ:()=>am,Tol:()=>Fy,VKq:()=>TE,VuI:()=>AT,X6Q:()=>JC,XFs:()=>Jt,Xpm:()=>Dn,Xq5:()=>ch,Xts:()=>_l,Y36:()=>Ju,YKP:()=>gE,YNc:()=>_y,Yjl:()=>jt,Yz7:()=>_t,Z0I:()=>mn,ZZ4:()=>TI,_Bn:()=>pE,_UZ:()=>lm,_c5:()=>mT,_uU:()=>Dm,aQg:()=>SI,c2e:()=>gD,cJS:()=>cn,cg1:()=>Fe,dDg:()=>UC,dqk:()=>Yt,eFA:()=>RD,eJc:()=>lI,ekj:()=>vm,eoX:()=>SD,f3M:()=>Gt,g9A:()=>Vd,h0i:()=>Oh,hGG:()=>vT,hij:()=>ip,iGM:()=>GE,ifc:()=>hn,ip1:()=>pD,jDz:()=>yE,kL8:()=>Nt,lG2:()=>St,lqb:()=>tl,lri:()=>CD,n5z:()=>gl,oAB:()=>We,oxw:()=>C0,q4F:()=>Pv,qFp:()=>RT,qLn:()=>mc,qOj:()=>zg,qZA:()=>ld,rWj:()=>TD,rg0:()=>Wo,sBO:()=>tT,s_b:()=>i_,soG:()=>s_,tb:()=>II,tp0:()=>zc,uIk:()=>hh,vHH:()=>pe,vpe:()=>Ac,wAp:()=>Tn,xp6:()=>Af,ynx:()=>Xf,z2F:()=>up,zSh:()=>Gp,zWS:()=>qg,zs3:()=>Is});var fe,g=k(8645),f=k(7394),W=k(5619),J=k(5592),Ce=k(3019),ve=k(2096),he=k(3020),Ue=k(4664),Ae=k(3997);function Q(n){for(let r in n)if(n[r]===Q)return r;throw Error("Could not find renamed property on target object.")}function be(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Me(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Le=Q({__forward_ref__:Q});function rt(n){return n.__forward_ref__=rt,n.toString=function(){return Ie(this())},n}function Te(n){return we(n)?n():n}function we(n){return"function"==typeof n&&n.hasOwnProperty(Le)&&n.__forward_ref__===rt}function oe(n){return n&&!!n.\u0275providers}const He="https://g.co/ng/security#xss";class pe extends Error{constructor(r,s){super(function Re(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function ke(n){return"string"==typeof n?n:null==n?"":String(n)}function st(n,r){throw new pe(-201,!1)}function Ct(n,r){null==n&&function at(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function _t(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function an(n){return Nn(n,Rn)||Nn(n,sr)}function mn(n){return null!==an(n)}function Nn(n,r){return n.hasOwnProperty(r)?n[r]:null}function _n(n){return n&&(n.hasOwnProperty(br)||n.hasOwnProperty(vr))?n[br]:null}const Rn=Q({\u0275prov:Q}),br=Q({\u0275inj:Q}),sr=Q({ngInjectableDef:Q}),vr=Q({ngInjectorDef:Q});var Jt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Jt||{});let Mn;function un(n){const r=Mn;return Mn=n,r}function Fr(n,r,s){const a=an(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Jt.Optional?null:void 0!==r?r:void st(Ie(n))}const Yt=globalThis,Wr={},fr="__NG_DI_FLAG__",rr="ngTempTokenPath",X=/\n/gm,G="__source";let B;function je(n){const r=B;return B=n,r}function yt(n,r=Jt.Default){if(void 0===B)throw new pe(-203,!1);return null===B?Fr(n,void 0,r):B.get(n,r&Jt.Optional?null:void 0,r)}function $t(n,r=Jt.Default){return(function qn(){return Mn}()||yt)(Te(n),r)}function Gt(n,r=Jt.Default){return $t(n,dn(r))}function dn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Jn(n){const r=[];for(let s=0;s<n.length;s++){const a=Te(n[s]);if(Array.isArray(a)){if(0===a.length)throw new pe(900,!1);let c,h=Jt.Default;for(let y=0;y<a.length;y++){const D=a[y],x=Ur(D);"number"==typeof x?-1===x?c=D.token:h|=x:c=D}r.push($t(c,h))}else r.push($t(a))}return r}function xn(n,r){return n[fr]=r,n.prototype[fr]=r,n}function Ur(n){return n[fr]}function it(n){return{toString:n}.toString()}var Lt=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Lt||{}),hn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(hn||{});const fn={},en=[],Xn=Q({\u0275cmp:Q}),Nr=Q({\u0275dir:Q}),Tr=Q({\u0275pipe:Q}),mr=Q({\u0275mod:Q}),er=Q({\u0275fac:Q}),Qn=Q({__NG_ELEMENT_ID__:Q}),yo=Q({__NG_ENV_ID__:Q});function lo(n,r,s){let a=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=r.length;if(c+h===a||n.charCodeAt(c+h)<=32)return c}s=c+1}}function si(n,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const h=s[a++],y=s[a++],D=s[a++];n.setAttribute(r,y,D,h)}else{const h=c,y=s[++a];Hi(h)?n.setProperty(r,h,y):n.setAttribute(r,h,y),a++}}return a}function Bi(n){return 3===n||4===n||6===n}function Hi(n){return 64===n.charCodeAt(0)}function Kr(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||_r(n,s,c,null,-1===s||2===s?r[++a]:null)}}return n}function _r(n,r,s,a,c){let h=0,y=n.length;if(-1===r)y=-1;else for(;h<n.length;){const D=n[h++];if("number"==typeof D){if(D===r){y=-1;break}if(D>r){y=h-1;break}}}for(;h<n.length;){const D=n[h];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==c&&(n[h+1]=c));if(a===n[h+1])return void(n[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==y&&(n.splice(y,0,r),h=y+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==c&&n.splice(h++,0,c)}const $i="ng-template";function Ni(n,r,s){let a=0,c=!0;for(;a<n.length;){let h=n[a++];if("string"==typeof h&&c){const y=n[a++];if(s&&"class"===h&&-1!==lo(y.toLowerCase(),r,0))return!0}else{if(1===h){for(;a<n.length&&"string"==typeof(h=n[a++]);)if(h.toLowerCase()===r)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function mi(n){return 4===n.type&&n.value!==$i}function _o(n,r,s){return r===(4!==n.type||s?n.value:$i)}function to(n,r,s){let a=4;const c=n.attrs||[],h=function Ye(n){for(let r=0;r<n.length;r++)if(Bi(n[r]))return r;return n.length}(c);let y=!1;for(let D=0;D<r.length;D++){const x=r[D];if("number"!=typeof x){if(!y)if(4&a){if(a=2|1&a,""!==x&&!_o(n,x,s)||""===x&&1===r.length){if(Z(a))return!1;y=!0}}else{const H=8&a?x:r[++D];if(8&a&&null!==n.attrs){if(!Ni(n.attrs,H,s)){if(Z(a))return!1;y=!0}continue}const ue=me(8&a?"class":x,c,mi(n),s);if(-1===ue){if(Z(a))return!1;y=!0;continue}if(""!==H){let ze;ze=ue>h?"":c[ue+1].toLowerCase();const et=8&a?ze:null;if(et&&-1!==lo(et,H,0)||2&a&&H!==ze){if(Z(a))return!1;y=!0}}}}else{if(!y&&!Z(a)&&!Z(x))return!1;if(y&&Z(x))continue;y=!1,a=x|1&a}}return Z(a)||y}function Z(n){return 0==(1&n)}function me(n,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let h=!1;for(;c<r.length;){const y=r[c];if(y===n)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let D=r[++c];for(;"string"==typeof D;)D=r[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function Qe(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function ie(n,r,s=!1){for(let a=0;a<r.length;a++)if(to(n,r[a],s))return!0;return!1}function vt(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function Mt(n,r){return n?":not("+r.trim()+")":r}function Ft(n){let r=n[0],s=1,a=2,c="",h=!1;for(;s<n.length;){let y=n[s];if("string"==typeof y)if(2&a){const D=n[++s];c+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?c+="."+y:4&a&&(c+=" "+y);else""!==c&&!Z(y)&&(r+=Mt(h,c),c=""),a=y,h=h||!Z(a);s++}return""!==c&&(r+=Mt(h,c)),r}function Dn(n){return it(()=>{var r;const s=Io(n),a={...s,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Lt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:null!==(r=n.signals)&&void 0!==r&&r,data:n.data||{},encapsulation:n.encapsulation||hn.Emulated,styles:n.styles||en,_:null,schemas:n.schemas||null,tView:null,id:""};vi(a);const c=n.dependencies;return a.directiveDefs=Mi(c,!1),a.pipeDefs=Mi(c,!0),a.id=function zo(n){let r=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(a),a})}function Dr(n){return Zt(n)||Gn(n)}function Ai(n){return null!==n}function We(n){return it(()=>({type:n.type,bootstrap:n.bootstrap||en,declarations:n.declarations||en,imports:n.imports||en,exports:n.exports||en,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Je(n,r){if(null==n)return fn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=a,r&&(r[c]=h)}return s}function St(n){return it(()=>{const r=Io(n);return vi(r),r})}function jt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Zt(n){return n[Xn]||null}function Gn(n){return n[Nr]||null}function Un(n){return n[Tr]||null}function ir(n){const r=Zt(n)||Gn(n)||Un(n);return null!==r&&r.standalone}function di(n,r){const s=n[mr]||null;if(!s&&!0===r)throw new Error(`Type ${Ie(n)} does not have '\u0275mod' property.`);return s}function Io(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||fn,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||en,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Je(n.inputs,r),outputs:Je(n.outputs)}}function vi(n){var r;null===(r=n.features)||void 0===r||r.forEach(s=>s(n))}function Mi(n,r){if(!n)return null;const s=r?Un:Dr;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(Ai)}const cr=0,rn=1,Wn=2,ur=3,Ti=4,Go=5,Jr=6,rs=7,ri=8,co=9,ii=10,Pn=11,Po=12,No=13,us=14,Zn=15,qi=16,no=17,yi=18,ds=19,Us=20,Eo=21,zi=22,uo=23,is=24,Vn=25,fo=1,ko=2,ei=7,Fo=9,fi=11;function pi(n){return Array.isArray(n)&&"object"==typeof n[fo]}function _i(n){return Array.isArray(n)&&!0===n[fo]}function wo(n){return 0!=(4&n.flags)}function xi(n){return n.componentOffset>-1}function bo(n){return 1==(1&n.flags)}function Si(n){return!!n.template}function Es(n){return 0!=(512&n[Wn])}function Bn(n,r){return n.hasOwnProperty(er)?n[er]:null}let oo=null!==(fe=Yt.WeakRef)&&void 0!==fe?fe:class Bo{constructor(r){this.ref=r}deref(){return this.ref}},pa=0,Co=null,na=!1;function ki(n){const r=Co;return Co=n,r}class Vi{constructor(){this.id=pa++,this.ref=function es(n){return new oo(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[r,s]of this.producers){const a=s.producerNode.deref();if(null!=a&&s.atTrackingVersion===this.trackingVersion){if(a.producerPollStatus(s.seenValueVersion))return!0}else this.producers.delete(r),null==a||a.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const r=na;na=!0;try{for(const[s,a]of this.consumers){const c=a.consumerNode.deref();null!=c&&c.trackingVersion===a.atTrackingVersion?c.onConsumerDependencyMayHaveChanged():(this.consumers.delete(s),null==c||c.producers.delete(this.id))}}finally{na=r}}producerAccessed(){if(na)throw new Error("");if(null===Co)return;let r=Co.producers.get(this.id);void 0===r?(r={consumerNode:Co.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Co.trackingVersion},Co.producers.set(this.id,r),this.consumers.set(Co.id,r)):(r.seenValueVersion=this.valueVersion,r.atTrackingVersion=Co.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){var r;return!1!==(null===(r=Co)||void 0===r?void 0:r.consumerAllowSignalWrites)}producerPollStatus(r){return this.valueVersion!==r||(this.onProducerUpdateValueVersion(),this.valueVersion!==r)}}let xa=null;function Wo(n){const r=ki(null);try{return n()}finally{ki(r)}}const ma=()=>{};class Wa extends Vi{constructor(r,s,a){super(),this.watch=r,this.schedule=s,this.dirty=!1,this.cleanupFn=ma,this.registerOnCleanup=c=>{this.cleanupFn=c},this.consumerAllowSignalWrites=a}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const r=ki(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ma,this.watch(this.registerOnCleanup)}finally{ki(r)}}cleanup(){this.cleanupFn()}}class zs{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ds(){return po}function po(n){return n.type.prototype.ngOnChanges&&(n.setInput=b),os}function os(){const n=De(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===fn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function b(n,r,s,a){const c=this.declaredInputs[s],h=De(n)||function L(n,r){return n[j]=r}(n,{previous:fn,current:null}),y=h.current||(h.current={}),D=h.previous,x=D[c];y[c]=new zs(x&&x.currentValue,r,D===fn),n[a]=r}Ds.ngInherit=!0;const j="__ngSimpleChanges__";function De(n){return n[j]||null}const bt=function(n,r,s){},Kt="svg";function Sn(n){for(;Array.isArray(n);)n=n[cr];return n}function Ln(n,r){return Sn(r[n])}function dr(n,r){return Sn(r[n.index])}function jr(n,r){return n.data[r]}function Ii(n,r){const s=r[n];return pi(s)?s:s[cr]}function Zi(n,r){return null==r?null:n[r]}function ps(n){n[no]=0}function Ml(n){1024&n[Wn]||(n[Wn]|=1024,al(n,1))}function va(n){1024&n[Wn]&&(n[Wn]&=-1025,al(n,-1))}function al(n,r){let s=n[ur];if(null===s)return;s[Go]+=r;let a=s;for(s=s[ur];null!==s&&(1===r&&1===a[Go]||-1===r&&0===a[Go]);)s[Go]+=r,a=s,s=s[ur]}const or={lFrame:I(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Oa(){return or.bindingsEnabled}function ll(){return null!==or.skipHydrationRootTNode}function ut(){return or.lFrame.lView}function Hr(){return or.lFrame.tView}function vn(n){return or.lFrame.contextLView=n,n[ri]}function Dt(n){return or.lFrame.contextLView=null,n}function Ot(){let n=kr();for(;null!==n&&64===n.type;)n=n.parent;return n}function kr(){return or.lFrame.currentTNode}function Di(n,r){const s=or.lFrame;s.currentTNode=n,s.isParent=r}function cl(){return or.lFrame.isParent}function ya(){or.lFrame.isParent=!1}function Vo(){const n=or.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ws(){return or.lFrame.bindingIndex++}function Yn(n){const r=or.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Fi(n,r){const s=or.lFrame;s.bindingIndex=s.bindingRootIndex=n,Na(r)}function Na(n){or.lFrame.currentDirectiveIndex=n}function xc(){return or.lFrame.currentQueryIndex}function Li(n){or.lFrame.currentQueryIndex=n}function gn(n){const r=n[rn];return 2===r.type?r.declTNode:1===r.type?n[Jr]:null}function E(n,r,s){if(s&Jt.SkipSelf){let c=r,h=n;for(;!(c=c.parent,null!==c||s&Jt.Host||(c=gn(h),null===c||(h=h[us],10&c.type))););if(null===c)return!1;r=c,n=h}const a=or.lFrame=O();return a.currentTNode=r,a.lView=n,!0}function S(n){const r=O(),s=n[rn];or.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function O(){const n=or.lFrame,r=null===n?null:n.child;return null===r?I(n):r}function I(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function F(){const n=or.lFrame;return or.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ee=F;function ye(){const n=F();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Pt(){return or.lFrame.selectedIndex}function kn(n){or.lFrame.selectedIndex=n}function On(){const n=or.lFrame;return jr(n.tView,n.selectedIndex)}function nr(){or.lFrame.currentNamespace=Kt}let Uo=!0;function Fs(){return Uo}function jo(n){Uo=n}function bs(n,r){for(let H=r.directiveStart,K=r.directiveEnd;H<K;H++){const ze=n.data[H].type.prototype,{ngAfterContentInit:et,ngAfterContentChecked:kt,ngAfterViewInit:Qt,ngAfterViewChecked:En,ngOnDestroy:zn}=ze;var s,a,c,h,y,D,x;et&&(null!==(s=n.contentHooks)&&void 0!==s?s:n.contentHooks=[]).push(-H,et),kt&&((null!==(a=n.contentHooks)&&void 0!==a?a:n.contentHooks=[]).push(H,kt),(null!==(c=n.contentCheckHooks)&&void 0!==c?c:n.contentCheckHooks=[]).push(H,kt)),Qt&&(null!==(h=n.viewHooks)&&void 0!==h?h:n.viewHooks=[]).push(-H,Qt),En&&((null!==(y=n.viewHooks)&&void 0!==y?y:n.viewHooks=[]).push(H,En),(null!==(D=n.viewCheckHooks)&&void 0!==D?D:n.viewCheckHooks=[]).push(H,En)),null!=zn&&(null!==(x=n.destroyHooks)&&void 0!==x?x:n.destroyHooks=[]).push(H,zn)}}function Cs(n,r,s){_u(n,r,3,s)}function Rl(n,r,s,a){(3&n[Wn])===s&&_u(n,r,s,a)}function _a(n,r){let s=n[Wn];(3&s)===r&&(s&=8191,s+=1,n[Wn]=s)}function _u(n,r,s,a){const h=null!=a?a:-1,y=r.length-1;let D=0;for(let x=void 0!==a?65535&n[no]:0;x<y;x++)if("number"==typeof r[x+1]){if(D=r[x],null!=a&&D>=a)break}else r[x]<0&&(n[no]+=65536),(D<h||-1==h)&&(ss(n,s,r,x),n[no]=(4294901760&n[no])+x+2),x++}function ia(n,r){bt(4,n,r);const s=ki(null);try{r.call(n)}finally{ki(s),bt(5,n,r)}}function ss(n,r,s,a){const c=s[a]<0,h=s[a+1],D=n[c?-s[a]:s[a]];c?n[Wn]>>13<n[no]>>16&&(3&n[Wn])===r&&(n[Wn]+=8192,ia(D,h)):ia(D,h)}const So=-1;class oa{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Pc(n){return n!==So}function hl(n){return 32767&n}function Pl(n,r){let s=function Nc(n){return n>>16}(n),a=r;for(;s>0;)a=a[us],s--;return a}let Ia=!0;function kc(n){const r=Ia;return Ia=n,r}const fl=255,Fc=5;let Du=0;const Ea={};function Nl(n,r){const s=Bc(n,r);if(-1!==s)return s;const a=r[rn];a.firstCreatePass&&(n.injectorIndex=r.length,Lc(a.data,n),Lc(r,null),Lc(a.blueprint,null));const c=pl(n,r),h=n.injectorIndex;if(Pc(c)){const y=hl(c),D=Pl(c,r),x=D[rn].data;for(let H=0;H<8;H++)r[h+H]=D[y+H]|x[y+H]}return r[h+8]=c,h}function Lc(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Bc(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function pl(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Uc(c),null===a)return So;if(s++,c=c[us],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return So}function kl(n,r,s){!function pd(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Qn)&&(a=s[Qn]),null==a&&(a=s[Qn]=Du++);const c=a&fl;r.data[n+(c>>Fc)]|=1<<c}(n,r,s)}function $c(n,r,s){if(s&Jt.Optional||void 0!==n)return n;st()}function Jl(n,r,s,a){if(s&Jt.Optional&&void 0===a&&(a=null),!(s&(Jt.Self|Jt.Host))){const c=n[co],h=un(void 0);try{return c?c.get(r,a,s&Jt.Optional):Fr(r,a,s&Jt.Optional)}finally{un(h)}}return $c(a,0,s)}function ec(n,r,s,a=Jt.Default,c){if(null!==n){if(2048&r[Wn]&&!(a&Jt.Self)){const y=function Xi(n,r,s,a,c){let h=n,y=r;for(;null!==h&&null!==y&&2048&y[Wn]&&!(512&y[Wn]);){const D=Mo(h,y,s,a|Jt.Self,Ea);if(D!==Ea)return D;let x=h.parent;if(!x){const H=y[Us];if(H){const K=H.get(s,Ea,a);if(K!==Ea)return K}x=Uc(y),y=y[us]}h=x}return c}(n,r,s,a,Ea);if(y!==Ea)return y}const h=Mo(n,r,s,a,Ea);if(h!==Ea)return h}return Jl(r,s,a,c)}function Mo(n,r,s,a,c){const h=function wi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Qn)?n[Qn]:void 0;return"number"==typeof r?r>=0?r&fl:Yo:r}(s);if("function"==typeof h){if(!E(r,n,a))return a&Jt.Host?$c(c,0,a):Jl(r,s,a,c);try{let y;if(y=h(a),null!=y||a&Jt.Optional)return y;st()}finally{ee()}}else if("number"==typeof h){let y=null,D=Bc(n,r),x=So,H=a&Jt.Host?r[Zn][Jr]:null;for((-1===D||a&Jt.SkipSelf)&&(x=-1===D?pl(n,r):r[D+8],x!==So&&xo(a,!1)?(y=r[rn],D=hl(x),r=Pl(x,r)):D=-1);-1!==D;){const K=r[rn];if(Za(h,D,K.data)){const ue=Vc(D,r,s,y,a,H);if(ue!==Ea)return ue}x=r[D+8],x!==So&&xo(a,r[rn].data[D+8]===H)&&Za(h,D,r)?(y=K,D=hl(x),r=Pl(x,r)):D=-1}}return c}function Vc(n,r,s,a,c,h){const y=r[rn],D=y.data[n+8],K=qs(D,y,s,null==a?xi(D)&&Ia:a!=y&&0!=(3&D.type),c&Jt.Host&&h===D);return null!==K?sa(r,y,K,D):Ea}function qs(n,r,s,a,c){const h=n.providerIndexes,y=r.data,D=1048575&h,x=n.directiveStart,K=h>>20,ze=c?D+K:n.directiveEnd;for(let et=a?D:D+K;et<ze;et++){const kt=y[et];if(et<x&&s===kt||et>=x&&kt.type===s)return et}if(c){const et=y[x];if(et&&Si(et)&&et.type===s)return x}return null}function sa(n,r,s,a){let c=n[s];const h=r.data;if(function Rc(n){return n instanceof oa}(c)){const y=c;y.resolving&&function te(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new pe(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Ee(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ke(n)}(h[s]));const D=kc(y.canSeeViewProviders);y.resolving=!0;const H=y.injectImpl?un(y.injectImpl):null;E(n,a,Jt.Default);try{c=n[s]=y.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function vs(n,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=r.type.prototype;if(a){var y,D;const ue=po(r);(null!==(y=s.preOrderHooks)&&void 0!==y?y:s.preOrderHooks=[]).push(n,ue),(null!==(D=s.preOrderCheckHooks)&&void 0!==D?D:s.preOrderCheckHooks=[]).push(n,ue)}var x,H,K;c&&(null!==(x=s.preOrderHooks)&&void 0!==x?x:s.preOrderHooks=[]).push(0-n,c),h&&((null!==(H=s.preOrderHooks)&&void 0!==H?H:s.preOrderHooks=[]).push(n,h),(null!==(K=s.preOrderCheckHooks)&&void 0!==K?K:s.preOrderCheckHooks=[]).push(n,h))}(s,h[s],r)}finally{null!==H&&un(H),kc(D),y.resolving=!1,ee()}}return c}function Za(n,r,s){return!!(s[r+(n>>Fc)]&1<<n)}function xo(n,r){return!(n&Jt.Self||n&Jt.Host&&r)}class Wi{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return ec(this._tNode,this._lView,r,dn(a),s)}}function Yo(){return new Wi(Ot(),ut())}function gl(n){return it(()=>{const r=n.prototype.constructor,s=r[er]||Fl(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const h=c[er]||Fl(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Fl(n){return we(n)?()=>{const r=Fl(Te(n));return r&&r()}:Bn(n)}function Uc(n){const r=n[rn],s=r.type;return 2===s?r.declTNode:1===s?n[Jr]:null}function Da(n){return function wu(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const h=s[c];if(Bi(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(h===r)return s[c+1];c+=2}}}return null}(Ot(),n)}const ys="__parameters__";function Xa(n,r,s){return it(()=>{const a=function ka(n){return function(...s){if(n){const a=n(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...h){if(this instanceof c)return a.apply(this,h),this;const y=new c(...h);return D.annotation=y,D;function D(x,H,K){const ue=x.hasOwnProperty(ys)?x[ys]:Object.defineProperty(x,ys,{value:[]})[ys];for(;ue.length<=K;)ue.push(null);return(ue[K]=ue[K]||[]).push(y),x}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}function Tt(n,r){n.forEach(s=>Array.isArray(s)?Tt(s,r):r(s))}function pn(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function ln(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Fn(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function Zo(n,r,s){let a=Xo(n,r);return a>=0?n[1|a]=s:(a=~a,function as(n,r,s,a){let c=n.length;if(c==r)n.push(s,a);else if(1===c)n.push(a,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function li(n,r){const s=Xo(n,r);if(s>=0)return n[1|s]}function Xo(n,r){return function la(n,r,s){let a=0,c=n.length>>s;for(;c!==a;){const h=a+(c-a>>1),y=n[h<<s];if(r===y)return h<<s;y>r?c=h:a=h+1}return~(c<<s)}(n,r,1)}const rc=xn(Xa("Optional"),8),zc=xn(Xa("SkipSelf"),4);function Vh(n){return 128==(128&n.flags)}var Ar=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ar||{});const p_=/^>|^->|<!--|-->|--!>|<!-$/g,yp=/(<|>)/,$m="\u200b$1\u200b";const jh=new Map;let Hh=0;const ac="__ngContext__";function Ms(n,r){pi(r)?(n[ac]=r[ds],function m_(n){jh.set(n[ds],n)}(r)):n[ac]=r}let Gh;function lc(n,r){return Gh(n,r)}function Nu(n){const r=n[ur];return _i(r)?r[ur]:r}function qc(n){return qh(n[Po])}function Wh(n){return qh(n[Ti])}function qh(n){for(;null!==n&&!_i(n);)n=n[Ti];return n}function cc(n,r,s,a,c){if(null!=a){let h,y=!1;_i(a)?h=a:pi(a)&&(y=!0,a=a[cr]);const D=Sn(a);0===n&&null!==s?null==c?bp(r,s,D):uc(r,s,D,c||null,!0):1===n&&null!==s?uc(r,s,D,c||null,!0):2===n?function Rd(n,r,s){const a=Td(n,r);a&&function __(n,r,s,a){n.removeChild(r,s,a)}(n,a,r,s)}(r,D,y):3===n&&r.destroyNode(D),null!=h&&function ev(n,r,s,a,c){const h=s[ei];h!==Sn(s)&&cc(r,n,a,h,c);for(let D=fi;D<s.length;D++){const x=s[D];Zc(x[rn],x,n,r,a,h)}}(r,n,h,s,c)}}function Dp(n,r){return n.createComment(function _p(n){return n.replace(p_,r=>r.replace(yp,$m))}(r))}function Ro(n,r,s){return n.createElement(r,s)}function Km(n,r){const s=n[Fo],a=s.indexOf(r);va(r),s.splice(a,1)}function Ed(n,r){if(n.length<=fi)return;const s=fi+r,a=n[s];if(a){const c=a[qi];null!==c&&c!==n&&Km(c,a),r>0&&(n[s-1][Ti]=a[Ti]);const h=ln(n,fi+r);!function hi(n,r){Zc(n,r,r[Pn],2,null,null),r[cr]=null,r[Jr]=null}(a[rn],a);const y=h[yi];null!==y&&y.detachView(h[rn]),a[ur]=null,a[Ti]=null,a[Wn]&=-129}return a}function Kh(n,r){if(!(256&r[Wn])){var s,a;const c=r[Pn];null===(s=r[uo])||void 0===s||s.destroy(),null===(a=r[is])||void 0===a||a.destroy(),c.destroyNode&&Zc(n,r,c,3,null,null),function wp(n){let r=n[Po];if(!r)return Dd(n[rn],n);for(;r;){let s=null;if(pi(r))s=r[Po];else{const a=r[fi];a&&(s=a)}if(!s){for(;r&&!r[Ti]&&r!==n;)pi(r)&&Dd(r[rn],r),r=r[ur];null===r&&(r=n),pi(r)&&Dd(r[rn],r),s=r&&r[Ti]}r=s}}(r)}}function Dd(n,r){if(!(256&r[Wn])){r[Wn]&=-129,r[Wn]|=256,function bd(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof oa)){const h=s[a+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const D=c[h[y]],x=h[y+1];bt(4,D,x);try{x.call(D)}finally{bt(5,D,x)}}else{bt(4,c,h);try{h.call(c)}finally{bt(5,c,h)}}}}}(n,r),function wd(n,r){const s=n.cleanup,a=r[rs];if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+3];y>=0?a[y]():a[-y].unsubscribe(),h+=2}else s[h].call(a[s[h+1]]);null!==a&&(r[rs]=null);const c=r[Eo];if(null!==c){r[Eo]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(n,r),1===r[rn].type&&r[Pn].destroy();const s=r[qi];if(null!==s&&_i(r[ur])){s!==r[ur]&&Km(s,r);const a=r[yi];null!==a&&a.detachView(n)}!function Ru(n){jh.delete(n[ds])}(r)}}function Yc(n,r,s){return function Cd(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[cr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=n.data[a.directiveStart+c];if(h===hn.None||h===hn.Emulated)return null}return dr(a,s)}}(n,r.parent,s)}function uc(n,r,s,a,c){n.insertBefore(r,s,a,c)}function bp(n,r,s){n.appendChild(r,s)}function Cp(n,r,s,a,c){null!==a?uc(n,r,s,a,c):bp(n,r,s)}function Td(n,r){return n.parentNode(r)}function Zm(n,r,s){return Qm(n,r,s)}let Sd,Zh,Xh,Qm=function Xm(n,r,s){return 40&n.type?dr(n,s):null};function Ad(n,r,s,a){const c=Yc(n,a,r),h=r[Pn],D=Zm(a.parent||r[Jr],a,r);if(null!=c)if(Array.isArray(s))for(let x=0;x<s.length;x++)Cp(h,c,s[x],D,!1);else Cp(h,c,s,D,!1);void 0!==Sd&&Sd(h,a,r,s,c)}function Md(n,r){if(null!==r){const s=r.type;if(3&s)return dr(r,n);if(4&s)return xd(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Md(n,a);{const c=n[r.index];return _i(c)?xd(-1,c):Sn(c)}}if(32&s)return lc(r,n)()||Sn(n[r.index]);{const a=Ho(n,r);return null!==a?Array.isArray(a)?a[0]:Md(Nu(n[Zn]),a):Md(n,r.next)}}return null}function Ho(n,r){return null!==r?n[Zn][Jr].projection[r.projection]:null}function xd(n,r){const s=fi+n+1;if(s<r.length){const a=r[s],c=a[rn].firstChild;if(null!==c)return Md(a,c)}return r[ei]}function Ba(n,r,s,a,c,h,y){for(;null!=s;){const D=a[s.index],x=s.type;if(y&&0===r&&(D&&Ms(Sn(D),a),s.flags|=2),32!=(32&s.flags))if(8&x)Ba(n,r,s.child,a,c,h,!1),cc(r,n,c,D,h);else if(32&x){const H=lc(s,a);let K;for(;K=H();)cc(r,n,c,K,h);cc(r,n,c,D,h)}else 16&x?Lu(n,r,a,s,c,h):cc(r,n,c,D,h);s=y?s.projectionNext:s.next}}function Zc(n,r,s,a,c,h){Ba(s,a,n.firstChild,r,c,h,!1)}function Lu(n,r,s,a,c,h){const y=s[Zn],x=y[Jr].projection[a.projection];if(Array.isArray(x))for(let H=0;H<x.length;H++)cc(r,n,c,x[H],h);else{let H=x;const K=y[ur];Vh(a)&&(H.flags|=128),Ba(n,r,H,K,c,h,!0)}}function rv(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function iv(n,r,s){const{mergedAttrs:a,classes:c,styles:h}=s;null!==a&&si(n,r,a),null!==c&&rv(n,r,c),null!==h&&function nv(n,r,s){n.setAttribute(r,"style",s)}(n,r,h)}function b_(n){Zh=n}function sv(n){var r;return(null===(r=function vl(){if(void 0===Xh&&(Xh=null,Yt.trustedTypes))try{Xh=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xh}())||void 0===r?void 0:r.createScriptURL(n))||n}class Ap{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}function ca(n){return n instanceof Ap?n.changingThisBreaksApplicationSecurity:n}function el(n,r){const s=function Qc(n){return n instanceof Ap&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${He})`)}return s===r}const ef=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var zl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(zl||{});function Uu(n){const r=ju();return r?r.sanitize(zl.URL,n)||"":el(n,"URL")?ca(n):function Jc(n){return(n=String(n)).match(ef)?n:"unsafe:"+n}(ke(n))}function kd(n){const r=ju();if(r)return sv(r.sanitize(zl.RESOURCE_URL,n)||"");if(el(n,"ResourceURL"))return sv(ca(n));throw new pe(904,!1)}function Fp(n,r,s){return function Bs(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?kd:Uu}(r,s)(n)}function ju(){const n=ut();return n&&n[ii].sanitizer}class Xr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=_t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _l=new Xr("ENVIRONMENT_INITIALIZER"),$p=new Xr("INJECTOR",-1),hc=new Xr("INJECTOR_DEF_TYPES");class Vp{get(r,s=Wr){if(s===Wr){const a=new Error(`NullInjectorError: No provider for ${Ie(r)}!`);throw a.name="NullInjectorError",a}return s}}function Iv(...n){return{\u0275providers:Gl(0,n),\u0275fromNgModule:!0}}function Gl(n,...r){const s=[],a=new Set;let c;const h=y=>{s.push(y)};return Tt(r,y=>{const D=y;af(D,h,[],a)&&(c||(c=[]),c.push(D))}),void 0!==c&&Up(c,h),s}function Up(n,r){for(let s=0;s<n.length;s++){const{ngModule:a,providers:c}=n[s];jp(c,h=>{r(h,a)})}}function af(n,r,s,a){if(!(n=Te(n)))return!1;let c=null,h=_n(n);const y=!h&&Zt(n);if(h||y){if(y&&!y.standalone)return!1;c=n}else{const x=n.ngModule;if(h=_n(x),!h)return!1;c=x}const D=a.has(c);if(y){if(D)return!1;if(a.add(c),y.dependencies){const x="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const H of x)af(H,r,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!D){let H;a.add(c);try{Tt(h.imports,K=>{af(K,r,s,a)&&(H||(H=[]),H.push(K))})}finally{}void 0!==H&&Up(H,r)}if(!D){const H=Bn(c)||(()=>new c);r({provide:c,useFactory:H,deps:en},c),r({provide:hc,useValue:c,multi:!0},c),r({provide:_l,useValue:()=>$t(c),multi:!0},c)}const x=h.providers;if(null!=x&&!D){const H=n;jp(x,K=>{r(K,H)})}}}return c!==n&&void 0!==n.providers}function jp(n,r){for(let s of n)oe(s)&&(s=s.\u0275providers),Array.isArray(s)?jp(s,r):r(s)}const Ev=Q({provide:String,useValue:Q});function Hp(n){return null!==n&&"object"==typeof n&&Ev in n}function tu(n){return"function"==typeof n}const Gp=new Xr("Set Injector scope."),Bd={},nu={};let ru;function $d(){return void 0===ru&&(ru=new Vp),ru}class tl{}class lf extends tl{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wp(r,y=>this.processProvider(y)),this.records.set($p,Oo(void 0,this)),c.has("environment")&&this.records.set(tl,Oo(void 0,this));const h=this.records.get(Gp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(hc.multi,en,Jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=je(this),a=un(void 0);try{return r()}finally{je(s),un(a)}}get(r,s=Wr,a=Jt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(yo))return r[yo](this);a=dn(a);const h=je(this),y=un(void 0);try{if(!(a&Jt.SkipSelf)){let x=this.records.get(r);if(void 0===x){const H=function F_(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xr}(r)&&an(r);x=H&&this.injectableDefInScope(H)?Oo(cf(r),Bd):null,this.records.set(r,x)}if(null!=x)return this.hydrate(r,x)}return(a&Jt.Self?$d():this.parent).get(r,s=a&Jt.Optional&&s===Wr?null:s)}catch(D){if("NullInjectorError"===D.name){if((D[rr]=D[rr]||[]).unshift(Ie(r)),h)throw D;return function qr(n,r,s,a){const c=n[rr];throw r[G]&&c.unshift(r[G]),n.message=function pt(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=Ie(r);if(Array.isArray(r))c=r.map(Ie).join(" -> ");else if("object"==typeof r){let h=[];for(let y in r)if(r.hasOwnProperty(y)){let D=r[y];h.push(y+":"+("string"==typeof D?JSON.stringify(D):Ie(D)))}c=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${n.replace(X,"\n  ")}`}("\n"+n.message,c,s,a),n.ngTokenPath=c,n[rr]=null,n}(D,r,"R3InjectorError",this.source)}throw D}finally{un(y),je(h)}}resolveInjectorInitializers(){const r=je(this),s=un(void 0);try{const c=this.get(_l.multi,en,Jt.Self);for(const h of c)h()}finally{je(r),un(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Ie(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(r){let s=tu(r=Te(r))?r:Te(r&&r.provide);const a=function P_(n){return Hp(n)?Oo(void 0,n.useValue):Oo(uf(n),Bd)}(r);if(tu(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Oo(void 0,Bd,!0),c.factory=()=>Jn(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Bd&&(s.value=nu,s.value=s.factory()),"object"==typeof s.value&&s.value&&function k_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Te(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function cf(n){const r=an(n),s=null!==r?r.factory:Bn(n);if(null!==s)return s;if(n instanceof Xr)throw new pe(204,!1);if(n instanceof Function)return function O_(n){const r=n.length;if(r>0)throw Fn(r,"?"),new pe(204,!1);const s=function bn(n){return n&&(n[Rn]||n[sr])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new pe(204,!1)}function uf(n,r,s){let a;if(tu(n)){const c=Te(n);return Bn(c)||cf(c)}if(Hp(n))a=()=>Te(n.useValue);else if(function zp(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Jn(n.deps||[]));else if(function Ld(n){return!(!n||!n.useExisting)}(n))a=()=>$t(Te(n.useExisting));else{const c=Te(n&&(n.useClass||n.provide));if(!function N_(n){return!!n.deps}(n))return Bn(c)||cf(c);a=()=>new c(...Jn(n.deps))}return a}function Oo(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Wp(n,r){for(const s of n)Array.isArray(s)?Wp(s,r):s&&oe(s)?Wp(s.\u0275providers,r):r(s)}const df=new Xr("AppId",{providedIn:"root",factory:()=>L_}),L_="ng",Vd=new Xr("Platform Initializer"),Hu=new Xr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qp=new Xr("CSP nonce",{providedIn:"root",factory:()=>{var n;return(null===(n=function $u(){if(void 0!==Zh)return Zh;if(typeof document<"u")return document;throw new pe(210,!1)}().body)||void 0===n||null===(n=n.querySelector("[ngCspNonce]"))||void 0===n?void 0:n.getAttribute("ngCspNonce"))||null}});let Jp=(n,r,s)=>null;function Gd(n,r,s=!1){return Jp(n,r,s)}class Sv{}class Av{}class U_{resolveComponentFactory(r){throw function Mv(n){const r=Error(`No component factory found for ${Ie(n)}.`);return r.ngComponent=n,r}(r)}}let vf=(()=>{class r{}return r.NULL=new U_,r})();function $s(){return Ku(Ot(),ut())}function Ku(n,r){return new Zu(dr(n,r))}let Zu=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=$s,r})();function yf(n){return n instanceof Zu?n.nativeElement:n}class Xu{}let ng=(()=>{class r{constructor(){this.destroyNode=null}}return r.__NG_ELEMENT_ID__=()=>function Rv(){const n=ut(),s=Ii(Ot().index,n);return(pi(s)?s:n)[Pn]}(),r})(),j_=(()=>{var n;class r{}return(n=r).\u0275prov=_t({token:n,providedIn:"root",factory:()=>null}),r})();class Ov{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Pv=new Ov("16.2.0"),rg={};function _f(n,r=null,s=null,a){const c=If(n,r,s,a);return c.resolveInjectorInitializers(),c}function If(n,r=null,s=null,a,c=new Set){const h=[s||en,Iv(n)];return a=a||("object"==typeof n?void 0:Ie(n)),new lf(h,r||$d(),a||null,c)}let Is=(()=>{var n;class r{static create(a,c){if(Array.isArray(a))return _f({name:""},c,a,"");{var h;const y=null!==(h=a.name)&&void 0!==h?h:"";return _f({name:y},a.parent,a.providers,y)}}}return(n=r).THROW_IF_NOT_FOUND=Wr,n.NULL=new Vp,n.\u0275prov=_t({token:n,providedIn:"any",factory:()=>$t($p)}),n.__NG_ELEMENT_ID__=-1,r})();function $a(n){return n instanceof Function?n():n}let cg=(()=>{var n;class r{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new pe(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const a of this.callbacks)a.invoke()}finally{this.runningCallbacks=!1;for(const a of this.deferredCallbacks)this.callbacks.add(a);this.deferredCallbacks.clear()}}register(a){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(a)}unregister(a){this.callbacks.delete(a),this.deferredCallbacks.delete(a)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(n=r).\u0275prov=_t({token:n,providedIn:"root",factory:()=>new n}),r})();function Xd(n){for(;n;){n[Wn]|=64;const r=Nu(n);if(Es(n)&&!r)return n;n=r}return null}function dg(n){return n.ngOriginalError}class mc{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&dg(r);for(;s&&dg(s);)s=dg(s);return s||null}}const $v=new Xr("",{providedIn:"root",factory:()=>!1});class gg extends Vi{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(r){this._lView=r}onConsumerDependencyMayHaveChanged(){Xd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(r,s,a){const c=ki(this);this.trackingVersion++;try{r(s,a)}finally{ki(c)}}destroy(){this.trackingVersion++}}let El=null;function jv(){var n;return null!==(n=El)&&void 0!==n||(El=new gg),El}function Hv(n,r){var s;return null!==(s=n[r])&&void 0!==s?s:jv()}function Sf(n,r){const s=jv();s.hasReadASignal&&(n[r]=El,s.lView=n,El=new gg)}const wr={};function Af(n){Mf(Hr(),ut(),Pt()+n,!1)}function Mf(n,r,s,a){if(!a)if(3==(3&r[Wn])){const h=n.preOrderCheckHooks;null!==h&&Cs(r,h,s)}else{const h=n.preOrderHooks;null!==h&&Rl(r,h,0,s)}kn(s)}function Ju(n,r=Jt.Default){const s=ut();return null===s?$t(n,r):ec(Ot(),s,Te(n),r)}function zv(){throw new Error("invalid")}function ed(n,r,s,a,c,h,y,D,x,H,K){const ue=r.blueprint.slice();return ue[cr]=c,ue[Wn]=140|a,(null!==H||n&&2048&n[Wn])&&(ue[Wn]|=2048),ps(ue),ue[ur]=ue[us]=n,ue[ri]=s,ue[ii]=y||n&&n[ii],ue[Pn]=D||n&&n[Pn],ue[co]=x||n&&n[co]||null,ue[Jr]=h,ue[ds]=function g_(){return Hh++}(),ue[zi]=K,ue[Us]=H,ue[Zn]=2==r.type?n[Zn]:ue,ue}function td(n,r,s,a,c){let h=n.data[r];if(null===h)h=function xf(n,r,s,a,c){const h=kr(),y=cl(),x=n.data[r]=function X_(n,r,s,a,c,h){let y=r?r.injectorIndex:-1,D=0;return ll()&&(D|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,r,a,c);return null===n.firstChild&&(n.firstChild=x),null!==h&&(y?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x,x.prev=h)),x}(n,r,s,a,c),function Pa(){return or.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=a,h.attrs=c;const y=function qa(){const n=or.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return Di(h,!0),h}function eh(n,r,s,a){if(0===s)return-1;const c=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function vg(n,r,s,a,c){const h=Hv(r,uo),y=Pt(),D=2&a;try{if(kn(-1),D&&r.length>Vn&&Mf(n,r,Vn,!1),bt(D?2:0,c),D)h.runInContext(s,a,c);else{const H=ki(null);try{s(a,c)}finally{ki(H)}}}finally{D&&null===r[uo]&&Sf(r,uo),kn(y),bt(D?3:1,c)}}function Rf(n,r,s){if(wo(r)){const a=ki(null);try{const h=r.directiveEnd;for(let y=r.directiveStart;y<h;y++){const D=n.data[y];D.contentQueries&&D.contentQueries(1,s[y],y)}}finally{ki(a)}}}function Of(n,r,s){Oa()&&(function Sg(n,r,s,a){const c=s.directiveStart,h=s.directiveEnd;xi(s)&&function t0(n,r,s){const a=dr(r,n),c=Gv(s);let y=16;s.signals?y=4096:s.onPush&&(y=64);const D=rd(n,ed(n,c,null,y,a,r,null,n[ii].rendererFactory.createRenderer(a,s),null,null,null));n[r.index]=D}(r,s,n.data[c+s.componentOffset]),n.firstCreatePass||Nl(s,r),Ms(a,r);const y=s.initialInputs;for(let D=c;D<h;D++){const x=n.data[D],H=sa(r,n,D,s);Ms(H,r),null!==y&&n0(0,D-c,H,x,0,y),Si(x)&&(Ii(s.index,r)[ri]=sa(r,n,D,s))}}(n,r,s,dr(s,r)),64==(64&s.flags)&&Lf(n,r,s))}function Pf(n,r,s=dr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let h=0;h<a.length;h+=2){const y=a[h+1],D=-1===y?s(r,n):n[y];n[c++]=D}}}function Gv(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=yg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function yg(n,r,s,a,c,h,y,D,x,H,K){const ue=Vn+a,ze=ue+c,et=function Y_(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:wr);return s}(ue,ze),kt="function"==typeof H?H():H;return et[rn]={type:n,blueprint:et,template:s,queries:null,viewQuery:D,declTNode:r,data:et.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:ze,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:kt,incompleteFirstPass:!1,ssrId:K}}let Nf=n=>null;function kf(n,r,s,a){for(let c in n)if(n.hasOwnProperty(c)){s=null===s?{}:s;const h=n[c];null===a?Dg(s,r,c,h):a.hasOwnProperty(c)&&Dg(s,r,a[c],h)}return s}function Dg(n,r,s,a){n.hasOwnProperty(s)?n[s].push(r,a):n[s]=[r,a]}function Cg(n,r,s,a){if(Oa()){const c=null===a?null:{"":-1},h=function Yv(n,r){const s=n.directiveRegistry;let a=null,c=null;if(s)for(let y=0;y<s.length;y++){const D=s[y];if(ie(r,D.selectors,!1))if(a||(a=[]),Si(D))if(null!==D.findHostDirectiveDefs){const x=[];c=c||new Map,D.findHostDirectiveDefs(D,x,c),a.unshift(...x,D),th(n,r,x.length)}else a.unshift(D),th(n,r,0);else{var h;c=c||new Map,null===(h=D.findHostDirectiveDefs)||void 0===h||h.call(D,D,a,c),a.push(D)}}return null===a?null:[a,c]}(n,s);let y,D;null===h?y=D=null:[y,D]=h,null!==y&&Ff(n,r,s,y,c,D),c&&function e0(n,r,s){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const h=s[r[c+1]];if(null==h)throw new pe(-301,!1);a.push(r[c],h)}}}(s,a,c)}s.mergedAttrs=Kr(s.mergedAttrs,s.attrs)}function Ff(n,r,s,a,c,h){for(let ue=0;ue<a.length;ue++)kl(Nl(s,r),n,a[ue].type);!function Wl(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,a.length);for(let ue=0;ue<a.length;ue++){const ze=a[ue];ze.providersResolver&&ze.providersResolver(ze)}let y=!1,D=!1,x=eh(n,r,a.length,null);for(let ue=0;ue<a.length;ue++){const ze=a[ue];s.mergedAttrs=Kr(s.mergedAttrs,ze.hostAttrs),Mg(n,s,r,x,ze),Ag(x,ze,c),null!==ze.contentQueries&&(s.flags|=4),(null!==ze.hostBindings||null!==ze.hostAttrs||0!==ze.hostVars)&&(s.flags|=64);const et=ze.type.prototype;var H,K;!y&&(et.ngOnChanges||et.ngOnInit||et.ngDoCheck)&&((null!==(H=n.preOrderHooks)&&void 0!==H?H:n.preOrderHooks=[]).push(s.index),y=!0),D||!et.ngOnChanges&&!et.ngDoCheck||((null!==(K=n.preOrderCheckHooks)&&void 0!==K?K:n.preOrderCheckHooks=[]).push(s.index),D=!0),x++}!function wg(n,r,s){const c=r.directiveEnd,h=n.data,y=r.attrs,D=[];let x=null,H=null;for(let K=r.directiveStart;K<c;K++){const ue=h[K],ze=s?s.get(ue):null,kt=ze?ze.outputs:null;x=kf(ue.inputs,K,x,ze?ze.inputs:null),H=kf(ue.outputs,K,H,kt);const Qt=null===x||null===y||mi(r)?null:r0(x,K,y);D.push(Qt)}null!==x&&(x.hasOwnProperty("class")&&(r.flags|=8),x.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=D,r.inputs=x,r.outputs=H}(n,s,h)}function Lf(n,r,s){const a=s.directiveStart,c=s.directiveEnd,h=s.index,y=function jn(){return or.lFrame.currentDirectiveIndex}();try{kn(h);for(let D=a;D<c;D++){const x=n.data[D],H=r[D];Na(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&nd(x,H)}}finally{kn(-1),Na(y)}}function nd(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function th(n,r,s){var a;r.componentOffset=s,(null!==(a=n.components)&&void 0!==a?a:n.components=[]).push(r.index)}function Ag(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Si(r)&&(s[""]=n)}}function Mg(n,r,s,a,c){n.data[a]=c;const h=c.factory||(c.factory=Bn(c.type)),y=new oa(h,Si(c),Ju);n.blueprint[a]=y,s[a]=y,function J_(n,r,s,a,c){const h=c.hostBindings;if(h){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const D=~r.index;(function Tg(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(y)!=D&&y.push(D),y.push(s,a,h)}}(n,r,a,eh(n,s,c.hostVars,wr),c)}function Va(n,r,s,a,c,h){const y=dr(n,r);!function xg(n,r,s,a,c,h,y){if(null==h)n.removeAttribute(r,c,s);else{const D=null==y?ke(h):y(h,a||"",c);n.setAttribute(r,c,D,s)}}(r[Pn],y,h,n.value,s,a,c)}function n0(n,r,s,a,c,h){const y=h[r];if(null!==y)for(let D=0;D<y.length;)Bf(a,s,y[D++],y[D++],y[D++])}function Bf(n,r,s,a,c){const h=ki(null);try{const y=n.inputTransforms;null!==y&&y.hasOwnProperty(a)&&(c=y[a].call(r,c)),null!==n.setInput?n.setInput(r,c,s,a):r[a]=c}finally{ki(h)}}function r0(n,r,s){let a=null,c=0;for(;c<s.length;){const h=s[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===a&&(a=[]);const y=n[h];for(let D=0;D<y.length;D+=2)if(y[D]===r){a.push(h,y[D+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function $f(n,r,s,a){return[n,!0,!1,r,null,0,a,s,null,null,null]}function Kv(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const h=s[a+1];if(-1!==h){const y=n.data[h];Li(s[a]),y.contentQueries(2,r[h],h)}}}function rd(n,r){return n[Po]?n[No][Ti]=r:n[Po]=r,n[No]=r,r}function Rg(n,r,s){Li(0);const a=ki(null);try{r(n,s)}finally{ki(a)}}function Og(n){return n[rs]||(n[rs]=[])}function Vf(n){return n.cleanup||(n.cleanup=[])}function Xv(n,r){const s=n[co],a=s?s.get(mc,null):null;a&&a.handleError(r)}function Ng(n,r,s,a,c){for(let h=0;h<s.length;){const y=s[h++],D=s[h++];Bf(n.data[y],r[y],a,D,c)}}function o0(n,r){const s=Ii(r,n),a=s[rn];!function kg(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])}(a,s);const c=s[cr];null!==c&&null===s[zi]&&(s[zi]=Gd(c,s[co])),nh(a,s,s[ri])}function nh(n,r,s){S(r);try{const a=n.viewQuery;null!==a&&Rg(1,a,s);const c=n.template;null!==c&&vg(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Kv(n,r),n.staticViewQueries&&Rg(2,n.viewQuery,s);const h=n.components;null!==h&&function Fg(n,r){for(let s=0;s<r.length;s++)o0(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[Wn]&=-5,ye()}}let Qv=(()=>{var n;class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,h){const y=typeof Zone>"u"?null:Zone.current,D=new Wa(a,K=>{this.all.has(K)&&this.queue.set(K,y)},h);let x;this.all.add(D),D.notify();const H=()=>{var K;D.cleanup(),null===(K=x)||void 0===K||K(),this.all.delete(D),this.queue.delete(D)};return x=null==c?void 0:c.onDestroy(H),{destroy:H}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return(n=r).\u0275prov=_t({token:n,providedIn:"root",factory:()=>new n}),r})();function Uf(n,r,s){let a=s?n.styles:null,c=s?n.classes:null,h=0;if(null!==r)for(let y=0;y<r.length;y++){const D=r[y];"number"==typeof D?h=D:1==h?c=Me(c,D):2==h&&(a=Me(a,D+": "+r[++y]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=c:n.classesWithoutHost=c}function uu(n,r,s,a,c=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Sn(h)),_i(h)){for(let D=fi;D<h.length;D++){const x=h[D],H=x[rn].firstChild;null!==H&&uu(x[rn],x,H,a)}h[ei]!==h[cr]&&a.push(h[ei])}const y=s.type;if(8&y)uu(n,r,s.child,a);else if(32&y){const D=lc(s,r);let x;for(;x=D();)a.push(x)}else if(16&y){const D=Ho(r,s);if(Array.isArray(D))a.push(...D);else{const x=Nu(r[Zn]);uu(x[rn],x,D,a,!0)}}s=c?s.projectionNext:s.next}return a}function ih(n,r,s,a=!0){const c=r[ii],h=c.rendererFactory,y=c.afterRenderEventManager;var x;null===(x=h.begin)||void 0===x||x.call(h),null==y||y.begin();try{sh(n,r,n.template,s)}catch(ue){throw a&&Xv(r,ue),ue}finally{var H,K;null===(H=h.end)||void 0===H||H.call(h),null===(K=c.effectManager)||void 0===K||K.flush(),null==y||y.end()}}function sh(n,r,s,a){var c;const h=r[Wn];if(256!=(256&h)){null===(c=r[ii].effectManager)||void 0===c||c.flush(),S(r);try{ps(r),function Ql(n){return or.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&vg(n,r,s,2,a);const D=3==(3&h);if(D){const K=n.preOrderCheckHooks;null!==K&&Cs(r,K,null)}else{const K=n.preOrderHooks;null!==K&&Rl(r,K,0,null),_a(r,0)}if(function s0(n){for(let r=qc(n);null!==r;r=Wh(r)){if(!r[ko])continue;const s=r[Fo];for(let a=0;a<s.length;a++){Ml(s[a])}}}(r),ey(r,2),null!==n.contentQueries&&Kv(n,r),D){const K=n.contentCheckHooks;null!==K&&Cs(r,K)}else{const K=n.contentHooks;null!==K&&Rl(r,K,1),_a(r,1)}!function mg(n,r){const s=n.hostBindingOpCodes;if(null===s)return;const a=Hv(r,is);try{for(let c=0;c<s.length;c++){const h=s[c];if(h<0)kn(~h);else{const y=h,D=s[++c],x=s[++c];Fi(D,y),a.runInContext(x,2,r[y])}}}finally{null===r[is]&&Sf(r,is),kn(-1)}}(n,r);const x=n.components;null!==x&&ah(r,x,0);const H=n.viewQuery;if(null!==H&&Rg(2,H,a),D){const K=n.viewCheckHooks;null!==K&&Cs(r,K)}else{const K=n.viewHooks;null!==K&&Rl(r,K,2),_a(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[Wn]&=-73,va(r)}finally{ye()}}}function ey(n,r){for(let s=qc(n);null!==s;s=Wh(s))for(let a=fi;a<s.length;a++)ty(s[a],r)}function a0(n,r,s){ty(Ii(r,n),s)}function ty(n,r){if(!function qo(n){return 128==(128&n[Wn])}(n))return;const s=n[rn];if(80&n[Wn]&&0===r||1024&n[Wn]||2===r)sh(s,n,s.template,n[ri]);else if(n[Go]>0){ey(n,1);const c=n[rn].components;null!==c&&ah(n,c,1)}}function ah(n,r,s){for(let a=0;a<r.length;a++)a0(n,r[a],s)}class du{get rootNodes(){const r=this._lView,s=r[rn];return uu(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ri]}set context(r){this._lView[ri]=r}get destroyed(){return 256==(256&this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[ur];if(_i(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Ed(r,a),ln(s,a))}this._attachedToViewContainer=!1}Kh(this._lView[rn],this._lView)}onDestroy(r){!function Gs(n,r){if(256==(256&n[Wn]))throw new pe(911,!1);null===n[Eo]&&(n[Eo]=[]),n[Eo].push(r)}(this._lView,r)}markForCheck(){Xd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Wn]&=-129}reattach(){this._lView[Wn]|=128}detectChanges(){ih(this._lView[rn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qm(n,r){Zc(n,r,r[Pn],2,null,null)}(this._lView[rn],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=r}}class Lg extends du{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;ih(r[rn],r,r[ri],!1)}checkNoChanges(){}get context(){return null}}class jf extends vf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Zt(r);return new vc(s,this.ngModule)}}function Bg(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Vg{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=dn(a);const c=this.injector.get(r,rg,a);return c!==rg||s===rg?c:this.parentInjector.get(r,s,a)}}class vc extends Av{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=Bg(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return Bg(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Rt(n){return n.map(Ft).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){var h;let y=(c=c||this.ngModule)instanceof tl?c:null===(h=c)||void 0===h?void 0:h.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const D=y?new Vg(r,y):r,x=D.get(Xu,null);if(null===x)throw new pe(407,!1);const ze={rendererFactory:x,sanitizer:D.get(j_,null),effectManager:D.get(Qv,null),afterRenderEventManager:D.get(cg,null)},et=x.createRenderer(null,this.componentDef),kt=this.componentDef.selectors[0][0]||"div",Qt=a?function K_(n,r,s,a){const h=a.get($v,!1)||s===hn.ShadowDom,y=n.selectRootElement(r,h);return function _g(n){Nf(n)}(y),y}(et,a,this.componentDef.encapsulation,D):Ro(et,kt,function $g(n){const r=n.toLowerCase();return"svg"===r?Kt:"math"===r?"math":null}(kt)),Ht=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ir=null;null!==Qt&&(Ir=Gd(Qt,D,!0));const ni=yg(0,null,null,1,0,null,null,null,null,null,null),Ci=ed(null,ni,null,Ht,null,null,ze,et,D,null,Ir);let Al,Bm;S(Ci);try{const fd=this.componentDef;let dp,MI=null;fd.findHostDirectiveDefs?(dp=[],MI=new Map,fd.findHostDirectiveDefs(fd,dp,MI),dp.push(fd)):dp=[fd];const OT=function ny(n,r){const s=n[rn],a=Vn;return n[a]=r,td(s,a,2,"#host",null)}(Ci,Qt),PT=function Hf(n,r,s,a,c,h,y){const D=c[rn];!function ry(n,r,s,a){for(const c of n)r.mergedAttrs=Kr(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Uf(r,r.mergedAttrs,!0),null!==s&&iv(a,s,r))}(a,n,r,y);let x=null;null!==r&&(x=Gd(r,c[co]));const H=h.rendererFactory.createRenderer(r,s);let K=16;s.signals?K=4096:s.onPush&&(K=64);const ue=ed(c,Gv(s),null,K,c[n.index],n,h,H,null,null,x);return D.firstCreatePass&&th(D,n,a.length-1),rd(c,ue),c[n.index]=ue}(OT,Qt,fd,dp,Ci,ze,et);Bm=jr(ni,Vn),Qt&&function iy(n,r,s,a){if(a)si(n,s,["ng-version",Pv.full]);else{const{attrs:c,classes:h}=function yn(n){const r=[],s=[];let a=1,c=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===c?""!==h&&r.push(h,n[++a]):8===c&&s.push(h);else{if(!Z(c))break;c=h}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&si(n,s,c),h&&h.length>0&&rv(n,s,h.join(" "))}}(et,fd,Qt,a),void 0!==s&&function id(n,r,s){const a=n.projection=[];for(let c=0;c<r.length;c++){const h=s[c];a.push(null!=h?Array.from(h):null)}}(Bm,this.ngContentSelectors,s),Al=function jg(n,r,s,a,c,h){const y=Ot(),D=c[rn],x=dr(y,c);Ff(D,c,y,s,null,a);for(let K=0;K<s.length;K++)Ms(sa(c,D,y.directiveStart+K,y),c);Lf(D,c,y),x&&Ms(x,c);const H=sa(c,D,y.directiveStart+y.componentOffset,y);if(n[ri]=c[ri]=H,null!==h)for(const K of h)K(H,r);return Rf(D,y,n),H}(PT,fd,dp,MI,Ci,[Hg]),nh(ni,Ci,null)}finally{ye()}return new Ug(this.componentType,Al,Ku(Bm,Ci),Ci,Bm)}}class Ug extends Sv{constructor(r,s,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Lg(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const y=this._rootLView;Ng(y[rn],y,c,r,s),this.previousInputValues.set(r,s),Xd(Ii(this._tNode.index,y))}}get injector(){return new Wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Hg(){const n=Ot();bs(ut()[rn],n)}function zg(n){let r=function oy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let c;if(Si(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new pe(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const y=n;y.inputs=lh(n.inputs),y.inputTransforms=lh(n.inputTransforms),y.declaredInputs=lh(n.declaredInputs),y.outputs=lh(n.outputs);const D=c.hostBindings;D&&u0(n,D);const x=c.viewQuery,H=c.contentQueries;if(x&&c0(n,x),H&&sy(n,H),be(n.inputs,c.inputs),be(n.declaredInputs,c.declaredInputs),be(n.outputs,c.outputs),null!==c.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),be(y.inputTransforms,c.inputTransforms)),Si(c)&&c.data.animation){const K=n.data;K.animation=(K.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const D=h[y];D&&D.ngInherit&&D(n),D===zg&&(s=!1)}}r=Object.getPrototypeOf(r)}!function l0(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Kr(c.hostAttrs,s=Kr(s,c.hostAttrs))}}(a)}function lh(n){return n===fn?{}:n===en?[]:n}function c0(n,r){const s=n.viewQuery;n.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function sy(n,r){const s=n.contentQueries;n.contentQueries=s?(a,c,h)=>{r(a,c,h),s(a,c,h)}:r}function u0(n,r){const s=n.hostBindings;n.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function ch(n){const r=n.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}n.inputTransforms=s}function uh(n){return!!Gf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Gf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qi(n,r,s){return n[r]=s}function xs(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function hu(n,r,s,a){const c=xs(n,r,s);return xs(n,r+1,a)||c}function hh(n,r,s,a){const c=ut();return xs(c,ws(),r)&&(Hr(),Va(On(),c,n,r,s,a)),hh}function sd(n,r,s,a,c,h){const D=hu(n,function ms(){return or.lFrame.bindingIndex}(),s,c);return Yn(2),D?r+ke(s)+a+ke(c)+h:wr}function qg(n,r,s,a,c,h,y,D){const x=ut(),H=sd(x,r,s,a,c,h);return H!==wr&&Va(On(),x,n,H,y,D),qg}function _y(n,r,s,a,c,h,y,D){const x=ut(),H=Hr(),K=n+Vn,ue=H.firstCreatePass?function Ih(n,r,s,a,c,h,y,D,x){const H=r.consts,K=td(r,n,4,y||null,Zi(H,D));Cg(r,s,K,Zi(H,x)),bs(r,K);const ue=K.tView=yg(2,K,a,c,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H,null);return null!==r.queries&&(r.queries.template(r,K),ue.queries=r.queries.embeddedTView(K)),K}(K,H,x,r,s,a,c,h,y):H.data[K];Di(ue,!1);const ze=Eh(H,x,ue,n);Fs()&&Ad(H,x,ze,ue),Ms(ze,x),rd(x,x[K]=$f(ze,x,ze,ue)),bo(ue)&&Of(H,x,ue),null!=y&&Pf(x,ue,D)}let Eh=function im(n,r,s,a){return jo(!0),r[Pn].createComment("")};function sm(n,r,s){const a=ut();return xs(a,ws(),r)&&function ba(n,r,s,a,c,h,y,D){const x=dr(r,s);let K,H=r.inputs;!D&&null!=H&&(K=H[a])?(Ng(n,s,K,a,c),xi(r)&&function bg(n,r){const s=Ii(r,n);16&s[Wn]||(s[Wn]|=64)}(s,r.index)):3&r.type&&(a=function Wv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=y?y(c,r.value||"",a):c,h.setProperty(x,a,c))}(Hr(),On(),a,n,r,a[Pn],s,!1),sm}function Ec(n,r,s,a,c){const y=c?"class":"style";Ng(n,s,r.inputs[y],y,a)}function am(n,r,s,a){const c=ut(),h=Hr(),y=Vn+n,D=c[Pn],x=h.firstCreatePass?function kI(n,r,s,a,c,h){const y=r.consts,x=td(r,n,2,a,Zi(y,c));return Cg(r,s,x,Zi(y,h)),null!==x.attrs&&Uf(x,x.attrs,!1),null!==x.mergedAttrs&&Uf(x,x.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,x),x}(y,h,c,r,s,a):h.data[y],H=bh(h,c,x,D,r,n);c[y]=H;const K=bo(x);return Di(x,!0),iv(D,H,x),32!=(32&x.flags)&&Fs()&&Ad(h,c,H,x),0===function go(){return or.lFrame.elementDepthCount}()&&Ms(H,c),function ra(){or.lFrame.elementDepthCount++}(),K&&(Of(h,c,x),Rf(h,x,c)),null!==a&&Pf(c,x),am}function ld(){let n=Ot();cl()?ya():(n=n.parent,Di(n,!1));const r=n;(function Xt(n){return or.skipHydrationRootTNode===n})(r)&&function wn(){or.skipHydrationRootTNode=null}(),function To(){or.lFrame.elementDepthCount--}();const s=Hr();return s.firstCreatePass&&(bs(s,n),wo(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ao(n){return 0!=(8&n.flags)}(r)&&Ec(s,r,ut(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function dl(n){return 0!=(16&n.flags)}(r)&&Ec(s,r,ut(),r.stylesWithoutHost,!1),ld}function lm(n,r,s,a){return am(n,r,s,a),ld(),lm}let bh=(n,r,s,a,c,h)=>(jo(!0),Ro(a,c,function ks(){return or.lFrame.currentNamespace}()));function Xf(n,r,s){const a=ut(),c=Hr(),h=n+Vn,y=c.firstCreatePass?function Zf(n,r,s,a,c){const h=r.consts,y=Zi(h,a),D=td(r,n,8,"ng-container",y);return null!==y&&Uf(D,y,!0),Cg(r,s,D,Zi(h,c)),null!==r.queries&&r.queries.elementStart(r,D),D}(h,c,a,r,s):c.data[h];Di(y,!0);const D=Iy(c,a,y,n);return a[h]=D,Fs()&&Ad(c,a,D,y),Ms(D,a),bo(y)&&(Of(c,a,y),Rf(c,y,a)),null!=s&&Pf(a,y),Xf}function Qf(){let n=Ot();const r=Hr();return cl()?ya():(n=n.parent,Di(n,!1)),r.firstCreatePass&&(bs(r,n),wo(n)&&r.queries.elementEnd(n)),Qf}function cd(n,r,s){return Xf(n,r,s),Qf(),cd}let Iy=(n,r,s,a)=>(jo(!0),Dp(r[Pn],""));function cm(){return ut()}function Jf(n){return!!n&&"function"==typeof n.then}function um(n){return!!n&&"function"==typeof n.subscribe}function ep(n,r,s,a){const c=ut(),h=Hr(),y=Ot();return function Ch(n,r,s,a,c,h,y){const D=bo(a),H=n.firstCreatePass&&Vf(n),K=r[ri],ue=Og(r);let ze=!0;if(3&a.type||y){const Qt=dr(a,r),En=y?y(Qt):Qt,zn=ue.length,Ht=y?ni=>y(Sn(ni[a.index])):a.index;let Ir=null;if(!y&&D&&(Ir=function hm(n,r,s,a){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===s&&c[h+1]===a){const D=r[rs],x=c[h+2];return D.length>x?D[x]:null}"string"==typeof y&&(h+=2)}return null}(n,r,c,a.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=h,Ir.__ngLastListenerFn__=h,ze=!1;else{h=b0(a,r,K,h,!1);const ni=s.listen(En,c,h);ue.push(h,ni),H&&H.push(c,Ht,zn,zn+1)}}else h=b0(a,r,K,h,!1);const et=a.outputs;let kt;if(ze&&null!==et&&(kt=et[c])){const Qt=kt.length;if(Qt)for(let En=0;En<Qt;En+=2){const Ci=r[kt[En]][kt[En+1]].subscribe(h),Al=ue.length;ue.push(h,Ci),H&&H.push(c,a.index,Al,-(Al+1))}}}(h,c,c[Pn],y,n,r,a),ep}function Dy(n,r,s,a){try{return bt(6,r,s),!1!==s(a)}catch(c){return Xv(n,c),!1}finally{bt(7,r,s)}}function b0(n,r,s,a,c){return function h(y){if(y===Function)return a;Xd(n.componentOffset>-1?Ii(n.index,r):r);let x=Dy(r,s,a,y),H=h.__ngNextListenerFn__;for(;H;)x=Dy(r,s,H,y)&&x,H=H.__ngNextListenerFn__;return c&&!1===x&&y.preventDefault(),x}}function C0(n=1){return function Oe(n){return(or.lFrame.contextLView=function At(n,r){for(;n>0;)r=r[us],n--;return r}(n,or.lFrame.contextLView))[ri]}(n)}function T0(n,r){let s=null;const a=function Se(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const h=r[c];if("*"!==h){if(null===a?ie(n,h,!0):vt(a,h))return c}else s=c}return s}function S0(n){const r=ut()[Zn][Jr];if(!r.projection){const a=r.projection=Fn(n?n.length:1,null),c=a.slice();let h=r.child;for(;null!==h;){const y=n?T0(h,n):0;null!==y&&(c[y]?c[y].projectionNext=h:a[y]=h,c[y]=h),h=h.next}}}function A0(n,r=0,s){const a=ut(),c=Hr(),h=td(c,Vn+n,16,null,s||null);null===h.projection&&(h.projection=r),ya(),(!a[zi]||ll())&&32!=(32&h.flags)&&function Jm(n,r,s){Lu(r[Pn],0,r,s,Yc(n,s,r),Zm(s.parent||r[Jr],s,r))}(c,a,h)}function tp(n,r){return n<<17|r<<2}function wc(n){return n>>17&32767}function np(n){return 2|n}function mu(n){return(131068&n)>>2}function pm(n,r){return-131069&n|r<<2}function gm(n){return 1|n}function xy(n,r,s,a,c){const h=n[s+1],y=null===r;let D=a?wc(h):mu(h),x=!1;for(;0!==D&&(!1===x||y);){const K=n[D+1];R0(n[D],r)&&(x=!0,n[D+1]=a?gm(K):np(K)),D=a?wc(K):mu(K)}x&&(n[s+1]=a?np(h):gm(h))}function R0(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Xo(n,r)>=0}const ls={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ry(n){return n.substring(ls.key,ls.keyEnd)}function O0(n,r){const s=ls.textEnd;return s===r?-1:(r=ls.keyEnd=function VI(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,ls.key=r,s),dd(n,r,s))}function dd(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function vm(n,r){return function Tl(n,r,s,a){const c=ut(),h=Hr(),y=Yn(2);h.firstUpdatePass&&By(h,n,y,a),r!==wr&&xs(c,y,r)&&Im(h,h.data[Pt()],c,c[Pn],n,c[y+1]=function ja(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ie(ca(n)))),n}(r,s),a,y)}(n,r,null,!0),vm}function Fy(n){!function Ua(n,r,s,a){const c=Hr(),h=Yn(2);c.firstUpdatePass&&By(c,null,h,a);const y=ut();if(s!==wr&&xs(y,h,s)){const D=c.data[Pt()];if(Vs(D,a)&&!Ly(c,h)){let x=a?D.classesWithoutHost:D.stylesWithoutHost;null!==x&&(s=Me(x,s||"")),Ec(c,D,y,s,a)}else!function F0(n,r,s,a,c,h,y,D){c===wr&&(c=en);let x=0,H=0,K=0<c.length?c[0]:null,ue=0<h.length?h[0]:null;for(;null!==K||null!==ue;){const ze=x<c.length?c[x+1]:void 0,et=H<h.length?h[H+1]:void 0;let Qt,kt=null;K===ue?(x+=2,H+=2,ze!==et&&(kt=ue,Qt=et)):null===ue||null!==K&&K<ue?(x+=2,kt=K):(H+=2,kt=ue,Qt=et),null!==kt&&Im(n,r,s,a,kt,Qt,y,D),K=x<c.length?c[x]:null,ue=H<h.length?h[H]:null}}(c,D,y,y[Pn],y[h+1],y[h+1]=function k0(n,r,s){if(null==s||""===s)return en;const a=[],c=ca(s);if(Array.isArray(c))for(let h=0;h<c.length;h++)n(a,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&n(a,h,c[h]);else"string"==typeof c&&r(a,c);return a}(n,r,s),a,h)}}(rp,Xl,n,!0)}function Xl(n,r){for(let s=function BI(n){return function Py(n){ls.key=0,ls.keyEnd=0,ls.value=0,ls.valueEnd=0,ls.textEnd=n.length}(n),O0(n,dd(n,0,ls.textEnd))}(r);s>=0;s=O0(r,s))Zo(n,Ry(r),!0)}function Ly(n,r){return r>=n.expandoStartIndex}function By(n,r,s,a){const c=n.data;if(null===c[s+1]){const h=c[Pt()],y=Ly(n,s);Vs(h,a)&&null===r&&!y&&(r=!1),r=function ym(n,r,s,a){const c=function Br(n){const r=or.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=Mh(s=Ah(null,n,r,s,a),r.attrs,a),h=null);else{const y=r.directiveStylingLast;if(-1===y||n[y]!==c)if(s=Ah(c,n,r,s,a),null===h){let x=function $y(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==mu(a))return n[wc(a)]}(n,r,a);void 0!==x&&Array.isArray(x)&&(x=Ah(null,n,r,x[1],a),x=Mh(x,r.attrs,a),function Vy(n,r,s,a){n[wc(s?r.classBindings:r.styleBindings)]=a}(n,r,a,x))}else h=function Sh(n,r,s){let a;const c=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<c;h++)a=Mh(a,n[h].hostAttrs,s);return Mh(a,r.attrs,s)}(n,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),s}(c,h,r,a),function FI(n,r,s,a,c,h){let y=h?r.classBindings:r.styleBindings,D=wc(y),x=mu(y);n[a]=s;let K,H=!1;if(Array.isArray(s)?(K=s[1],(null===K||Xo(s,K)>0)&&(H=!0)):K=s,c)if(0!==x){const ze=wc(n[D+1]);n[a+1]=tp(ze,D),0!==ze&&(n[ze+1]=pm(n[ze+1],a)),n[D+1]=function Sy(n,r){return 131071&n|r<<17}(n[D+1],a)}else n[a+1]=tp(D,0),0!==D&&(n[D+1]=pm(n[D+1],a)),D=a;else n[a+1]=tp(x,0),0===D?D=a:n[x+1]=pm(n[x+1],a),x=a;H&&(n[a+1]=np(n[a+1])),xy(n,K,a,!0),xy(n,K,a,!1),function x0(n,r,s,a,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&Xo(h,r)>=0&&(s[a+1]=gm(s[a+1]))}(r,K,n,a,h),y=tp(D,x),h?r.classBindings=y:r.styleBindings=y}(c,h,r,s,y,a)}}function Ah(n,r,s,a,c){let h=null;const y=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<y&&(h=r[D],a=Mh(a,h.hostAttrs,c),h!==n);)D++;return null!==n&&(s.directiveStylingLast=D),a}function Mh(n,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let h=0;h<r.length;h++){const y=r[h];"number"==typeof y?c=y:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zo(n,y,!!s||r[++h]))}return void 0===n?null:n}function rp(n,r,s){const a=String(r);""!==a&&!a.includes(" ")&&Zo(n,a,s)}function Im(n,r,s,a,c,h,y,D){if(!(3&r.type))return;const x=n.data,H=x[D+1],K=function Ay(n){return 1==(1&n)}(H)?Em(x,r,s,c,mu(H),y):void 0;Sl(K)||(Sl(h)||function M0(n){return 2==(2&n)}(H)&&(h=Em(x,null,s,c,D,y)),function tv(n,r,s,a,c){if(r)c?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Ar.DashCase;null==c?n.removeStyle(s,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Ar.Important),n.setStyle(s,a,c,h))}}(a,y,Ln(Pt(),s),c,h))}function Em(n,r,s,a,c,h){const y=null===r;let D;for(;c>0;){const x=n[c],H=Array.isArray(x),K=H?x[1]:x,ue=null===K;let ze=s[c+1];ze===wr&&(ze=ue?en:void 0);let et=ue?li(ze,a):K===a?ze:void 0;if(H&&!Sl(et)&&(et=li(x,a)),Sl(et)&&(D=et,y))return D;const kt=n[c+1];c=y?wc(kt):mu(kt)}if(null!==r){let x=h?r.residualClasses:r.residualStyles;null!=x&&(D=li(x,a))}return D}function Sl(n){return void 0!==n}function Vs(n,r){return 0!=(n.flags&(r?8:16))}function Dm(n,r=""){const s=ut(),a=Hr(),c=n+Vn,h=a.firstCreatePass?td(a,c,1,r,null):a.data[c],y=wm(a,s,h,r,n);s[c]=y,Fs()&&Ad(a,s,y,h),Di(h,!1)}let wm=(n,r,s,a,c)=>(jo(!0),function ku(n,r){return n.createText(r)}(r[Pn],a));function Rs(n){return ip("",n,""),Rs}function ip(n,r,s){const a=ut(),c=function yc(n,r,s,a){return xs(n,ws(),s)?r+ke(s)+a:wr}(a,n,r,s);return c!==wr&&function nl(n,r,s){const a=Ln(r,n);!function Gm(n,r,s){n.setValue(r,s)}(n[Pn],a,s)}(a,Pt(),c),ip}const m=void 0;var $=["en",[["a","p"],["AM","PM"],m],[["AM","PM"],m,m],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],m,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],m,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",m,"{1} 'at' {0}",m],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function M(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let z={};function Fe(n){const r=function Rr(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=nn(r);if(s)return s;const a=r.split("-")[0];if(s=nn(a),s)return s;if("en"===a)return $;throw new pe(701,!1)}function Nt(n){return Fe(n)[Tn.PluralCase]}function nn(n){return n in z||(z[n]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[n]),z[n]}var Tn=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Tn||{});const ji="en-US";let jI=ji;function q0(n,r,s,a,c){if(n=Te(n),Array.isArray(n))for(let h=0;h<n.length;h++)q0(n[h],r,s,a,c);else{const h=Hr(),y=ut(),D=Ot();let x=tu(n)?n:Te(n.provide);const H=uf(n),K=1048575&D.providerIndexes,ue=D.directiveStart,ze=D.providerIndexes>>20;if(tu(n)||!n.multi){const et=new oa(H,c,Ju),kt=K0(x,r,c?K:K+ze,ue);-1===kt?(kl(Nl(D,y),h,x),Y0(h,n,r.length),r.push(x),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),s.push(et),y.push(et)):(s[kt]=et,y[kt]=et)}else{const et=K0(x,r,K+ze,ue),kt=K0(x,r,K,K+ze),En=kt>=0&&s[kt];if(c&&!En||!c&&!(et>=0&&s[et])){kl(Nl(D,y),h,x);const zn=function Xw(n,r,s,a,c){const h=new oa(n,s,Ju);return h.multi=[],h.index=r,h.componentProviders=0,fE(h,c,a&&!s),h}(c?Zw:Kw,s.length,c,a,H);!c&&En&&(s[kt].providerFactory=zn),Y0(h,n,r.length,0),r.push(x),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),s.push(zn),y.push(zn)}else Y0(h,n,et>-1?et:kt,fE(s[c?kt:et],H,!c&&a));!c&&a&&En&&s[kt].componentProviders++}}}function Y0(n,r,s,a){const c=tu(r),h=function Dv(n){return!!n.useClass}(r);if(c||h){const x=(h?Te(r.useClass):r).prototype.ngOnDestroy;if(x){const H=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const K=H.indexOf(s);-1===K?H.push(s,[a,x]):H[K+1].push(a,x)}else H.push(s,x)}}}function fE(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function K0(n,r,s,a){for(let c=s;c<a;c++)if(r[c]===n)return c;return-1}function Kw(n,r,s,a){return Z0(this.multi,[])}function Zw(n,r,s,a){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=sa(s,s[rn],this.providerFactory.index,a);h=D.slice(0,y),Z0(c,h);for(let x=y;x<D.length;x++)h.push(D[x])}else h=[],Z0(c,h);return h}function Z0(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function pE(n,r=[]){return s=>{s.providersResolver=(a,c)=>function Yw(n,r,s){const a=Hr();if(a.firstCreatePass){const c=Si(n);q0(s,a.data,a.blueprint,c,!0),q0(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class Oh{}class gE{}function Qw(n,r){return new X0(n,null!=r?r:null,[])}class X0 extends Oh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jf(this);const c=di(r);this._bootstrapComponents=$a(c.bootstrap),this._r3Injector=If(r,s,[{provide:Oh,useValue:this},{provide:vf,useValue:this.componentFactoryResolver},...a],Ie(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Q0 extends gE{constructor(r){super(),this.moduleType=r}create(r){return new X0(this.moduleType,r,[])}}class mE extends Oh{constructor(r){super(),this.componentFactoryResolver=new jf(this),this.instance=null;const s=new lf([...r.providers,{provide:Oh,useValue:this},{provide:vf,useValue:this.componentFactoryResolver}],r.parent||$d(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function vE(n,r,s=null){return new mE({providers:n,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let eb=(()=>{var n;class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=Gl(0,a.type),h=c.length>0?vE([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(n=r).\u0275prov=_t({token:n,providedIn:"environment",factory:()=>new n($t(tl))}),r})();function yE(n){n.getStandaloneInjector=r=>r.get(eb).getOrCreateStandaloneInjector(n)}function CE(n,r,s){const a=Vo()+n,c=ut();return c[a]===wr?Qi(c,a,s?r.call(s):r()):function ua(n,r){return n[r]}(c,a)}function TE(n,r,s,a){return function SE(n,r,s,a,c,h){const y=r+s;return xs(n,y,c)?Qi(n,y+1,h?a.call(h,c):a(c)):Pm(n,y+1)}(ut(),Vo(),n,r,s,a)}function Pm(n,r){const s=n[r];return s===wr?void 0:s}function ME(n,r,s,a,c,h,y,D){const x=r+s;return function fu(n,r,s,a,c){const h=hu(n,r,s,a);return xs(n,r+2,c)||h}(n,x,c,h,y)?Qi(n,x+3,D?a.call(D,c,h,y):a(c,h,y)):Pm(n,x+3)}function OE(n,r){const s=Hr();let a;const c=n+Vn;var h;s.firstCreatePass?(a=function vb(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(null!==(h=s.destroyHooks)&&void 0!==h?h:s.destroyHooks=[]).push(c,a.onDestroy)):a=s.data[c];const y=a.factory||(a.factory=Bn(a.type)),x=un(Ju);try{const H=kc(!1),K=y();return kc(H),function Ic(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,ut(),c,K),K}finally{un(x)}}function PE(n,r,s,a,c){const h=n+Vn,y=ut(),D=function Yi(n,r){return n[r]}(y,h);return function Nm(n,r){return n[rn].data[r].pure}(y,h)?ME(y,Vo(),r,D.transform,s,a,c,D):D.transform(s,a,c)}function eI(n){return r=>{setTimeout(n,void 0,r)}}const Ac=class Db extends g.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,h=s||(()=>null),y=a;if(r&&"object"==typeof r){var D,x,H;const ue=r;c=null===(D=ue.next)||void 0===D?void 0:D.bind(ue),h=null===(x=ue.error)||void 0===x?void 0:x.bind(ue),y=null===(H=ue.complete)||void 0===H?void 0:H.bind(ue)}this.__isAsync&&(h=eI(h),c&&(c=eI(c)),y&&(y=eI(y)));const K=super.subscribe({next:c,error:h,complete:y});return r instanceof f.w0&&r.add(K),K}};function wb(){return this._results[Symbol.iterator]()}class tI{get changes(){return this._changes||(this._changes=new Ac)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=tI.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=wb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function nt(n){return n.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function qe(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],h=r[a];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Cb(n,r,s,a=!0){const c=r[rn];if(function Yh(n,r,s,a){const c=fi+a,h=s.length;a>0&&(s[c-1][Ti]=r),a<h-fi?(r[Ti]=s[c],pn(s,fi+a,r)):(s.push(r),r[Ti]=null),r[ur]=s;const y=r[qi];null!==y&&s!==y&&function Ym(n,r){const s=n[Fo];r[Zn]!==r[ur][ur][Zn]&&(n[ko]=!0),null===s?n[Fo]=[r]:s.push(r)}(y,r);const D=r[yi];null!==D&&D.insertView(n),r[Wn]|=128}(c,r,n,s),a){const h=xd(s,n),y=r[Pn],D=Td(y,n[ei]);null!==D&&function Wm(n,r,s,a,c,h){a[cr]=c,a[Jr]=r,Zc(n,a,s,1,c,h)}(c,n[Jr],y,r,D,h)}}let km=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ab,r})();const Tb=km,Sb=class extends Tb{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){var r;return(null===(r=this._declarationTContainer.tView)||void 0===r?void 0:r.ssrId)||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function bb(n,r,s,a){var c,h;const y=r.tView,H=ed(n,y,s,4096&n[Wn]?4096:16,null,r,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(h=null==a?void 0:a.hydrationInfo)&&void 0!==h?h:null);H[qi]=n[r.index];const ue=n[yi];return null!==ue&&(H[yi]=ue.createEmbeddedView(y)),nh(y,H,s),H}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new du(c)}};function Ab(){return n_(Ot(),ut())}function n_(n,r){return 4&n.type?new Sb(r,n,Ku(n,r)):null}let i_=(()=>{class r{}return r.__NG_ELEMENT_ID__=Nb,r})();function Nb(){return VE(Ot(),ut())}const kb=i_,BE=class extends kb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new Wi(this._hostTNode,this._hostLView)}get parentInjector(){const r=pl(this._hostTNode,this._hostLView);if(Pc(r)){const s=Pl(r,this._hostLView),a=hl(r);return new Wi(s[rn].data[a+8],s)}return new Wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=$E(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-fi}createEmbeddedView(r,s,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const D=r.createEmbeddedViewImpl(s||{},h,null);return this.insertImpl(D,c,false),D}createComponent(r,s,a,c,h){var y,x;const H=r&&!function _e(n){return"function"==typeof n}(r);let K;if(H)K=s;else{const Ht=s||{};K=Ht.index,a=Ht.injector,c=Ht.projectableNodes,h=Ht.environmentInjector||Ht.ngModuleRef}const ue=H?r:new vc(Zt(r)),ze=a||this.parentInjector;if(!h&&null==ue.ngModule){const Ir=(H?ze:this.parentInjector).get(tl,null);Ir&&(h=Ir)}const et=Zt(null!==(y=ue.componentType)&&void 0!==y?y:{}),kt=(null==et?void 0:et.id,null),Qt=null!==(x=null==kt?void 0:kt.firstChild)&&void 0!==x?x:null,En=ue.create(ze,c,Qt,h),zn=!!kt&&!Vh(this._hostTNode);return this.insertImpl(En.hostView,K,zn),En}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Ki(n){return _i(n[ur])}(c)){const x=this.indexOf(r);if(-1!==x)this.detach(x);else{const H=c[ur],K=new BE(H,H[Jr],H[ur]);K.detach(K.indexOf(r))}}const y=this._adjustIndex(s),D=this._lContainer;return Cb(D,c,y,!a),r.attachToViewContainerRef(),pn(nI(D),y,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=$E(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Ed(this._lContainer,s);a&&(ln(nI(this._lContainer),s),Kh(a[rn],a))}detach(r){const s=this._adjustIndex(r,-1),a=Ed(this._lContainer,s);return a&&null!=ln(nI(this._lContainer),s)?new du(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function $E(n){return n[8]}function nI(n){return n[8]||(n[8]=[])}function VE(n,r){let s;const a=r[n.index];return _i(a)?s=a:(s=$f(a,r,null,n),r[n.index]=s,rd(r,s)),UE(s,r,n,a),new BE(s,n,r)}let UE=function jE(n,r,s,a){if(n[ei])return;let c;c=8&s.type?Sn(a):function Fb(n,r){const s=n[Pn],a=s.createComment(""),c=dr(r,n);return uc(s,Td(s,c),a,function E_(n,r){return n.nextSibling(r)}(s,c),!1),a}(r,s),n[ei]=c};class rI{constructor(r){this.queryList=r,this.matches=null}clone(){return new rI(this.queryList)}setDirty(){this.queryList.setDirty()}}class iI{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let h=0;h<a;h++){const y=s.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new iI(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==XE(r,s).matches&&this.queries[s].setDirty()}}class HE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class oI{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,c);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new oI(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class sI{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new sI(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(r,s,$b(s,h)),this.matchTNodeWithReadOption(r,s,qs(s,r,h,!1,!1))}else a===km?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,qs(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===Zu||c===i_||c===km&&4&s.type)this.addMatch(s.index,-2);else{const h=qs(s,r,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function $b(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Ub(n,r,s,a){return-1===s?function Vb(n,r){return 11&n.type?Ku(n,r):4&n.type?n_(n,r):null}(r,n):-2===s?function jb(n,r,s){return s===Zu?Ku(r,n):s===km?n_(r,n):s===i_?VE(r,n):void 0}(n,r,a):sa(n,n[rn],s,r)}function zE(n,r,s,a){const c=r[yi].queries[a];if(null===c.matches){const h=n.data,y=s.matches,D=[];for(let x=0;x<y.length;x+=2){const H=y[x];D.push(H<0?null:Ub(r,h[H],y[x+1],s.metadata.read))}c.matches=D}return c.matches}function aI(n,r,s,a){const c=n.queries.getByIndex(s),h=c.matches;if(null!==h){const y=zE(n,r,c,s);for(let D=0;D<h.length;D+=2){const x=h[D];if(x>0)a.push(y[D/2]);else{const H=h[D+1],K=r[-x];for(let ue=fi;ue<K.length;ue++){const ze=K[ue];ze[qi]===ze[ur]&&aI(ze[rn],ze,H,a)}if(null!==K[Fo]){const ue=K[Fo];for(let ze=0;ze<ue.length;ze++){const et=ue[ze];aI(et[rn],et,H,a)}}}}}return a}function GE(n){const r=ut(),s=Hr(),a=xc();Li(a+1);const c=XE(s,a);if(n.dirty&&function ts(n){return 4==(4&n[Wn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?aI(s,r,a,[]):zE(s,r,c,a);n.reset(h,yf),n.notifyOnChanges()}return!0}return!1}function WE(n,r,s){const a=Hr();a.firstCreatePass&&(ZE(a,new HE(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),KE(a,ut(),r)}function qE(n,r,s,a){const c=Hr();if(c.firstCreatePass){const h=Ot();ZE(c,new HE(r,s,a),h.index),function zb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}KE(c,ut(),s)}function YE(){return function Hb(n,r){return n[yi].queries[r].queryList}(ut(),xc())}function KE(n,r,s){const a=new tI(4==(4&s));(function Eg(n,r,s,a){const c=Og(r);c.push(s),n.firstCreatePass&&Vf(n).push(a,c.length-1)})(n,r,a,a.destroy),null===r[yi]&&(r[yi]=new iI),r[yi].queries.push(new rI(a))}function ZE(n,r,s){null===n.queries&&(n.queries=new oI),n.queries.track(new sI(r,s))}function XE(n,r){return n.queries.getByIndex(r)}function lI(n){return!!di(n)}const pD=new Xr("Application Initializer");let fI=(()=>{var n;class r{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=Gt(pD,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const y=h();if(Jf(y))a.push(y);else if(um(y)){const D=new Promise((x,H)=>{y.subscribe({complete:x,error:H})});a.push(D)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),r})(),gD=(()=>{var n;class r{log(a){console.log(a)}warn(a){console.warn(a)}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"platform"}),r})();const s_=new Xr("LocaleId",{providedIn:"root",factory:()=>Gt(s_,Jt.Optional|Jt.SkipSelf)||function hC(){return typeof $localize<"u"&&$localize.locale||ji}()}),fC=new Xr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let mD=(()=>{var n;class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new W.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();class gC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let mC=(()=>{var n;class r{compileModuleSync(a){return new Q0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),y=$a(di(a).declarations).reduce((D,x)=>{const H=Zt(x);return H&&D.push(new vc(H)),D},[]);return new gC(c,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();function ID(...n){}class Sa{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ac(!1),this.onMicrotaskEmpty=new Ac(!1),this.onStable=new Ac(!1),this.onError=new Ac(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function FC(){const n="function"==typeof Yt.requestAnimationFrame;let r=Yt[n?"requestAnimationFrame":"setTimeout"],s=Yt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function $C(n){const r=()=>{!function BC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Yt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vI(n),n.isCheckStableRunning=!0,mI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,h,y,D)=>{try{return ED(n),s.invokeTask(c,h,y,D)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),DD(n)}},onInvoke:(s,a,c,h,y,D,x)=>{try{return ED(n),s.invoke(c,h,y,D,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),DD(n)}},onHasTask:(s,a,c,h)=>{s.hasTask(c,h),a===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,vI(n),mI(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,c,h)=>(s.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sa.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(Sa.isInAngularZone())throw new pe(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,r,LC,ID,ID);try{return h.runTask(y,s,a)}finally{h.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const LC={};function mI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ED(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function DD(n){n._nesting--,mI(n)}class VC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ac,this.onMicrotaskEmpty=new Ac,this.onStable=new Ac,this.onError=new Ac}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const wD=new Xr("",{providedIn:"root",factory:bD});function bD(){const n=Gt(Sa);let r=!0;const s=new J.y(c=>{r=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new J.y(c=>{let h;n.runOutsideAngular(()=>{h=n.onStable.subscribe(()=>{Sa.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const y=n.onUnstable.subscribe(()=>{Sa.assertInAngularZone(),r&&(r=!1,n.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),y.unsubscribe()}});return(0,Ce.T)(s,a.pipe((0,he.B)()))}const CD=new Xr(""),TD=new Xr("");let yI,UC=(()=>{var n;class r{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yI||(function jC(n){yI=n}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(D=>D.timeoutId!==y),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(n=r).\u0275fac=function(a){return new(a||n)($t(Sa),$t(SD),$t(TD))},n.\u0275prov=_t({token:n,factory:n.\u0275fac}),r})(),SD=(()=>{var n;class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,y;return null!==(h=null===(y=yI)||void 0===y?void 0:y.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"platform"}),r})(),hd=null;const AD=new Xr("AllowMultipleToken"),_I=new Xr("PlatformDestroyListeners"),II=new Xr("appBootstrapListener");class GC{constructor(r,s){this.name=r,this.token=s}}function RD(n,r,s=[]){const a=`Platform: ${r}`,c=new Xr(a);return(h=[])=>{let y=EI();if(!y||y.injector.get(AD,!1)){const D=[...s,...h,{provide:c,useValue:!0}];n?n(D):function WC(n){if(hd&&!hd.get(AD,!1))throw new pe(400,!1);(function MD(){!function Ga(n){xa=n}(()=>{throw new pe(600,!1)})})(),hd=n;const r=n.get(PD);(function xD(n){const r=n.get(Vd,null);null==r||r.forEach(s=>s())})(n)}(function OD(n=[],r){return Is.create({name:r,providers:[{provide:Gp,useValue:"platform"},{provide:_I,useValue:new Set([()=>hd=null])},...n]})}(D,a))}return function YC(n){const r=EI();if(!r)throw new pe(401,!1);return r}()}}function EI(){var n,r;return null!==(n=null===(r=hd)||void 0===r?void 0:r.get(PD))&&void 0!==n?n:null}let PD=(()=>{var n;class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function KC(n="zone.js",r){return"noop"===n?new VC:"zone.js"===n?new Sa(r):n}(null==c?void 0:c.ngZone,function ND(n){var r,s;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(r=null==n?void 0:n.eventCoalescing)&&void 0!==r&&r,shouldCoalesceRunChangeDetection:null!==(s=null==n?void 0:n.runCoalescing)&&void 0!==s&&s}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const y=function Jw(n,r,s){return new X0(n,r,s)}(a.moduleType,this.injector,function $D(n){return[{provide:Sa,useFactory:n},{provide:_l,multi:!0,useFactory:()=>{const r=Gt(XC,{optional:!0});return()=>r.initialize()}},{provide:BD,useFactory:ZC},{provide:wD,useFactory:bD}]}(()=>h)),D=y.injector.get(mc,null);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:H=>{D.handleError(H)}});y.onDestroy(()=>{l_(this._modules,y),x.unsubscribe()})}),function kD(n,r,s){try{const a=s();return Jf(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(D,h,()=>{const x=y.injector.get(fI);return x.runInitializers(),x.donePromise.then(()=>(function HI(n){Ct(n,"Expected localeId to be defined"),"string"==typeof n&&(jI=n.toLowerCase().replace(/_/g,"-"))}(y.injector.get(s_,ji)||ji),this._moduleDoBootstrap(y),y))})})}bootstrapModule(a,c=[]){const h=FD({},c);return function HC(n,r,s){const a=new Q0(s);return Promise.resolve(a)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,h))}_moduleDoBootstrap(a){const c=a.injector.get(up);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new pe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(_I,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(n=r).\u0275fac=function(a){return new(a||n)($t(Is))},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"platform"}),r})();function FD(n,r){return Array.isArray(r)?r.reduce(FD,n):{...n,...r}}let up=(()=>{var n;class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Gt(BD),this.zoneIsStable=Gt(wD),this.componentTypes=[],this.components=[],this.isStable=Gt(mD).hasPendingTasks.pipe((0,Ue.w)(a=>a?(0,ve.of)(!1):this.zoneIsStable),(0,Ae.x)(),(0,he.B)()),this._injector=Gt(tl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof Av;if(!this._injector.get(fI).done)throw!h&&ir(a),new pe(405,!1);let D;D=h?a:this._injector.get(vf).resolveComponentFactory(a),this.componentTypes.push(D.componentType);const x=function zC(n){return n.isBoundToModule}(D)?void 0:this._injector.get(Oh),K=D.create(Is.NULL,[],c||D.selector,x),ue=K.location.nativeElement,ze=K.injector.get(CD,null);return null==ze||ze.registerApplication(ue),K.onDestroy(()=>{this.detachView(K.hostView),l_(this.components,K),null==ze||ze.unregisterApplication(ue)}),this._loadComponent(K),K}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;l_(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(II,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>l_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new pe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();function l_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}const BD=new Xr("",{providedIn:"root",factory:()=>Gt(mc).handleError.bind(void 0)});function ZC(){const n=Gt(Sa),r=Gt(mc);return s=>n.runOutsideAngular(()=>r.handleError(s))}let XC=(()=>{var n;class r{constructor(){this.zone=Gt(Sa),this.applicationRef=Gt(up)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(n=r).\u0275fac=function(a){return new(a||n)},n.\u0275prov=_t({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();function JC(){return!1}function eT(){}let tT=(()=>{class r{}return r.__NG_ELEMENT_ID__=nT,r})();function nT(n){return function rT(n,r,s){if(xi(n)&&!s){const a=Ii(n.index,r);return new du(a,a)}return 47&n.type?new du(r[Zn],r):null}(Ot(),ut(),16==(16&n))}class HD{constructor(){}supports(r){return uh(r)}create(r){return new cT(r)}}const lT=(n,r)=>r;class cT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||lT}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,h=null;for(;s||a;){const y=!a||s&&s.currentIndex<GD(a,c,h)?s:a,D=GD(y,c,h),x=y.currentIndex;if(y===a)c--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{h||(h=[]);const H=D-c,K=x-c;if(H!=K){for(let ze=0;ze<H;ze++){const et=ze<h.length?h[ze]:h[ze]=0,kt=et+ze;K<=kt&&kt<H&&(h[ze]=et+1)}h[y.previousIndex]=K-H}}D!==x&&r(y,D,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!uh(r))throw new pe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,h,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)h=r[D],y=this._trackByFn(D,h),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,h,y,D)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,D),a=!0),s=s._next}else c=0,function dh(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{y=this._trackByFn(c,D),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,D,y,c)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,y,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,c)):r=this._addAfter(new uT(s,a),h,c),r}_verifyReinsertion(r,s,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,h=r._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new zD),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zD),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class uT{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class zD{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new dT,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function GD(n,r,s){const a=n.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class WD{constructor(){}supports(r){return r instanceof Map||Gf(r)}create(){return new hT}}class hT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Gf(r)))throw new pe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const a=new fT(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class fT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qD(){return new TI([new HD])}let TI=(()=>{var n;class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||qD()),deps:[[r,new zc,new rc]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new pe(901,!1)}}return(n=r).\u0275prov=_t({token:n,providedIn:"root",factory:qD}),r})();function YD(){return new SI([new WD])}let SI=(()=>{var n;class r{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||YD()),deps:[[r,new zc,new rc]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new pe(901,!1)}}return(n=r).\u0275prov=_t({token:n,providedIn:"root",factory:YD}),r})();const mT=RD(null,"core",[]);let vT=(()=>{var n;class r{constructor(a){}}return(n=r).\u0275fac=function(a){return new(a||n)($t(up))},n.\u0275mod=We({type:n}),n.\u0275inj=cn({}),r})();function AT(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function xT(n,r){const s=Zt(n),a=r.elementInjector||$d();return new vc(s).create(a,r.projectableNodes,r.hostElement,r.environmentInjector)}function RT(n){const r=Zt(n);if(!r)return null;const s=new vc(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(qt,Ke,k)=>{"use strict";k.d(Ke,{NI:()=>Ye,oH:()=>zo,cw:()=>$t,u5:()=>Lo,JU:()=>Le,a5:()=>Rn,JJ:()=>Jt,JL:()=>Mn,F:()=>me,On:()=>Ge,UX:()=>il,kI:()=>dt,_Y:()=>Je});var g=k(5879),f=k(6814),W=k(2459),J=k(5592),Ce=k(7453),ve=k(4829),he=k(9940),Ue=k(8251),Ae=k(7400),fe=k(2714),be=k(7398);let Ie=(()=>{var U;class P{constructor(d,C){this._renderer=d,this._elementRef=C,this.onChange=_=>{},this.onTouched=()=>{}}setProperty(d,C){this._renderer.setProperty(this._elementRef.nativeElement,d,C)}registerOnTouched(d){this.onTouched=d}registerOnChange(d){this.onChange=d}setDisabledState(d){this.setProperty("disabled",d)}}return(U=P).\u0275fac=function(d){return new(d||U)(g.Y36(g.Qsj),g.Y36(g.SBq))},U.\u0275dir=g.lG2({type:U}),P})(),Me=(()=>{var U;class P extends Ie{}return(U=P).\u0275fac=function(){let se;return function(C){return(se||(se=g.n5z(U)))(C||U)}}(),U.\u0275dir=g.lG2({type:U,features:[g.qOj]}),P})();const Le=new g.OlP("NgValueAccessor"),we={provide:Le,useExisting:(0,g.Gpc)(()=>He),multi:!0},ot=new g.OlP("CompositionEventMode");let He=(()=>{var U;class P extends Ie{constructor(d,C,_){super(d,C),this._compositionMode=_,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oe(){const U=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(d){this.setProperty("value",null==d?"":d)}_handleInput(d){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(d)}_compositionStart(){this._composing=!0}_compositionEnd(d){this._composing=!1,this._compositionMode&&this.onChange(d)}}return(U=P).\u0275fac=function(d){return new(d||U)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(ot,8))},U.\u0275dir=g.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(d,C){1&d&&g.NdJ("input",function(N){return C._handleInput(N.target.value)})("blur",function(){return C.onTouched()})("compositionstart",function(){return C._compositionStart()})("compositionend",function(N){return C._compositionEnd(N.target.value)})},features:[g._Bn([we]),g.qOj]}),P})();function pe(U){return null==U||("string"==typeof U||Array.isArray(U))&&0===U.length}function Re(U){return null!=U&&"number"==typeof U.length}const ke=new g.OlP("NgValidators"),Ee=new g.OlP("NgAsyncValidators"),te=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class dt{static min(P){return function Ve(U){return P=>{if(pe(P.value)||pe(U))return null;const se=parseFloat(P.value);return!isNaN(se)&&se<U?{min:{min:U,actual:P.value}}:null}}(P)}static max(P){return function st(U){return P=>{if(pe(P.value)||pe(U))return null;const se=parseFloat(P.value);return!isNaN(se)&&se>U?{max:{max:U,actual:P.value}}:null}}(P)}static required(P){return function lt(U){return pe(U.value)?{required:!0}:null}(P)}static requiredTrue(P){return function ft(U){return!0===U.value?null:{required:!0}}(P)}static email(P){return function Wt(U){return pe(U.value)||te.test(U.value)?null:{email:!0}}(P)}static minLength(P){return function In(U){return P=>pe(P.value)||!Re(P.value)?null:P.value.length<U?{minlength:{requiredLength:U,actualLength:P.value.length}}:null}(P)}static maxLength(P){return function zt(U){return P=>Re(P.value)&&P.value.length>U?{maxlength:{requiredLength:U,actualLength:P.value.length}}:null}(P)}static pattern(P){return function ht(U){if(!U)return le;let P,se;return"string"==typeof U?(se="","^"!==U.charAt(0)&&(se+="^"),se+=U,"$"!==U.charAt(U.length-1)&&(se+="$"),P=new RegExp(se)):(se=U.toString(),P=U),d=>{if(pe(d.value))return null;const C=d.value;return P.test(C)?null:{pattern:{requiredPattern:se,actualValue:C}}}}(P)}static nullValidator(P){return null}static compose(P){return Ct(P)}static composeAsync(P){return gt(P)}}function le(U){return null}function ge(U){return null!=U}function xe(U){return(0,g.QGY)(U)?(0,W.D)(U):U}function Be(U){let P={};return U.forEach(se=>{P=null!=se?{...P,...se}:P}),0===Object.keys(P).length?null:P}function Ze(U,P){return P.map(se=>se(U))}function Bt(U){return U.map(P=>function Xe(U){return!U.validate}(P)?P:se=>P.validate(se))}function Ct(U){if(!U)return null;const P=U.filter(ge);return 0==P.length?null:function(se){return Be(Ze(se,P))}}function at(U){return null!=U?Ct(Bt(U)):null}function gt(U){if(!U)return null;const P=U.filter(ge);return 0==P.length?null:function(se){return function Q(...U){const P=(0,he.jO)(U),{args:se,keys:d}=(0,Ce.D)(U),C=new J.y(_=>{const{length:N}=se;if(!N)return void _.complete();const ne=new Array(N);let It=N,on=N;for(let tn=0;tn<N;tn++){let Bn=!1;(0,ve.Xf)(se[tn]).subscribe((0,Ue.x)(_,lr=>{Bn||(Bn=!0,on--),ne[tn]=lr},()=>It--,void 0,()=>{(!It||!Bn)&&(on||_.next(d?(0,fe.n)(d,ne):ne),_.complete())}))}});return P?C.pipe((0,Ae.Z)(P)):C}(Ze(se,P).map(xe)).pipe((0,be.U)(Be))}}function Pe(U){return null!=U?gt(Bt(U)):null}function Et(U,P){return null===U?[P]:Array.isArray(U)?[...U,P]:[U,P]}function _t(U){return U._rawValidators}function Ut(U){return U._rawAsyncValidators}function cn(U){return U?Array.isArray(U)?U:[U]:[]}function an(U,P){return Array.isArray(U)?U.includes(P):U===P}function mn(U,P){const se=cn(P);return cn(U).forEach(C=>{an(se,C)||se.push(C)}),se}function Nn(U,P){return cn(P).filter(se=>!an(U,se))}class bn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=at(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=Pe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,se){return!!this.control&&this.control.hasError(P,se)}getError(P,se){return this.control?this.control.getError(P,se):null}}class _n extends bn{get formDirective(){return null}get path(){return null}}class Rn extends bn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class br{constructor(P){this._cd=P}get isTouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.touched)}get isUntouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.untouched)}get isPristine(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pristine)}get isDirty(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.dirty)}get isValid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.valid)}get isInvalid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.invalid)}get isPending(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pending)}get isSubmitted(){var P;return!(null===(P=this._cd)||void 0===P||!P.submitted)}}let Jt=(()=>{var U;class P extends br{constructor(d){super(d)}}return(U=P).\u0275fac=function(d){return new(d||U)(g.Y36(Rn,2))},U.\u0275dir=g.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(d,C){2&d&&g.ekj("ng-untouched",C.isUntouched)("ng-touched",C.isTouched)("ng-pristine",C.isPristine)("ng-dirty",C.isDirty)("ng-valid",C.isValid)("ng-invalid",C.isInvalid)("ng-pending",C.isPending)},features:[g.qOj]}),P})(),Mn=(()=>{var U;class P extends br{constructor(d){super(d)}}return(U=P).\u0275fac=function(d){return new(d||U)(g.Y36(_n,10))},U.\u0275dir=g.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(d,C){2&d&&g.ekj("ng-untouched",C.isUntouched)("ng-touched",C.isTouched)("ng-pristine",C.isPristine)("ng-dirty",C.isDirty)("ng-valid",C.isValid)("ng-invalid",C.isInvalid)("ng-pending",C.isPending)("ng-submitted",C.isSubmitted)},features:[g.qOj]}),P})();const yr="VALID",Wr="INVALID",fr="PENDING",rr="DISABLED";function Ne(U){return(B(U)?U.validators:U)||null}function V(U,P){return(B(P)?P.asyncValidators:U)||null}function B(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}class yt{constructor(P,se){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(P),this._assignAsyncValidators(se)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===yr}get invalid(){return this.status===Wr}get pending(){return this.status==fr}get disabled(){return this.status===rr}get enabled(){return this.status!==rr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._assignValidators(P)}setAsyncValidators(P){this._assignAsyncValidators(P)}addValidators(P){this.setValidators(mn(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(mn(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(Nn(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(Nn(P,this._rawAsyncValidators))}hasValidator(P){return an(this._rawValidators,P)}hasAsyncValidator(P){return an(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(se=>{se.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(se=>{se.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=fr,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const se=this._parentMarkedDirty(P.onlySelf);this.status=rr,this.errors=null,this._forEachChild(d=>{d.disable({...P,onlySelf:!0})}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:se}),this._onDisabledChange.forEach(d=>d(!0))}enable(P={}){const se=this._parentMarkedDirty(P.onlySelf);this.status=yr,this._forEachChild(d=>{d.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:se}),this._onDisabledChange.forEach(d=>d(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yr||this.status===fr)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(se=>se._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rr:yr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=fr,this._hasOwnPendingAsyncValidator=!0;const se=xe(this.asyncValidator(this));this._asyncValidationSubscription=se.subscribe(d=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(d,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,se={}){this.errors=P,this._updateControlsErrors(!1!==se.emitEvent)}get(P){let se=P;return null==se||(Array.isArray(se)||(se=se.split(".")),0===se.length)?null:se.reduce((d,C)=>d&&d._find(C),this)}getError(P,se){const d=se?this.get(se):this;return d&&d.errors?d.errors[P]:null}hasError(P,se){return!!this.getError(P,se)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?rr:this.errors?Wr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fr)?fr:this._anyControlsHaveStatus(Wr)?Wr:yr}_anyControlsHaveStatus(P){return this._anyControls(se=>se.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){B(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}_assignValidators(P){this._rawValidators=Array.isArray(P)?P.slice():P,this._composedValidatorFn=function X(U){return Array.isArray(U)?at(U):U||null}(this._rawValidators)}_assignAsyncValidators(P){this._rawAsyncValidators=Array.isArray(P)?P.slice():P,this._composedAsyncValidatorFn=function G(U){return Array.isArray(U)?Pe(U):U||null}(this._rawAsyncValidators)}}class $t extends yt{constructor(P,se,d){super(Ne(se),V(d,se)),this.controls=P,this._initObservables(),this._setUpdateStrategy(se),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,se){return this.controls[P]?this.controls[P]:(this.controls[P]=se,se.setParent(this),se._registerOnCollectionChange(this._onCollectionChange),se)}addControl(P,se,d={}){this.registerControl(P,se),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}removeControl(P,se={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}setControl(P,se,d={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],se&&this.registerControl(P,se),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,se={}){(function je(U,P,se){U._forEachChild((d,C)=>{if(void 0===se[C])throw new g.vHH(1002,"")})})(this,0,P),Object.keys(P).forEach(d=>{(function de(U,P,se){const d=U.controls;if(!(P?Object.keys(d):d).length)throw new g.vHH(1e3,"");if(!d[se])throw new g.vHH(1001,"")})(this,!0,d),this.controls[d].setValue(P[d],{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se)}patchValue(P,se={}){null!=P&&(Object.keys(P).forEach(d=>{const C=this.controls[d];C&&C.patchValue(P[d],{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se))}reset(P={},se={}){this._forEachChild((d,C)=>{d.reset(P[C],{onlySelf:!0,emitEvent:se.emitEvent})}),this._updatePristine(se),this._updateTouched(se),this.updateValueAndValidity(se)}getRawValue(){return this._reduceChildren({},(P,se,d)=>(P[d]=se.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(se,d)=>!!d._syncPendingControls()||se);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){Object.keys(this.controls).forEach(se=>{const d=this.controls[se];d&&P(d,se)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const[se,d]of Object.entries(this.controls))if(this.contains(se)&&P(d))return!0;return!1}_reduceValue(){return this._reduceChildren({},(se,d,C)=>((d.enabled||this.disabled)&&(se[C]=d.value),se))}_reduceChildren(P,se){let d=P;return this._forEachChild((C,_)=>{d=se(d,C,_)}),d}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(P){return this.controls.hasOwnProperty(P)?this.controls[P]:null}}const xn=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ur}),Ur="always";function pt(U,P,se=Ur){var d,C;fn(U,P),P.valueAccessor.writeValue(U.value),(U.disabled||"always"===se)&&(null===(d=(C=P.valueAccessor).setDisabledState)||void 0===d||d.call(C,U.disabled)),function Xn(U,P){P.valueAccessor.registerOnChange(se=>{U._pendingValue=se,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&Tr(U,P)})}(U,P),function mr(U,P){const se=(d,C)=>{P.valueAccessor.writeValue(d),C&&P.viewToModelUpdate(d)};U.registerOnChange(se),P._registerOnDestroy(()=>{U._unregisterOnChange(se)})}(U,P),function Nr(U,P){P.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&Tr(U,P),"submit"!==U.updateOn&&U.markAsTouched()})}(U,P),function hn(U,P){if(P.valueAccessor.setDisabledState){const se=d=>{P.valueAccessor.setDisabledState(d)};U.registerOnDisabledChange(se),P._registerOnDestroy(()=>{U._unregisterOnDisabledChange(se)})}}(U,P)}function it(U,P,se=!0){const d=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(d),P.valueAccessor.registerOnTouched(d)),function en(U,P){let se=!1;if(null!==U){if(null!==P.validator){const C=_t(U);if(Array.isArray(C)&&C.length>0){const _=C.filter(N=>N!==P.validator);_.length!==C.length&&(se=!0,U.setValidators(_))}}if(null!==P.asyncValidator){const C=Ut(U);if(Array.isArray(C)&&C.length>0){const _=C.filter(N=>N!==P.asyncValidator);_.length!==C.length&&(se=!0,U.setAsyncValidators(_))}}}const d=()=>{};return Lt(P._rawValidators,d),Lt(P._rawAsyncValidators,d),se}(U,P),U&&(P._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Lt(U,P){U.forEach(se=>{se.registerOnValidatorChange&&se.registerOnValidatorChange(P)})}function fn(U,P){const se=_t(U);null!==P.validator?U.setValidators(Et(se,P.validator)):"function"==typeof se&&U.setValidators([se]);const d=Ut(U);null!==P.asyncValidator?U.setAsyncValidators(Et(d,P.asyncValidator)):"function"==typeof d&&U.setAsyncValidators([d]);const C=()=>U.updateValueAndValidity();Lt(P._rawValidators,C),Lt(P._rawAsyncValidators,C)}function Tr(U,P){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function Kr(U,P){if(!U.hasOwnProperty("model"))return!1;const se=U.model;return!!se.isFirstChange()||!Object.is(P,se.currentValue)}function Ni(U,P){if(!P)return null;let se,d,C;return Array.isArray(P),P.forEach(_=>{_.constructor===He?se=_:function _r(U){return Object.getPrototypeOf(U.constructor)===Me}(_)?d=_:C=_}),C||d||se||null}const to={provide:_n,useExisting:(0,g.Gpc)(()=>me)},Z=(()=>Promise.resolve())();let me=(()=>{var U;class P extends _n{constructor(d,C,_){super(),this.callSetDisabledState=_,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new $t({},at(d),Pe(C))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(d){Z.then(()=>{const C=this._findContainer(d.path);d.control=C.registerControl(d.name,d.control),pt(d.control,d,this.callSetDisabledState),d.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(d)})}getControl(d){return this.form.get(d.path)}removeControl(d){Z.then(()=>{const C=this._findContainer(d.path);C&&C.removeControl(d.name),this._directives.delete(d)})}addFormGroup(d){Z.then(()=>{const C=this._findContainer(d.path),_=new $t({});(function er(U,P){fn(U,P)})(_,d),C.registerControl(d.name,_),_.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(d){Z.then(()=>{const C=this._findContainer(d.path);C&&C.removeControl(d.name)})}getFormGroup(d){return this.form.get(d.path)}updateModel(d,C){Z.then(()=>{this.form.get(d.path).setValue(C)})}setValue(d){this.control.setValue(d)}onSubmit(d){var C;return this.submitted=!0,function $i(U,P){U._syncPendingControls(),P.forEach(se=>{const d=se.control;"submit"===d.updateOn&&d._pendingChange&&(se.viewToModelUpdate(d._pendingValue),d._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(d),"dialog"===(null==d||null===(C=d.target)||void 0===C?void 0:C.method)}onReset(){this.resetForm()}resetForm(d=void 0){this.form.reset(d),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(d){return d.pop(),d.length?this.form.get(d):this.form}}return(U=P).\u0275fac=function(d){return new(d||U)(g.Y36(ke,10),g.Y36(Ee,10),g.Y36(xn,8))},U.\u0275dir=g.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(d,C){1&d&&g.NdJ("submit",function(N){return C.onSubmit(N)})("reset",function(){return C.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([to]),g.qOj]}),P})();function ie(U,P){const se=U.indexOf(P);se>-1&&U.splice(se,1)}function Se(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}const Ye=class extends yt{constructor(P=null,se,d){super(Ne(se),V(d,se)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(se),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B(se)&&(se.nonNullable||se.initialValueIsDefault)&&(this.defaultValue=Se(P)?P.value:P)}setValue(P,se={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==se.emitModelToViewChange&&this._onChange.forEach(d=>d(this.value,!1!==se.emitViewToModelChange)),this.updateValueAndValidity(se)}patchValue(P,se={}){this.setValue(P,se)}reset(P=this.defaultValue,se={}){this._applyFormState(P),this.markAsPristine(se),this.markAsUntouched(se),this.setValue(this.value,se),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){ie(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){ie(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){Se(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}},Ai={provide:Rn,useExisting:(0,g.Gpc)(()=>Ge)},We=(()=>Promise.resolve())();let Ge=(()=>{var U;class P extends Rn{constructor(d,C,_,N,ne,It){super(),this._changeDetectorRef=ne,this.callSetDisabledState=It,this.control=new Ye,this._registered=!1,this.name="",this.update=new g.vpe,this._parent=d,this._setValidators(C),this._setAsyncValidators(_),this.valueAccessor=Ni(0,N)}ngOnChanges(d){if(this._checkForErrors(),!this._registered||"name"in d){if(this._registered&&(this._checkName(),this.formDirective)){const C=d.name.previousValue;this.formDirective.removeControl({name:C,path:this._getPath(C)})}this._setUpControl()}"isDisabled"in d&&this._updateDisabled(d),Kr(d,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(d){this.viewModel=d,this.update.emit(d)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(d){We.then(()=>{var C;this.control.setValue(d,{emitViewToModelChange:!1}),null===(C=this._changeDetectorRef)||void 0===C||C.markForCheck()})}_updateDisabled(d){const C=d.isDisabled.currentValue,_=0!==C&&(0,g.VuI)(C);We.then(()=>{var N;_&&!this.control.disabled?this.control.disable():!_&&this.control.disabled&&this.control.enable(),null===(N=this._changeDetectorRef)||void 0===N||N.markForCheck()})}_getPath(d){return this._parent?function qr(U,P){return[...P.path,U]}(d,this._parent):[d]}}return(U=P).\u0275fac=function(d){return new(d||U)(g.Y36(_n,9),g.Y36(ke,10),g.Y36(Ee,10),g.Y36(Le,10),g.Y36(g.sBO,8),g.Y36(xn,8))},U.\u0275dir=g.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([Ai]),g.qOj,g.TTD]}),P})(),Je=(()=>{var U;class P{}return(U=P).\u0275fac=function(d){return new(d||U)},U.\u0275dir=g.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})(),Un=(()=>{var U;class P{}return(U=P).\u0275fac=function(d){return new(d||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({}),P})();const Mi=new g.OlP("NgModelWithFormControlWarning"),Jo={provide:Rn,useExisting:(0,g.Gpc)(()=>zo)};let zo=(()=>{var U;class P extends Rn{set isDisabled(d){}constructor(d,C,_,N,ne){super(),this._ngModelWarningConfig=N,this.callSetDisabledState=ne,this.update=new g.vpe,this._ngModelWarningSent=!1,this._setValidators(d),this._setAsyncValidators(C),this.valueAccessor=Ni(0,_)}ngOnChanges(d){if(this._isControlChanged(d)){const C=d.form.previousValue;C&&it(C,this,!1),pt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Kr(d,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&it(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(d){this.viewModel=d,this.update.emit(d)}_isControlChanged(d){return d.hasOwnProperty("form")}}return(U=P)._ngModelWarningSentOnce=!1,U.\u0275fac=function(d){return new(d||U)(g.Y36(ke,10),g.Y36(Ee,10),g.Y36(Le,10),g.Y36(Mi,8),g.Y36(xn,8))},U.\u0275dir=g.lG2({type:U,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[g._Bn([Jo]),g.qOj,g.TTD]}),P})(),Js=(()=>{var U;class P{}return(U=P).\u0275fac=function(d){return new(d||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[Un]}),P})(),Lo=(()=>{var U;class P{static withConfig(d){var C;return{ngModule:P,providers:[{provide:xn,useValue:null!==(C=d.callSetDisabledState)&&void 0!==C?C:Ur}]}}}return(U=P).\u0275fac=function(d){return new(d||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[Js]}),P})(),il=(()=>{var U;class P{static withConfig(d){var C,_;return{ngModule:P,providers:[{provide:Mi,useValue:null!==(C=d.warnOnNgModelWithFormControl)&&void 0!==C?C:"always"},{provide:xn,useValue:null!==(_=d.callSetDisabledState)&&void 0!==_?_:Ur}]}}}return(U=P).\u0275fac=function(d){return new(d||U)},U.\u0275mod=g.oAB({type:U}),U.\u0275inj=g.cJS({imports:[Js]}),P})()},6593:(qt,Ke,k)=>{"use strict";k.d(Ke,{Dx:()=>Rn,b2:()=>an,q6:()=>Et});var g=k(5879),f=k(6814);class W extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends W{static makeCurrent(){(0,f.HT)(new J)}onAndCancel(V,G,B){return V.addEventListener(G,B),()=>{V.removeEventListener(G,B)}}dispatchEvent(V,G){V.dispatchEvent(G)}remove(V){V.parentNode&&V.parentNode.removeChild(V)}createElement(V,G){return(G=G||this.getDefaultDocument()).createElement(V)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(V){return V.nodeType===Node.ELEMENT_NODE}isShadowRoot(V){return V instanceof DocumentFragment}getGlobalEventTarget(V,G){return"window"===G?window:"document"===G?V:"body"===G?V.body:null}getBaseHref(V){const G=function ve(){return Ce=Ce||document.querySelector("base"),Ce?Ce.getAttribute("href"):null}();return null==G?null:function Ue(X){he=he||document.createElement("a"),he.setAttribute("href",X);const V=he.pathname;return"/"===V.charAt(0)?V:`/${V}`}(G)}resetBaseElement(){Ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(V){return(0,f.Mx)(document.cookie,V)}}let he,Ce=null,fe=(()=>{var X;class V{build(){return new XMLHttpRequest}}return(X=V).\u0275fac=function(B){return new(B||X)},X.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac}),V})();const Q=new g.OlP("EventManagerPlugins");let be=(()=>{var X;class V{constructor(B,de){this._zone=de,this._eventNameToPlugin=new Map,B.forEach(je=>{je.manager=this}),this._plugins=B.slice().reverse()}addEventListener(B,de,je){return this._findPluginFor(de).addEventListener(B,de,je)}getZone(){return this._zone}_findPluginFor(B){let de=this._eventNameToPlugin.get(B);if(de)return de;if(de=this._plugins.find(yt=>yt.supports(B)),!de)throw new g.vHH(5101,!1);return this._eventNameToPlugin.set(B,de),de}}return(X=V).\u0275fac=function(B){return new(B||X)(g.LFG(Q),g.LFG(g.R0b))},X.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac}),V})();class Ie{constructor(V){this._doc=V}}const Me="ng-app-id";let Le=(()=>{var X;class V{constructor(B,de,je,yt={}){this.doc=B,this.appId=de,this.nonce=je,this.platformId=yt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,f.PM)(yt),this.resetHostNodes()}addStyles(B){for(const de of B)1===this.changeUsageCount(de,1)&&this.onStyleAdded(de)}removeStyles(B){for(const de of B)this.changeUsageCount(de,-1)<=0&&this.onStyleRemoved(de)}ngOnDestroy(){const B=this.styleNodesInDOM;B&&(B.forEach(de=>de.remove()),B.clear());for(const de of this.getAllStyles())this.onStyleRemoved(de);this.resetHostNodes()}addHost(B){this.hostNodes.add(B);for(const de of this.getAllStyles())this.addStyleToHost(B,de)}removeHost(B){this.hostNodes.delete(B)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(B){for(const de of this.hostNodes)this.addStyleToHost(de,B)}onStyleRemoved(B){var de;const je=this.styleRef;null===(de=je.get(B))||void 0===de||null===(de=de.elements)||void 0===de||de.forEach(yt=>yt.remove()),je.delete(B)}collectServerRenderedStyles(){var B;const de=null===(B=this.doc.head)||void 0===B?void 0:B.querySelectorAll(`style[${Me}="${this.appId}"]`);if(null!=de&&de.length){const je=new Map;return de.forEach(yt=>{null!=yt.textContent&&je.set(yt.textContent,yt)}),je}return null}changeUsageCount(B,de){const je=this.styleRef;if(je.has(B)){const yt=je.get(B);return yt.usage+=de,yt.usage}return je.set(B,{usage:de,elements:[]}),de}getStyleElement(B,de){const je=this.styleNodesInDOM,yt=null==je?void 0:je.get(de);if((null==yt?void 0:yt.parentNode)===B)return je.delete(de),yt.removeAttribute(Me),yt;{const $t=this.doc.createElement("style");return this.nonce&&$t.setAttribute("nonce",this.nonce),$t.textContent=de,this.platformIsServer&&$t.setAttribute(Me,this.appId),$t}}addStyleToHost(B,de){var je;const yt=this.getStyleElement(B,de);B.appendChild(yt);const $t=this.styleRef,Vt=null===(je=$t.get(de))||void 0===je?void 0:je.elements;Vt?Vt.push(yt):$t.set(de,{elements:[yt],usage:1})}resetHostNodes(){const B=this.hostNodes;B.clear(),B.add(this.doc.head)}}return(X=V).\u0275fac=function(B){return new(B||X)(g.LFG(f.K0),g.LFG(g.AFp),g.LFG(g.Ojb,8),g.LFG(g.Lbi))},X.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac}),V})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Te=/%COMP%/g,pe=new g.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ee(X,V){return V.map(G=>G.replace(Te,X))}let te=(()=>{var X;class V{constructor(B,de,je,yt,$t,Vt,Gt,dn=null){this.eventManager=B,this.sharedStylesHost=de,this.appId=je,this.removeStylesOnCompDestroy=yt,this.doc=$t,this.platformId=Vt,this.ngZone=Gt,this.nonce=dn,this.rendererByCompId=new Map,this.platformIsServer=(0,f.PM)(Vt),this.defaultRenderer=new dt(B,$t,Gt,this.platformIsServer)}createRenderer(B,de){if(!B||!de)return this.defaultRenderer;this.platformIsServer&&de.encapsulation===g.ifc.ShadowDom&&(de={...de,encapsulation:g.ifc.Emulated});const je=this.getOrCreateRenderer(B,de);return je instanceof In?je.applyToHost(B):je instanceof Wt&&je.applyStyles(),je}getOrCreateRenderer(B,de){const je=this.rendererByCompId;let yt=je.get(de.id);if(!yt){const $t=this.doc,Vt=this.ngZone,Gt=this.eventManager,dn=this.sharedStylesHost,Jn=this.removeStylesOnCompDestroy,xn=this.platformIsServer;switch(de.encapsulation){case g.ifc.Emulated:yt=new In(Gt,dn,de,this.appId,Jn,$t,Vt,xn);break;case g.ifc.ShadowDom:return new ft(Gt,dn,B,de,$t,Vt,this.nonce,xn);default:yt=new Wt(Gt,dn,de,Jn,$t,Vt,xn)}je.set(de.id,yt)}return yt}ngOnDestroy(){this.rendererByCompId.clear()}}return(X=V).\u0275fac=function(B){return new(B||X)(g.LFG(be),g.LFG(Le),g.LFG(g.AFp),g.LFG(pe),g.LFG(f.K0),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(g.Ojb))},X.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac}),V})();class dt{constructor(V,G,B,de){this.eventManager=V,this.doc=G,this.ngZone=B,this.platformIsServer=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(V,G){return G?this.doc.createElementNS(rt[G]||G,V):this.doc.createElement(V)}createComment(V){return this.doc.createComment(V)}createText(V){return this.doc.createTextNode(V)}appendChild(V,G){(lt(V)?V.content:V).appendChild(G)}insertBefore(V,G,B){V&&(lt(V)?V.content:V).insertBefore(G,B)}removeChild(V,G){V&&V.removeChild(G)}selectRootElement(V,G){let B="string"==typeof V?this.doc.querySelector(V):V;if(!B)throw new g.vHH(-5104,!1);return G||(B.textContent=""),B}parentNode(V){return V.parentNode}nextSibling(V){return V.nextSibling}setAttribute(V,G,B,de){if(de){G=de+":"+G;const je=rt[de];je?V.setAttributeNS(je,G,B):V.setAttribute(G,B)}else V.setAttribute(G,B)}removeAttribute(V,G,B){if(B){const de=rt[B];de?V.removeAttributeNS(de,G):V.removeAttribute(`${B}:${G}`)}else V.removeAttribute(G)}addClass(V,G){V.classList.add(G)}removeClass(V,G){V.classList.remove(G)}setStyle(V,G,B,de){de&(g.JOm.DashCase|g.JOm.Important)?V.style.setProperty(G,B,de&g.JOm.Important?"important":""):V.style[G]=B}removeStyle(V,G,B){B&g.JOm.DashCase?V.style.removeProperty(G):V.style[G]=""}setProperty(V,G,B){V[G]=B}setValue(V,G){V.nodeValue=G}listen(V,G,B){if("string"==typeof V&&!(V=(0,f.q)().getGlobalEventTarget(this.doc,V)))throw new Error(`Unsupported event target ${V} for event ${G}`);return this.eventManager.addEventListener(V,G,this.decoratePreventDefault(B))}decoratePreventDefault(V){return G=>{if("__ngUnwrap__"===G)return V;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>V(G)):V(G))&&G.preventDefault()}}}function lt(X){return"TEMPLATE"===X.tagName&&void 0!==X.content}class ft extends dt{constructor(V,G,B,de,je,yt,$t,Vt){super(V,je,yt,Vt),this.sharedStylesHost=G,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gt=Ee(de.id,de.styles);for(const dn of Gt){const Jn=document.createElement("style");$t&&Jn.setAttribute("nonce",$t),Jn.textContent=dn,this.shadowRoot.appendChild(Jn)}}nodeOrShadowRoot(V){return V===this.hostEl?this.shadowRoot:V}appendChild(V,G){return super.appendChild(this.nodeOrShadowRoot(V),G)}insertBefore(V,G,B){return super.insertBefore(this.nodeOrShadowRoot(V),G,B)}removeChild(V,G){return super.removeChild(this.nodeOrShadowRoot(V),G)}parentNode(V){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(V)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wt extends dt{constructor(V,G,B,de,je,yt,$t,Vt){super(V,je,yt,$t),this.sharedStylesHost=G,this.removeStylesOnCompDestroy=de,this.styles=Vt?Ee(Vt,B.styles):B.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class In extends Wt{constructor(V,G,B,de,je,yt,$t,Vt){const Gt=de+"-"+B.id;super(V,G,B,je,yt,$t,Vt,Gt),this.contentAttr=function Re(X){return"_ngcontent-%COMP%".replace(Te,X)}(Gt),this.hostAttr=function ke(X){return"_nghost-%COMP%".replace(Te,X)}(Gt)}applyToHost(V){this.applyStyles(),this.setAttribute(V,this.hostAttr,"")}createElement(V,G){const B=super.createElement(V,G);return super.setAttribute(B,this.contentAttr,""),B}}let zt=(()=>{var X;class V extends Ie{constructor(B){super(B)}supports(B){return!0}addEventListener(B,de,je){return B.addEventListener(de,je,!1),()=>this.removeEventListener(B,de,je)}removeEventListener(B,de,je){return B.removeEventListener(de,je)}}return(X=V).\u0275fac=function(B){return new(B||X)(g.LFG(f.K0))},X.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac}),V})();const ht=["alt","control","meta","shift"],le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ge={alt:X=>X.altKey,control:X=>X.ctrlKey,meta:X=>X.metaKey,shift:X=>X.shiftKey};let xe=(()=>{var X;class V extends Ie{constructor(B){super(B)}supports(B){return null!=V.parseEventName(B)}addEventListener(B,de,je){const yt=V.parseEventName(de),$t=V.eventCallback(yt.fullKey,je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(B,yt.domEventName,$t))}static parseEventName(B){const de=B.toLowerCase().split("."),je=de.shift();if(0===de.length||"keydown"!==je&&"keyup"!==je)return null;const yt=V._normalizeKey(de.pop());let $t="",Vt=de.indexOf("code");if(Vt>-1&&(de.splice(Vt,1),$t="code."),ht.forEach(dn=>{const Jn=de.indexOf(dn);Jn>-1&&(de.splice(Jn,1),$t+=dn+".")}),$t+=yt,0!=de.length||0===yt.length)return null;const Gt={};return Gt.domEventName=je,Gt.fullKey=$t,Gt}static matchEventFullKeyCode(B,de){let je=le[B.key]||B.key,yt="";return de.indexOf("code.")>-1&&(je=B.code,yt="code."),!(null==je||!je)&&(je=je.toLowerCase()," "===je?je="space":"."===je&&(je="dot"),ht.forEach($t=>{$t!==je&&(0,ge[$t])(B)&&(yt+=$t+".")}),yt+=je,yt===de)}static eventCallback(B,de,je){return yt=>{V.matchEventFullKeyCode(yt,B)&&je.runGuarded(()=>de(yt))}}static _normalizeKey(B){return"esc"===B?"escape":B}}return(X=V).\u0275fac=function(B){return new(B||X)(g.LFG(f.K0))},X.\u0275prov=g.Yz7({token:X,factory:X.\u0275fac}),V})();const Et=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:f.bD},{provide:g.g9A,useValue:function Ct(){J.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function gt(){return(0,g.RDi)(document),document},deps:[]}]),_t=new g.OlP(""),Ut=[{provide:g.rWj,useClass:class Ae{addToWindow(V){g.dqk.getAngularTestability=(B,de=!0)=>{const je=V.findTestabilityInTree(B,de);if(null==je)throw new g.vHH(5103,!1);return je},g.dqk.getAllAngularTestabilities=()=>V.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>V.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(B=>{const de=g.dqk.getAllAngularTestabilities();let je=de.length,yt=!1;const $t=function(Vt){yt=yt||Vt,je--,0==je&&B(yt)};de.forEach(Vt=>{Vt.whenStable($t)})})}findTestabilityInTree(V,G,B){if(null==G)return null;const de=V.getTestability(G);return null!=de?de:B?(0,f.q)().isShadowRoot(G)?this.findTestabilityInTree(V,G.host,!0):this.findTestabilityInTree(V,G.parentElement,!0):null}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],cn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function at(){return new g.qLn},deps:[]},{provide:Q,useClass:zt,multi:!0,deps:[f.K0,g.R0b,g.Lbi]},{provide:Q,useClass:xe,multi:!0,deps:[f.K0]},te,Le,be,{provide:g.FYo,useExisting:te},{provide:f.JF,useClass:fe,deps:[]},[]];let an=(()=>{var X;class V{constructor(B){}static withServerTransition(B){return{ngModule:V,providers:[{provide:g.AFp,useValue:B.appId}]}}}return(X=V).\u0275fac=function(B){return new(B||X)(g.LFG(_t,12))},X.\u0275mod=g.oAB({type:X}),X.\u0275inj=g.cJS({providers:[...cn,...Ut],imports:[f.ez,g.hGG]}),V})(),Rn=(()=>{var X;class V{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}}return(X=V).\u0275fac=function(B){return new(B||X)(g.LFG(f.K0))},X.\u0275prov=g.Yz7({token:X,factory:function(B){let de=null;return de=B?new B:function _n(){return new Rn((0,g.LFG)(f.K0))}(),de},providedIn:"root"}),V})();typeof window<"u"&&window},6745:(qt,Ke,k)=>{"use strict";k.d(Ke,{gz:()=>Un,y6:()=>Dr,OD:()=>_r,eC:()=>Ct,wm:()=>Gs,wN:()=>Kt,F0:()=>Ki,rH:()=>ps,Bz:()=>Vo,Hx:()=>xt});var g=k(5879),f=k(5592),W=k(4674),Ce=k(2459),ve=k(2096),he=k(5619),Ue=k(2572),Ae=k(6973),fe=k(5211),Q=k(4829);function be(E){return new f.y(S=>{(0,Q.Xf)(E()).subscribe(S)})}var Ie=k(8407);function Me(E,S){const O=(0,W.m)(E)?E:()=>E,I=F=>F.error(O());return new f.y(S?F=>S.schedule(I,0,F):I)}var Le=k(6232),rt=k(7394),Te=k(9360),we=k(8251);function oe(){return(0,Te.e)((E,S)=>{let O=null;E._refCount++;const I=(0,we.x)(S,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(O=null);const F=E._connection,ee=O;O=null,F&&(!ee||F===ee)&&F.unsubscribe(),S.unsubscribe()});E.subscribe(I),I.closed||(O=E.connect())})}class ot extends f.y{constructor(S,O){super(),this.source=S,this.subjectFactory=O,this._subject=null,this._refCount=0,this._connection=null,(0,Te.A)(S)&&(this.lift=S.lift)}_subscribe(S){return this.getSubject().subscribe(S)}getSubject(){const S=this._subject;return(!S||S.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:S}=this;this._subject=this._connection=null,null==S||S.unsubscribe()}connect(){let S=this._connection;if(!S){S=this._connection=new rt.w0;const O=this.getSubject();S.add(this.source.subscribe((0,we.x)(O,void 0,()=>{this._teardown(),O.complete()},I=>{this._teardown(),O.error(I)},()=>this._teardown()))),S.closed&&(this._connection=null,S=rt.w0.EMPTY)}return S}refCount(){return oe()(this)}}var He=k(8645),pe=k(6814),Re=k(7398),ke=k(4664),Ee=k(8180),te=k(7921),dt=k(2181),Ve=k(1631),st=k(1374);function lt(E,S){return(0,W.m)(S)?(0,Ve.z)(E,S,1):(0,Ve.z)(E,1)}var ft=k(9397);function Wt(E){return(0,Te.e)((S,O)=>{let ee,I=null,F=!1;I=S.subscribe((0,we.x)(O,void 0,void 0,ye=>{ee=(0,Q.Xf)(E(ye,Wt(E)(S))),I?(I.unsubscribe(),I=null,ee.subscribe(O)):F=!0})),F&&(I.unsubscribe(),I=null,ee.subscribe(O))})}var In=k(6699),zt=k(3572);function ht(E){return E<=0?()=>Le.E:(0,Te.e)((S,O)=>{let I=[];S.subscribe((0,we.x)(O,F=>{I.push(F),E<I.length&&I.shift()},()=>{for(const F of I)O.next(F);O.complete()},void 0,()=>{I=null}))})}var le=k(3026),ge=k(2737);function Ze(E){return(0,Te.e)((S,O)=>{try{S.subscribe(O)}finally{O.add(E)}})}var Xe=k(7537),Bt=k(6593);const Ct="primary",at=Symbol("RouteTitle");class gt{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O[0]:O}return null}getAll(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function Pe(E){return new gt(E)}function Et(E,S,O){const I=O.path.split("/");if(I.length>E.length||"full"===O.pathMatch&&(S.hasChildren()||I.length<E.length))return null;const F={};for(let ee=0;ee<I.length;ee++){const ye=I[ee],Oe=E[ee];if(ye.startsWith(":"))F[ye.substring(1)]=Oe;else if(ye!==Oe.path)return null}return{consumed:E.slice(0,I.length),posParams:F}}function Ut(E,S){const O=E?Object.keys(E):void 0,I=S?Object.keys(S):void 0;if(!O||!I||O.length!=I.length)return!1;let F;for(let ee=0;ee<O.length;ee++)if(F=O[ee],!cn(E[F],S[F]))return!1;return!0}function cn(E,S){if(Array.isArray(E)&&Array.isArray(S)){if(E.length!==S.length)return!1;const O=[...E].sort(),I=[...S].sort();return O.every((F,ee)=>I[ee]===F)}return E===S}function an(E){return E.length>0?E[E.length-1]:null}function mn(E){return function J(E){return!!E&&(E instanceof f.y||(0,W.m)(E.lift)&&(0,W.m)(E.subscribe))}(E)?E:(0,g.QGY)(E)?(0,Ce.D)(Promise.resolve(E)):(0,ve.of)(E)}const Nn={exact:function br(E,S,O){if(!Yt(E.segments,S.segments)||!Mn(E.segments,S.segments,O)||E.numberOfChildren!==S.numberOfChildren)return!1;for(const I in S.children)if(!E.children[I]||!br(E.children[I],S.children[I],O))return!1;return!0},subset:vr},bn={exact:function Rn(E,S){return Ut(E,S)},subset:function sr(E,S){return Object.keys(S).length<=Object.keys(E).length&&Object.keys(S).every(O=>cn(E[O],S[O]))},ignored:()=>!0};function _n(E,S,O){return Nn[O.paths](E.root,S.root,O.matrixParams)&&bn[O.queryParams](E.queryParams,S.queryParams)&&!("exact"===O.fragment&&E.fragment!==S.fragment)}function vr(E,S,O){return Jt(E,S,S.segments,O)}function Jt(E,S,O,I){if(E.segments.length>O.length){const F=E.segments.slice(0,O.length);return!(!Yt(F,O)||S.hasChildren()||!Mn(F,O,I))}if(E.segments.length===O.length){if(!Yt(E.segments,O)||!Mn(E.segments,O,I))return!1;for(const F in S.children)if(!E.children[F]||!vr(E.children[F],S.children[F],I))return!1;return!0}{const F=O.slice(0,E.segments.length),ee=O.slice(E.segments.length);return!!(Yt(E.segments,F)&&Mn(E.segments,F,I)&&E.children[Ct])&&Jt(E.children[Ct],S,ee,I)}}function Mn(E,S,O){return S.every((I,F)=>bn[O](E[F].parameters,I.parameters))}class qn{constructor(S=new un([],{}),O={},I=null){this.root=S,this.queryParams=O,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pe(this.queryParams)),this._queryParamMap}toString(){return $n.serialize(this)}}class un{constructor(S,O){this.segments=S,this.children=O,this.parent=null,Object.values(O).forEach(I=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Er(this)}}class Fr{constructor(S,O){this.path=S,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=Pe(this.parameters)),this._parameterMap}toString(){return yr(this)}}function Yt(E,S){return E.length===S.length&&E.every((O,I)=>O.path===S[I].path)}let xt=(()=>{var E;class S{}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return new Qr},providedIn:"root"}),S})();class Qr{parse(S){const O=new yt(S);return new qn(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(S){const O=`/${Yr(S.root,!0)}`,I=function fr(E){const S=Object.keys(E).map(O=>{const I=E[O];return Array.isArray(I)?I.map(F=>`${Mr(O)}=${Mr(F)}`).join("&"):`${Mr(O)}=${Mr(I)}`}).filter(O=>!!O);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${O}${I}${"string"==typeof S.fragment?`#${function xr(E){return encodeURI(E)}(S.fragment)}`:""}`}}const $n=new Qr;function Er(E){return E.segments.map(S=>yr(S)).join("/")}function Yr(E,S){if(!E.hasChildren())return Er(E);if(S){const O=E.children[Ct]?Yr(E.children[Ct],!1):"",I=[];return Object.entries(E.children).forEach(([F,ee])=>{F!==Ct&&I.push(`${F}:${Yr(ee,!1)}`)}),I.length>0?`${O}(${I.join("//")})`:O}{const O=function Lr(E,S){let O=[];return Object.entries(E.children).forEach(([I,F])=>{I===Ct&&(O=O.concat(S(F,I)))}),Object.entries(E.children).forEach(([I,F])=>{I!==Ct&&(O=O.concat(S(F,I)))}),O}(E,(I,F)=>F===Ct?[Yr(E.children[Ct],!1)]:[`${F}:${Yr(I,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Ct]?`${Er(E)}/${O[0]}`:`${Er(E)}/(${O.join("//")})`}}function oi(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mr(E){return oi(E).replace(/%3B/gi,";")}function Cr(E){return oi(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pr(E){return decodeURIComponent(E)}function Vr(E){return Pr(E.replace(/\+/g,"%20"))}function yr(E){return`${Cr(E.path)}${function Wr(E){return Object.keys(E).map(S=>`;${Cr(S)}=${Cr(E[S])}`).join("")}(E.parameters)}`}const rr=/^[^\/()?;#]+/;function Ne(E){const S=E.match(rr);return S?S[0]:""}const X=/^[^\/()?;=#]+/,G=/^[^=?&#]+/,de=/^[^&#]+/;class yt{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(S.length>0||Object.keys(O).length>0)&&(I[Ct]=new un(S,O)),I}parseSegment(){const S=Ne(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(S),new Fr(Pr(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const O=function V(E){const S=E.match(X);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let I="";if(this.consumeOptional("=")){const F=Ne(this.remaining);F&&(I=F,this.capture(I))}S[Pr(O)]=Pr(I)}parseQueryParam(S){const O=function B(E){const S=E.match(G);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let I="";if(this.consumeOptional("=")){const ye=function je(E){const S=E.match(de);return S?S[0]:""}(this.remaining);ye&&(I=ye,this.capture(I))}const F=Vr(O),ee=Vr(I);if(S.hasOwnProperty(F)){let ye=S[F];Array.isArray(ye)||(ye=[ye],S[F]=ye),ye.push(ee)}else S[F]=ee}parseParens(S){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=Ne(this.remaining),F=this.remaining[I.length];if("/"!==F&&")"!==F&&";"!==F)throw new g.vHH(4010,!1);let ee;I.indexOf(":")>-1?(ee=I.slice(0,I.indexOf(":")),this.capture(ee),this.capture(":")):S&&(ee=Ct);const ye=this.parseChildren();O[ee]=1===Object.keys(ye).length?ye[Ct]:new un([],ye),this.consumeOptional("//")}return O}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new g.vHH(4011,!1)}}function $t(E){return E.segments.length>0?new un([],{[Ct]:E}):E}function Vt(E){const S={};for(const I of Object.keys(E.children)){const ee=Vt(E.children[I]);if(I===Ct&&0===ee.segments.length&&ee.hasChildren())for(const[ye,Oe]of Object.entries(ee.children))S[ye]=Oe;else(ee.segments.length>0||ee.hasChildren())&&(S[I]=ee)}return function Gt(E){if(1===E.numberOfChildren&&E.children[Ct]){const S=E.children[Ct];return new un(E.segments.concat(S.segments),S.children)}return E}(new un(E.segments,S))}function dn(E){return E instanceof qn}function xn(E){var S;let O;const ee=$t(function I(ye){const Oe={};for(const Pt of ye.children){const kn=I(Pt);Oe[Pt.outlet]=kn}const At=new un(ye.url,Oe);return ye===E&&(O=At),At}(E.root));return null!==(S=O)&&void 0!==S?S:ee}function Ur(E,S,O,I){let F=E;for(;F.parent;)F=F.parent;if(0===S.length)return it(F,F,F,O,I);const ee=function fn(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new hn(!0,0,E);let S=0,O=!1;const I=E.reduce((F,ee,ye)=>{if("object"==typeof ee&&null!=ee){if(ee.outlets){const Oe={};return Object.entries(ee.outlets).forEach(([At,Pt])=>{Oe[At]="string"==typeof Pt?Pt.split("/"):Pt}),[...F,{outlets:Oe}]}if(ee.segmentPath)return[...F,ee.segmentPath]}return"string"!=typeof ee?[...F,ee]:0===ye?(ee.split("/").forEach((Oe,At)=>{0==At&&"."===Oe||(0==At&&""===Oe?O=!0:".."===Oe?S++:""!=Oe&&F.push(Oe))}),F):[...F,ee]},[]);return new hn(O,S,I)}(S);if(ee.toRoot())return it(F,F,new un([],{}),O,I);const ye=function Xn(E,S,O){if(E.isAbsolute)return new en(S,!0,0);if(!O)return new en(S,!1,NaN);if(null===O.parent)return new en(O,!0,0);const I=qr(E.commands[0])?0:1;return function Nr(E,S,O){let I=E,F=S,ee=O;for(;ee>F;){if(ee-=F,I=I.parent,!I)throw new g.vHH(4005,!1);F=I.segments.length}return new en(I,!1,F-ee)}(O,O.segments.length-1+I,E.numberOfDoubleDots)}(ee,F,E),Oe=ye.processChildren?er(ye.segmentGroup,ye.index,ee.commands):mr(ye.segmentGroup,ye.index,ee.commands);return it(F,ye.segmentGroup,Oe,O,I)}function qr(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function pt(E){return"object"==typeof E&&null!=E&&E.outlets}function it(E,S,O,I,F){let ye,ee={};I&&Object.entries(I).forEach(([At,Pt])=>{ee[At]=Array.isArray(Pt)?Pt.map(kn=>`${kn}`):`${Pt}`}),ye=E===S?O:Lt(E,S,O);const Oe=$t(Vt(ye));return new qn(Oe,ee,F)}function Lt(E,S,O){const I={};return Object.entries(E.children).forEach(([F,ee])=>{I[F]=ee===S?O:Lt(ee,S,O)}),new un(E.segments,I)}class hn{constructor(S,O,I){if(this.isAbsolute=S,this.numberOfDoubleDots=O,this.commands=I,S&&I.length>0&&qr(I[0]))throw new g.vHH(4003,!1);const F=I.find(pt);if(F&&F!==an(I))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class en{constructor(S,O,I){this.segmentGroup=S,this.processChildren=O,this.index=I}}function mr(E,S,O){if(E||(E=new un([],{})),0===E.segments.length&&E.hasChildren())return er(E,S,O);const I=function Qn(E,S,O){let I=0,F=S;const ee={match:!1,pathIndex:0,commandIndex:0};for(;F<E.segments.length;){if(I>=O.length)return ee;const ye=E.segments[F],Oe=O[I];if(pt(Oe))break;const At=`${Oe}`,Pt=I<O.length-1?O[I+1]:null;if(F>0&&void 0===At)break;if(At&&Pt&&"object"==typeof Pt&&void 0===Pt.outlets){if(!Bi(At,Pt,ye))return ee;I+=2}else{if(!Bi(At,{},ye))return ee;I++}F++}return{match:!0,pathIndex:F,commandIndex:I}}(E,S,O),F=O.slice(I.commandIndex);if(I.match&&I.pathIndex<E.segments.length){const ee=new un(E.segments.slice(0,I.pathIndex),{});return ee.children[Ct]=new un(E.segments.slice(I.pathIndex),E.children),er(ee,0,F)}return I.match&&0===F.length?new un(E.segments,{}):I.match&&!E.hasChildren()?yo(E,S,O):I.match?er(E,0,F):yo(E,S,O)}function er(E,S,O){if(0===O.length)return new un(E.segments,{});{const I=function Tr(E){return pt(E[0])?E[0].outlets:{[Ct]:E}}(O),F={};if(!I[Ct]&&E.children[Ct]&&1===E.numberOfChildren&&0===E.children[Ct].segments.length){const ee=er(E.children[Ct],S,O);return new un(E.segments,ee.children)}return Object.entries(I).forEach(([ee,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(F[ee]=mr(E.children[ee],S,ye))}),Object.entries(E.children).forEach(([ee,ye])=>{void 0===I[ee]&&(F[ee]=ye)}),new un(E.segments,F)}}function yo(E,S,O){const I=E.segments.slice(0,S);let F=0;for(;F<O.length;){const ee=O[F];if(pt(ee)){const At=lo(ee.outlets);return new un(I,At)}if(0===F&&qr(O[0])){I.push(new Fr(E.segments[S].path,si(O[0]))),F++;continue}const ye=pt(ee)?ee.outlets[Ct]:`${ee}`,Oe=F<O.length-1?O[F+1]:null;ye&&Oe&&qr(Oe)?(I.push(new Fr(ye,si(Oe))),F+=2):(I.push(new Fr(ye,{})),F++)}return new un(I,{})}function lo(E){const S={};return Object.entries(E).forEach(([O,I])=>{"string"==typeof I&&(I=[I]),null!==I&&(S[O]=yo(new un([],{}),0,I))}),S}function si(E){const S={};return Object.entries(E).forEach(([O,I])=>S[O]=`${I}`),S}function Bi(E,S,O){return E==O.path&&Ut(S,O.parameters)}const Hi="imperative";class Kr{constructor(S,O){this.id=S,this.url=O}}class _r extends Kr{constructor(S,O,I="imperative",F=null){super(S,O),this.type=0,this.navigationTrigger=I,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $i extends Kr{constructor(S,O,I){super(S,O),this.urlAfterRedirects=I,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ni extends Kr{constructor(S,O,I,F){super(S,O),this.reason=I,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mi extends Kr{constructor(S,O,I,F){super(S,O),this.reason=I,this.code=F,this.type=16}}class _o extends Kr{constructor(S,O,I,F){super(S,O),this.error=I,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class to extends Kr{constructor(S,O,I,F){super(S,O),this.urlAfterRedirects=I,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z extends Kr{constructor(S,O,I,F){super(S,O),this.urlAfterRedirects=I,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class me extends Kr{constructor(S,O,I,F,ee){super(S,O),this.urlAfterRedirects=I,this.state=F,this.shouldActivate=ee,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ie extends Kr{constructor(S,O,I,F){super(S,O),this.urlAfterRedirects=I,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends Kr{constructor(S,O,I,F){super(S,O),this.urlAfterRedirects=I,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qe{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vt{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mt{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ft{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rt{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(S,O,I){this.routerEvent=S,this.position=O,this.anchor=I,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kn{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Dr,this.attachRef=null}}let Dr=(()=>{var E;class S{constructor(){this.contexts=new Map}onChildOutletCreated(I,F){const ee=this.getOrCreateContext(I);ee.outlet=F,this.contexts.set(I,ee)}onChildOutletDestroyed(I){const F=this.getContext(I);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let F=this.getContext(I);return F||(F=new Kn,this.contexts.set(I,F)),F}getContext(I){return this.contexts.get(I)||null}}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();class Ai{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const O=this.pathFromRoot(S);return O.length>1?O[O.length-2]:null}children(S){const O=We(S,this._root);return O?O.children.map(I=>I.value):[]}firstChild(S){const O=We(S,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(S){const O=Ge(S,this._root);return O.length<2?[]:O[O.length-2].children.map(F=>F.value).filter(F=>F!==S)}pathFromRoot(S){return Ge(S,this._root).map(O=>O.value)}}function We(E,S){if(E===S.value)return S;for(const O of S.children){const I=We(E,O);if(I)return I}return null}function Ge(E,S){if(E===S.value)return[S];for(const O of S.children){const I=Ge(E,O);if(I.length)return I.unshift(S),I}return[]}class Je{constructor(S,O){this.value=S,this.children=O}toString(){return`TreeNode(${this.value})`}}function St(E){const S={};return E&&E.children.forEach(O=>S[O.value.outlet]=O),S}class jt extends Ai{constructor(S,O){super(S),this.snapshot=O,Mi(this,S)}toString(){return this.snapshot.toString()}}function Zt(E,S){const O=function Gn(E,S){const ye=new Io([],{},{},"",{},Ct,S,null,{});return new vi("",new Je(ye,[]))}(0,S),I=new he.X([new Fr("",{})]),F=new he.X({}),ee=new he.X({}),ye=new he.X({}),Oe=new he.X(""),At=new Un(I,F,ye,Oe,ee,Ct,S,O.root);return At.snapshot=O.root,new jt(new Je(At,[]),O)}class Un{constructor(S,O,I,F,ee,ye,Oe,At){var Pt,kn;this.urlSubject=S,this.paramsSubject=O,this.queryParamsSubject=I,this.fragmentSubject=F,this.dataSubject=ee,this.outlet=ye,this.component=Oe,this._futureSnapshot=At,this.title=null!==(Pt=null===(kn=this.dataSubject)||void 0===kn?void 0:kn.pipe((0,Re.U)(On=>On[at])))&&void 0!==Pt?Pt:(0,ve.of)(void 0),this.url=S,this.params=O,this.queryParams=I,this.fragment=F,this.data=ee}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Re.U)(S=>Pe(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Re.U)(S=>Pe(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ir(E,S="emptyOnly"){const O=E.pathFromRoot;let I=0;if("always"!==S)for(I=O.length-1;I>=1;){const F=O[I],ee=O[I-1];if(F.routeConfig&&""===F.routeConfig.path)I--;else{if(ee.component)break;I--}}return function di(E){return E.reduce((S,O)=>{var I;return{params:{...S.params,...O.params},data:{...S.data,...O.data},resolve:{...O.data,...S.resolve,...null===(I=O.routeConfig)||void 0===I?void 0:I.data,...O._resolvedData}}},{params:{},data:{},resolve:{}})}(O.slice(I))}class Io{get title(){var S;return null===(S=this.data)||void 0===S?void 0:S[at]}constructor(S,O,I,F,ee,ye,Oe,At,Pt){this.url=S,this.params=O,this.queryParams=I,this.fragment=F,this.data=ee,this.outlet=ye,this.component=Oe,this.routeConfig=At,this._resolve=Pt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vi extends Ai{constructor(S,O){super(O),this.url=S,Mi(this,O)}toString(){return Jo(this._root)}}function Mi(E,S){S.value._routerState=E,S.children.forEach(O=>Mi(E,O))}function Jo(E){const S=E.children.length>0?` { ${E.children.map(Jo).join(", ")} } `:"";return`${E.value}${S}`}function zo(E){if(E.snapshot){const S=E.snapshot,O=E._futureSnapshot;E.snapshot=O,Ut(S.queryParams,O.queryParams)||E.queryParamsSubject.next(O.queryParams),S.fragment!==O.fragment&&E.fragmentSubject.next(O.fragment),Ut(S.params,O.params)||E.paramsSubject.next(O.params),function _t(E,S){if(E.length!==S.length)return!1;for(let O=0;O<E.length;++O)if(!Ut(E[O],S[O]))return!1;return!0}(S.url,O.url)||E.urlSubject.next(O.url),Ut(S.data,O.data)||E.dataSubject.next(O.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function cr(E,S){const O=Ut(E.params,S.params)&&function ar(E,S){return Yt(E,S)&&E.every((O,I)=>Ut(O.parameters,S[I].parameters))}(E.url,S.url);return O&&!(!E.parent!=!S.parent)&&(!E.parent||cr(E.parent,S.parent))}let rn=(()=>{var E;class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ct,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Dr),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb),this.inputBinder=(0,g.f3M)(ur,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:F,previousValue:ee}=I.name;if(F)return;this.isTrackedInParentContexts(ee)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ee)),this.initializeOutletWithName()}}ngOnDestroy(){var I;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(I=this.inputBinder)||void 0===I||I.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){var F;return(null===(F=this.parentContexts.getContext(I))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);null!=I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,F){var ee;this.activated=I,this._activatedRoute=F,this.location.insert(I.hostView),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,F){var ee;if(this.isActivated)throw new g.vHH(4013,!1);this._activatedRoute=I;const ye=this.location,At=I.snapshot.component,Pt=this.parentContexts.getOrCreateContext(this.name).children,kn=new Wn(I,Pt,ye.injector);this.activated=ye.createComponent(At,{index:ye.length,injector:kn,environmentInjector:null!=F?F:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ee=this.inputBinder)||void 0===ee||ee.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275dir=g.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),S})();class Wn{constructor(S,O,I){this.route=S,this.childContexts=O,this.parent=I}get(S,O){return S===Un?this.route:S===Dr?this.childContexts:this.parent.get(S,O)}}const ur=new g.OlP("");let Ti=(()=>{var E;class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){var F;null===(F=this.outletDataSubscriptions.get(I))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:F}=I,ee=(0,Ue.a)([F.queryParams,F.params,F.data]).pipe((0,ke.w)(([ye,Oe,At],Pt)=>(At={...ye,...Oe,...At},0===Pt?(0,ve.of)(At):Promise.resolve(At)))).subscribe(ye=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(I);const Oe=(0,g.qFp)(F.component);if(Oe)for(const{templateName:At}of Oe.inputs)I.activatedComponentRef.setInput(At,ye[At]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,ee)}}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),S})();function Jr(E,S,O){if(O&&E.shouldReuseRoute(S.value,O.value.snapshot)){const I=O.value;I._futureSnapshot=S.value;const F=function rs(E,S,O){return S.children.map(I=>{for(const F of O.children)if(E.shouldReuseRoute(I.value,F.value.snapshot))return Jr(E,I,F);return Jr(E,I)})}(E,S,O);return new Je(I,F)}{if(E.shouldAttach(S.value)){const ee=E.retrieve(S.value);if(null!==ee){const ye=ee.route;return ye.value._futureSnapshot=S.value,ye.children=S.children.map(Oe=>Jr(E,Oe)),ye}}const I=function ri(E){return new Un(new he.X(E.url),new he.X(E.params),new he.X(E.queryParams),new he.X(E.fragment),new he.X(E.data),E.outlet,E.component,E)}(S.value),F=S.children.map(ee=>Jr(E,ee));return new Je(I,F)}}const co="ngNavigationCancelingError";function ii(E,S){const{redirectTo:O,navigationBehaviorOptions:I}=dn(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,F=Pn(!1,0,S);return F.url=O,F.navigationBehaviorOptions=I,F}function Pn(E,S,O){const I=new Error("NavigationCancelingError: "+(E||""));return I[co]=!0,I.cancellationCode=S,O&&(I.url=O),I}function Po(E){return No(E)&&dn(E.url)}function No(E){return E&&E[co]}let us=(()=>{var E;class S{}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275cmp=g.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(I,F){1&I&&g._UZ(0,"router-outlet")},dependencies:[rn],encapsulation:2}),S})();function is(E){const S=E.children&&E.children.map(is),O=S?{...E,children:S}:{...E};return!O.component&&!O.loadComponent&&(S||O.loadChildren)&&O.outlet&&O.outlet!==Ct&&(O.component=us),O}function Vn(E){return E.outlet||Ct}function fo(E){var S;if(!E)return null;if(null!==(S=E.routeConfig)&&void 0!==S&&S._injector)return E.routeConfig._injector;for(let O=E.parent;O;O=O.parent){const I=O.routeConfig;if(null!=I&&I._loadedInjector)return I._loadedInjector;if(null!=I&&I._injector)return I._injector}return null}class ro{constructor(S,O,I,F,ee){this.routeReuseStrategy=S,this.futureState=O,this.currState=I,this.forwardEvent=F,this.inputBindingEnabled=ee}activate(S){const O=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,I,S),zo(this.futureState.root),this.activateChildRoutes(O,I,S)}deactivateChildRoutes(S,O,I){const F=St(O);S.children.forEach(ee=>{const ye=ee.value.outlet;this.deactivateRoutes(ee,F[ye],I),delete F[ye]}),Object.values(F).forEach(ee=>{this.deactivateRouteAndItsChildren(ee,I)})}deactivateRoutes(S,O,I){const F=S.value,ee=O?O.value:null;if(F===ee)if(F.component){const ye=I.getContext(F.outlet);ye&&this.deactivateChildRoutes(S,O,ye.children)}else this.deactivateChildRoutes(S,O,I);else ee&&this.deactivateRouteAndItsChildren(O,I)}deactivateRouteAndItsChildren(S,O){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,O):this.deactivateRouteAndOutlet(S,O)}detachAndStoreRouteSubtree(S,O){const I=O.getContext(S.value.outlet),F=I&&S.value.component?I.children:O,ee=St(S);for(const ye of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[ye],F);if(I&&I.outlet){const ye=I.outlet.detach(),Oe=I.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:ye,route:S,contexts:Oe})}}deactivateRouteAndOutlet(S,O){const I=O.getContext(S.value.outlet),F=I&&S.value.component?I.children:O,ee=St(S);for(const ye of Object.keys(ee))this.deactivateRouteAndItsChildren(ee[ye],F);I&&(I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated()),I.attachRef=null,I.route=null)}activateChildRoutes(S,O,I){const F=St(O);S.children.forEach(ee=>{this.activateRoutes(ee,F[ee.value.outlet],I),this.forwardEvent(new Rt(ee.value.snapshot))}),S.children.length&&this.forwardEvent(new Mt(S.value.snapshot))}activateRoutes(S,O,I){const F=S.value,ee=O?O.value:null;if(zo(F),F===ee)if(F.component){const ye=I.getOrCreateContext(F.outlet);this.activateChildRoutes(S,O,ye.children)}else this.activateChildRoutes(S,O,I);else if(F.component){const ye=I.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const Oe=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),ye.children.onOutletReAttached(Oe.contexts),ye.attachRef=Oe.componentRef,ye.route=Oe.route.value,ye.outlet&&ye.outlet.attach(Oe.componentRef,Oe.route.value),zo(Oe.route.value),this.activateChildRoutes(S,null,ye.children)}else{const Oe=fo(F.snapshot);ye.attachRef=null,ye.route=F,ye.injector=Oe,ye.outlet&&ye.outlet.activateWith(F,ye.injector),this.activateChildRoutes(S,null,ye.children)}}else this.activateChildRoutes(S,null,I)}}class Fo{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Do{constructor(S,O){this.component=S,this.route=O}}function fi(E,S,O){const I=E._root;return _i(I,S?S._root:null,O,[I.value])}function pi(E,S){const O=Symbol(),I=S.get(E,O);return I===O?"function"!=typeof E||(0,g.Z0I)(E)?S.get(E):E:I}function _i(E,S,O,I,F={canDeactivateChecks:[],canActivateChecks:[]}){const ee=St(S);return E.children.forEach(ye=>{(function wo(E,S,O,I,F={canDeactivateChecks:[],canActivateChecks:[]}){const ee=E.value,ye=S?S.value:null,Oe=O?O.getContext(E.value.outlet):null;if(ye&&ee.routeConfig===ye.routeConfig){const At=function xi(E,S,O){if("function"==typeof O)return O(E,S);switch(O){case"pathParamsChange":return!Yt(E.url,S.url);case"pathParamsOrQueryParamsChange":return!Yt(E.url,S.url)||!Ut(E.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cr(E,S)||!Ut(E.queryParams,S.queryParams);default:return!cr(E,S)}}(ye,ee,ee.routeConfig.runGuardsAndResolvers);At?F.canActivateChecks.push(new Fo(I)):(ee.data=ye.data,ee._resolvedData=ye._resolvedData),_i(E,S,ee.component?Oe?Oe.children:null:O,I,F),At&&Oe&&Oe.outlet&&Oe.outlet.isActivated&&F.canDeactivateChecks.push(new Do(Oe.outlet.component,ye))}else ye&&bo(S,Oe,F),F.canActivateChecks.push(new Fo(I)),_i(E,null,ee.component?Oe?Oe.children:null:O,I,F)})(ye,ee[ye.value.outlet],O,I.concat([ye.value]),F),delete ee[ye.value.outlet]}),Object.entries(ee).forEach(([ye,Oe])=>bo(Oe,O.getContext(ye),F)),F}function bo(E,S,O){const I=St(E),F=E.value;Object.entries(I).forEach(([ee,ye])=>{bo(ye,F.component?S?S.children.getContext(ee):null:S,O)}),O.canDeactivateChecks.push(new Do(F.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,F))}function Si(E){return"function"==typeof E}function fa(E){return E instanceof Ae.K||"EmptyError"===(null==E?void 0:E.name)}const $r=Symbol("INITIAL_VALUE");function Lo(){return(0,ke.w)(E=>(0,Ue.a)(E.map(S=>S.pipe((0,Ee.q)(1),(0,te.O)($r)))).pipe((0,Re.U)(S=>{for(const O of S)if(!0!==O){if(O===$r)return $r;if(!1===O||O instanceof qn)return O}return!0}),(0,dt.h)(S=>S!==$r),(0,Ee.q)(1)))}function It(E){return(0,Ie.z)((0,ft.b)(S=>{if(dn(S))throw ii(0,S)}),(0,Re.U)(S=>!0===S))}class tn{constructor(S){this.segmentGroup=S||null}}class Bn{constructor(S){this.urlTree=S}}function lr(E){return Me(new tn(E))}function gi(E){return Me(new Bn(E))}class Bo{constructor(S,O){this.urlSerializer=S,this.urlTree=O}noMatchError(S){return new g.vHH(4002,!1)}lineralizeSegments(S,O){let I=[],F=O.root;for(;;){if(I=I.concat(F.segments),0===F.numberOfChildren)return(0,ve.of)(I);if(F.numberOfChildren>1||!F.children[Ct])return Me(new g.vHH(4e3,!1));F=F.children[Ct]}}applyRedirectCommands(S,O,I){return this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),S,I)}applyRedirectCreateUrlTree(S,O,I,F){const ee=this.createSegmentGroup(S,O.root,I,F);return new qn(ee,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(S,O){const I={};return Object.entries(S).forEach(([F,ee])=>{if("string"==typeof ee&&ee.startsWith(":")){const Oe=ee.substring(1);I[F]=O[Oe]}else I[F]=ee}),I}createSegmentGroup(S,O,I,F){const ee=this.createSegments(S,O.segments,I,F);let ye={};return Object.entries(O.children).forEach(([Oe,At])=>{ye[Oe]=this.createSegmentGroup(S,At,I,F)}),new un(ee,ye)}createSegments(S,O,I,F){return O.map(ee=>ee.path.startsWith(":")?this.findPosParam(S,ee,F):this.findOrReturn(ee,I))}findPosParam(S,O,I){const F=I[O.path.substring(1)];if(!F)throw new g.vHH(4001,!1);return F}findOrReturn(S,O){let I=0;for(const F of O){if(F.path===S.path)return O.splice(I),F;I++}return S}}const oo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function es(E,S,O,I,F){const ee=ta(E,S,O);return ee.matched?(I=function Zn(E,S){var O;return E.providers&&!E._injector&&(E._injector=(0,g.MMx)(E.providers,S,`Route: ${E.path}`)),null!==(O=E._injector)&&void 0!==O?O:S}(S,I),function on(E,S,O,I){const F=S.canMatch;if(!F||0===F.length)return(0,ve.of)(!0);const ee=F.map(ye=>{const Oe=pi(ye,E);return mn(function fs(E){return E&&Si(E.canMatch)}(Oe)?Oe.canMatch(S,O):E.runInContext(()=>Oe(S,O)))});return(0,ve.of)(ee).pipe(Lo(),It())}(I,S,O).pipe((0,Re.U)(ye=>!0===ye?ee:{...oo}))):(0,ve.of)(ee)}function ta(E,S,O){var I,F;if(""===S.path)return"full"===S.pathMatch&&(E.hasChildren()||O.length>0)?{...oo}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const ye=(S.matcher||Et)(O,E,S);if(!ye)return{...oo};const Oe={};Object.entries(null!==(I=ye.posParams)&&void 0!==I?I:{}).forEach(([Pt,kn])=>{Oe[Pt]=kn.path});const At=ye.consumed.length>0?{...Oe,...ye.consumed[ye.consumed.length-1].parameters}:Oe;return{matched:!0,consumedSegments:ye.consumed,remainingSegments:O.slice(ye.consumed.length),parameters:At,positionalParamSegments:null!==(F=ye.posParams)&&void 0!==F?F:{}}}function pa(E,S,O,I){return O.length>0&&function ki(E,S,O){return O.some(I=>za(E,S,I)&&Vn(I)!==Ct)}(E,O,I)?{segmentGroup:new un(S,na(I,new un(O,E.children))),slicedSegments:[]}:0===O.length&&function Vi(E,S,O){return O.some(I=>za(E,S,I))}(E,O,I)?{segmentGroup:new un(E.segments,Co(E,0,O,I,E.children)),slicedSegments:O}:{segmentGroup:new un(E.segments,E.children),slicedSegments:O}}function Co(E,S,O,I,F){const ee={};for(const ye of I)if(za(E,O,ye)&&!F[Vn(ye)]){const Oe=new un([],{});ee[Vn(ye)]=Oe}return{...F,...ee}}function na(E,S){const O={};O[Ct]=S;for(const I of E)if(""===I.path&&Vn(I)!==Ct){const F=new un([],{});O[Vn(I)]=F}return O}function za(E,S,O){return(!(E.hasChildren()||S.length>0)||"full"!==O.pathMatch)&&""===O.path}class Ma{constructor(S,O,I,F,ee,ye,Oe){this.injector=S,this.configLoader=O,this.rootComponentType=I,this.config=F,this.urlTree=ee,this.paramsInheritanceStrategy=ye,this.urlSerializer=Oe,this.allowRedirects=!0,this.applyRedirects=new Bo(this.urlSerializer,this.urlTree)}noMatchError(S){return new g.vHH(4002,!1)}recognize(){const S=pa(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,S,Ct).pipe(Wt(O=>{if(O instanceof Bn)return this.allowRedirects=!1,this.urlTree=O.urlTree,this.match(O.urlTree);throw O instanceof tn?this.noMatchError(O):O}),(0,Re.U)(O=>{const I=new Io([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ct,this.rootComponentType,null,{}),F=new Je(I,O),ee=new vi("",F),ye=function Jn(E,S,O=null,I=null){return Ur(xn(E),S,O,I)}(I,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,ee.url=this.urlSerializer.serialize(ye),this.inheritParamsAndData(ee._root),{state:ee,tree:ye}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S.root,Ct).pipe(Wt(I=>{throw I instanceof tn?this.noMatchError(I):I}))}inheritParamsAndData(S){const O=S.value,I=ir(O,this.paramsInheritanceStrategy);O.params=Object.freeze(I.params),O.data=Object.freeze(I.data),S.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(S,O,I,F){return 0===I.segments.length&&I.hasChildren()?this.processChildren(S,O,I):this.processSegment(S,O,I,I.segments,F,!0)}processChildren(S,O,I){const F=[];for(const ee of Object.keys(I.children))"primary"===ee?F.unshift(ee):F.push(ee);return(0,Ce.D)(F).pipe(lt(ee=>{const ye=I.children[ee],Oe=function ho(E,S){const O=E.filter(I=>Vn(I)===S);return O.push(...E.filter(I=>Vn(I)!==S)),O}(O,ee);return this.processSegmentGroup(S,Oe,ye,ee)}),(0,In.R)((ee,ye)=>(ee.push(...ye),ee)),(0,zt.d)(null),function xe(E,S){const O=arguments.length>=2;return I=>I.pipe(E?(0,dt.h)((F,ee)=>E(F,ee,I)):ge.y,ht(1),O?(0,zt.d)(S):(0,le.T)(()=>new Ae.K))}(),(0,Ve.z)(ee=>{if(null===ee)return lr(I);const ye=$o(ee);return function ga(E){E.sort((S,O)=>S.value.outlet===Ct?-1:O.value.outlet===Ct?1:S.value.outlet.localeCompare(O.value.outlet))}(ye),(0,ve.of)(ye)}))}processSegment(S,O,I,F,ee,ye){return(0,Ce.D)(O).pipe(lt(Oe=>{var At;return this.processSegmentAgainstRoute(null!==(At=Oe._injector)&&void 0!==At?At:S,O,Oe,I,F,ee,ye).pipe(Wt(Pt=>{if(Pt instanceof tn)return(0,ve.of)(null);throw Pt}))}),(0,st.P)(Oe=>!!Oe),Wt(Oe=>{if(fa(Oe))return function Aa(E,S,O){return 0===S.length&&!E.children[O]}(I,F,ee)?(0,ve.of)([]):lr(I);throw Oe}))}processSegmentAgainstRoute(S,O,I,F,ee,ye,Oe){return function Os(E,S,O,I){return!!(Vn(E)===I||I!==Ct&&za(S,O,E))&&("**"===E.path||ta(S,E,O).matched)}(I,F,ee,ye)?void 0===I.redirectTo?this.matchSegmentAgainstRoute(S,F,I,ee,ye,Oe):Oe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,F,O,I,ee,ye):lr(F):lr(F)}expandSegmentAgainstRouteUsingRedirect(S,O,I,F,ee,ye){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,I,F,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(S,O,I,F,ee,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,O,I,F){const ee=this.applyRedirects.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?gi(ee):this.applyRedirects.lineralizeSegments(I,ee).pipe((0,Ve.z)(ye=>{const Oe=new un(ye,{});return this.processSegment(S,O,Oe,ye,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,O,I,F,ee,ye){const{matched:Oe,consumedSegments:At,remainingSegments:Pt,positionalParamSegments:kn}=ta(O,F,ee);if(!Oe)return lr(O);const On=this.applyRedirects.applyRedirectCommands(At,F.redirectTo,kn);return F.redirectTo.startsWith("/")?gi(On):this.applyRedirects.lineralizeSegments(F,On).pipe((0,Ve.z)(nr=>this.processSegment(S,I,O,nr.concat(Pt),ye,!1)))}matchSegmentAgainstRoute(S,O,I,F,ee,ye){let Oe;if("**"===I.path){var At,Pt;const kn=F.length>0?an(F).parameters:{},On=new Io(F,kn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ns(I),Vn(I),null!==(At=null!==(Pt=I.component)&&void 0!==Pt?Pt:I._loadedComponent)&&void 0!==At?At:null,I,ol(I));Oe=(0,ve.of)({snapshot:On,consumedSegments:[],remainingSegments:[]}),O.children={}}else Oe=es(O,I,F,S).pipe((0,Re.U)(({matched:kn,consumedSegments:On,remainingSegments:nr,parameters:ai})=>{var mo,ct;return kn?{snapshot:new Io(On,ai,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ns(I),Vn(I),null!==(mo=null!==(ct=I.component)&&void 0!==ct?ct:I._loadedComponent)&&void 0!==mo?mo:null,I,ol(I)),consumedSegments:On,remainingSegments:nr}:null}));return Oe.pipe((0,ke.w)(kn=>{var On;return null===kn?lr(O):(S=null!==(On=I._injector)&&void 0!==On?On:S,this.getChildConfig(S,I,F).pipe((0,ke.w)(({routes:nr})=>{var ai;const mo=null!==(ai=I._loadedInjector)&&void 0!==ai?ai:S,{snapshot:ct,consumedSegments:ks,remainingSegments:Uo}=kn,{segmentGroup:Fs,slicedSegments:jo}=pa(O,ks,Uo,nr);if(0===jo.length&&Fs.hasChildren())return this.processChildren(mo,nr,Fs).pipe((0,Re.U)(bs=>null===bs?null:[new Je(ct,bs)]));if(0===nr.length&&0===jo.length)return(0,ve.of)([new Je(ct,[])]);const vs=Vn(I)===ee;return this.processSegment(mo,nr,Fs,jo,vs?Ct:ee,!0).pipe((0,Re.U)(bs=>[new Je(ct,bs)]))})))}))}getChildConfig(S,O,I){return O.children?(0,ve.of)({routes:O.children,injector:S}):O.loadChildren?void 0!==O._loadedRoutes?(0,ve.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function ne(E,S,O,I){const F=S.canLoad;if(void 0===F||0===F.length)return(0,ve.of)(!0);const ee=F.map(ye=>{const Oe=pi(ye,E);return mn(function Js(E){return E&&Si(E.canLoad)}(Oe)?Oe.canLoad(S,O):E.runInContext(()=>Oe(S,O)))});return(0,ve.of)(ee).pipe(Lo(),It())}(S,O,I).pipe((0,Ve.z)(F=>F?this.configLoader.loadChildren(S,O).pipe((0,ft.b)(ee=>{O._loadedRoutes=ee.routes,O._loadedInjector=ee.injector})):function Gi(E){return Me(Pn(!1,3))}())):(0,ve.of)({routes:[],injector:S})}}function xa(E){const S=E.value.routeConfig;return S&&""===S.path}function $o(E){const S=[],O=new Set;for(const I of E){if(!xa(I)){S.push(I);continue}const F=S.find(ee=>I.value.routeConfig===ee.value.routeConfig);void 0!==F?(F.children.push(...I.children),O.add(F)):S.push(I)}for(const I of O){const F=$o(I.children);S.push(new Je(I.value,F))}return S.filter(I=>!O.has(I))}function Ns(E){return E.data||{}}function ol(E){return E.resolve||{}}function Ds(E){return"string"==typeof E.title||null===E.title}function po(E){return(0,ke.w)(S=>{const O=E(S);return O?(0,Ce.D)(O).pipe((0,Re.U)(()=>S)):(0,ve.of)(S)})}const os=new g.OlP("ROUTES");let b=(()=>{var E;class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,ve.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const F=mn(I.loadComponent()).pipe((0,Re.U)(De),(0,ft.b)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=ye}),Ze(()=>{this.componentLoaders.delete(I)})),ee=new ot(F,()=>new He.x).pipe(oe());return this.componentLoaders.set(I,ee),ee}loadChildren(I,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,ve.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const ye=this.loadModuleFactoryOrRoutes(F.loadChildren).pipe((0,Re.U)(At=>{this.onLoadEndListener&&this.onLoadEndListener(F);let Pt,kn;return Array.isArray(At)?kn=At:(Pt=At.create(I).injector,kn=Pt.get(os,[],g.XFs.Self|g.XFs.Optional).flat()),{routes:kn.map(is),injector:Pt}}),Ze(()=>{this.childrenLoaders.delete(F)})),Oe=new ot(ye,()=>new He.x).pipe(oe());return this.childrenLoaders.set(F,Oe),Oe}loadModuleFactoryOrRoutes(I){return mn(I()).pipe((0,Re.U)(De),(0,Ve.z)(F=>F instanceof g.YKP||Array.isArray(F)?(0,ve.of)(F):(0,Ce.D)(this.compiler.compileModuleAsync(F))))}}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();function De(E){return function j(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let L=(()=>{var E;class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new He.x,this.configLoader=(0,g.f3M)(b),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(xt),this.rootContexts=(0,g.f3M)(Dr),this.inputBindingEnabled=null!==(0,g.f3M)(ur,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ve.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ee=>this.events.next(new Qe(ee)),this.configLoader.onLoadStartListener=ee=>this.events.next(new Ye(ee))}complete(){var I;null===(I=this.transitions)||void 0===I||I.complete()}handleNavigationRequest(I){var F;const ee=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...I,id:ee})}setupNavigations(I){return this.transitions=new he.X({id:0,currentUrlTree:I.currentUrlTree,currentRawUrl:I.currentUrlTree,extractedUrl:I.urlHandlingStrategy.extract(I.currentUrlTree),urlAfterRedirects:I.urlHandlingStrategy.extract(I.currentUrlTree),rawUrl:I.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hi,restoredState:null,currentSnapshot:I.routerState.snapshot,targetSnapshot:null,currentRouterState:I.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,dt.h)(F=>0!==F.id),(0,Re.U)(F=>({...F,extractedUrl:I.urlHandlingStrategy.extract(F.rawUrl)})),(0,ke.w)(F=>{let ee=!1,ye=!1;return(0,ve.of)(F).pipe((0,ft.b)(Oe=>{this.currentNavigation={id:Oe.id,initialUrl:Oe.rawUrl,extractedUrl:Oe.extractedUrl,trigger:Oe.source,extras:Oe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ke.w)(Oe=>{var At;const Pt=I.browserUrlTree.toString(),kn=!I.navigated||Oe.extractedUrl.toString()!==Pt||Pt!==I.currentUrlTree.toString(),On=null!==(At=Oe.extras.onSameUrlNavigation)&&void 0!==At?At:I.onSameUrlNavigation;if(!kn&&"reload"!==On){const nr="";return this.events.next(new mi(Oe.id,I.serializeUrl(F.rawUrl),nr,0)),I.rawUrlTree=Oe.rawUrl,Oe.resolve(null),Le.E}if(I.urlHandlingStrategy.shouldProcessUrl(Oe.rawUrl))return ae(Oe.source)&&(I.browserUrlTree=Oe.extractedUrl),(0,ve.of)(Oe).pipe((0,ke.w)(nr=>{var ai,mo;const ct=null===(ai=this.transitions)||void 0===ai?void 0:ai.getValue();return this.events.next(new _r(nr.id,this.urlSerializer.serialize(nr.extractedUrl),nr.source,nr.restoredState)),ct!==(null===(mo=this.transitions)||void 0===mo?void 0:mo.getValue())?Le.E:Promise.resolve(nr)}),function sl(E,S,O,I,F,ee){return(0,Ve.z)(ye=>function Ps(E,S,O,I,F,ee,ye="emptyOnly"){return new Ma(E,S,O,I,F,ye,ee).recognize()}(E,S,O,I,ye.extractedUrl,F,ee).pipe((0,Re.U)(({state:Oe,tree:At})=>({...ye,targetSnapshot:Oe,urlAfterRedirects:At}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,ft.b)(nr=>{if(F.targetSnapshot=nr.targetSnapshot,F.urlAfterRedirects=nr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:nr.urlAfterRedirects},"eager"===I.urlUpdateStrategy){if(!nr.extras.skipLocationChange){const mo=I.urlHandlingStrategy.merge(nr.urlAfterRedirects,nr.rawUrl);I.setBrowserUrl(mo,nr)}I.browserUrlTree=nr.urlAfterRedirects}const ai=new to(nr.id,this.urlSerializer.serialize(nr.extractedUrl),this.urlSerializer.serialize(nr.urlAfterRedirects),nr.targetSnapshot);this.events.next(ai)}));if(kn&&I.urlHandlingStrategy.shouldProcessUrl(I.rawUrlTree)){const{id:nr,extractedUrl:ai,source:mo,restoredState:ct,extras:ks}=Oe,Uo=new _r(nr,this.urlSerializer.serialize(ai),mo,ct);this.events.next(Uo);const Fs=Zt(0,this.rootComponentType).snapshot;return F={...Oe,targetSnapshot:Fs,urlAfterRedirects:ai,extras:{...ks,skipLocationChange:!1,replaceUrl:!1}},(0,ve.of)(F)}{const nr="";return this.events.next(new mi(Oe.id,I.serializeUrl(F.extractedUrl),nr,1)),I.rawUrlTree=Oe.rawUrl,Oe.resolve(null),Le.E}}),(0,ft.b)(Oe=>{const At=new Z(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot);this.events.next(At)}),(0,Re.U)(Oe=>F={...Oe,guards:fi(Oe.targetSnapshot,Oe.currentSnapshot,this.rootContexts)}),function il(E,S){return(0,Ve.z)(O=>{const{targetSnapshot:I,currentSnapshot:F,guards:{canActivateChecks:ee,canDeactivateChecks:ye}}=O;return 0===ye.length&&0===ee.length?(0,ve.of)({...O,guardsResult:!0}):function U(E,S,O,I){return(0,Ce.D)(E).pipe((0,Ve.z)(F=>function N(E,S,O,I,F){const ee=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ee||0===ee.length)return(0,ve.of)(!0);const ye=ee.map(Oe=>{var At;const Pt=null!==(At=fo(S))&&void 0!==At?At:F,kn=pi(Oe,Pt);return mn(function hs(E){return E&&Si(E.canDeactivate)}(kn)?kn.canDeactivate(E,S,O,I):Pt.runInContext(()=>kn(E,S,O,I))).pipe((0,st.P)())});return(0,ve.of)(ye).pipe(Lo())}(F.component,F.route,O,S,I)),(0,st.P)(F=>!0!==F,!0))}(ye,I,F,E).pipe((0,Ve.z)(Oe=>Oe&&function Es(E){return"boolean"==typeof E}(Oe)?function P(E,S,O,I){return(0,Ce.D)(S).pipe(lt(F=>(0,fe.z)(function d(E,S){return null!==E&&S&&S(new vt(E)),(0,ve.of)(!0)}(F.route.parent,I),function se(E,S){return null!==E&&S&&S(new Ft(E)),(0,ve.of)(!0)}(F.route,I),function _(E,S,O){const I=S[S.length-1],ee=S.slice(0,S.length-1).reverse().map(ye=>function js(E){const S=E.routeConfig?E.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:E,guards:S}:null}(ye)).filter(ye=>null!==ye).map(ye=>be(()=>{const Oe=ye.guards.map(At=>{var Pt;const kn=null!==(Pt=fo(ye.node))&&void 0!==Pt?Pt:O,On=pi(At,kn);return mn(function da(E){return E&&Si(E.canActivateChild)}(On)?On.canActivateChild(I,E):kn.runInContext(()=>On(I,E))).pipe((0,st.P)())});return(0,ve.of)(Oe).pipe(Lo())}));return(0,ve.of)(ee).pipe(Lo())}(E,F.path,O),function C(E,S,O){const I=S.routeConfig?S.routeConfig.canActivate:null;if(!I||0===I.length)return(0,ve.of)(!0);const F=I.map(ee=>be(()=>{var ye;const Oe=null!==(ye=fo(S))&&void 0!==ye?ye:O,At=pi(ee,Oe);return mn(function Hs(E){return E&&Si(E.canActivate)}(At)?At.canActivate(S,E):Oe.runInContext(()=>At(S,E))).pipe((0,st.P)())}));return(0,ve.of)(F).pipe(Lo())}(E,F.route,O))),(0,st.P)(F=>!0!==F,!0))}(I,ee,E,S):(0,ve.of)(Oe)),(0,Re.U)(Oe=>({...O,guardsResult:Oe})))})}(this.environmentInjector,Oe=>this.events.next(Oe)),(0,ft.b)(Oe=>{if(F.guardsResult=Oe.guardsResult,dn(Oe.guardsResult))throw ii(0,Oe.guardsResult);const At=new me(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(Oe.urlAfterRedirects),Oe.targetSnapshot,!!Oe.guardsResult);this.events.next(At)}),(0,dt.h)(Oe=>!!Oe.guardsResult||(I.restoreHistory(Oe),this.cancelNavigationTransition(Oe,"",3),!1)),po(Oe=>{if(Oe.guards.canActivateChecks.length)return(0,ve.of)(Oe).pipe((0,ft.b)(At=>{const Pt=new ie(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(Pt)}),(0,ke.w)(At=>{let Pt=!1;return(0,ve.of)(At).pipe(function Ra(E,S){return(0,Ve.z)(O=>{const{targetSnapshot:I,guards:{canActivateChecks:F}}=O;if(!F.length)return(0,ve.of)(O);let ee=0;return(0,Ce.D)(F).pipe(lt(ye=>function Wo(E,S,O,I){const F=E.routeConfig,ee=E._resolve;return void 0!==(null==F?void 0:F.title)&&!Ds(F)&&(ee[at]=F.title),function ma(E,S,O,I){const F=function Wa(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===F.length)return(0,ve.of)({});const ee={};return(0,Ce.D)(F).pipe((0,Ve.z)(ye=>function zs(E,S,O,I){var F;const ee=null!==(F=fo(S))&&void 0!==F?F:I,ye=pi(E,ee);return mn(ye.resolve?ye.resolve(S,O):ee.runInContext(()=>ye(S,O)))}(E[ye],S,O,I).pipe((0,st.P)(),(0,ft.b)(Oe=>{ee[ye]=Oe}))),ht(1),function Be(E){return(0,Re.U)(()=>E)}(ee),Wt(ye=>fa(ye)?Le.E:Me(ye)))}(ee,E,S,I).pipe((0,Re.U)(ye=>(E._resolvedData=ye,E.data=ir(E,O).resolve,F&&Ds(F)&&(E.data[at]=F.title),null)))}(ye.route,I,E,S)),(0,ft.b)(()=>ee++),ht(1),(0,Ve.z)(ye=>ee===F.length?(0,ve.of)(O):Le.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,ft.b)({next:()=>Pt=!0,complete:()=>{Pt||(I.restoreHistory(At),this.cancelNavigationTransition(At,"",2))}}))}),(0,ft.b)(At=>{const Pt=new Se(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(Pt)}))}),po(Oe=>{const At=Pt=>{var kn;const On=[];null!==(kn=Pt.routeConfig)&&void 0!==kn&&kn.loadComponent&&!Pt.routeConfig._loadedComponent&&On.push(this.configLoader.loadComponent(Pt.routeConfig).pipe((0,ft.b)(nr=>{Pt.component=nr}),(0,Re.U)(()=>{})));for(const nr of Pt.children)On.push(...At(nr));return On};return(0,Ue.a)(At(Oe.targetSnapshot.root)).pipe((0,zt.d)(),(0,Ee.q)(1))}),po(()=>this.afterPreactivation()),(0,Re.U)(Oe=>{const At=function Go(E,S,O){const I=Jr(E,S._root,O?O._root:void 0);return new jt(I,S)}(I.routeReuseStrategy,Oe.targetSnapshot,Oe.currentRouterState);return F={...Oe,targetRouterState:At}}),(0,ft.b)(Oe=>{I.currentUrlTree=Oe.urlAfterRedirects,I.rawUrlTree=I.urlHandlingStrategy.merge(Oe.urlAfterRedirects,Oe.rawUrl),I.routerState=Oe.targetRouterState,"deferred"===I.urlUpdateStrategy&&(Oe.extras.skipLocationChange||I.setBrowserUrl(I.rawUrlTree,Oe),I.browserUrlTree=Oe.urlAfterRedirects)}),((E,S,O,I)=>(0,Re.U)(F=>(new ro(S,F.targetRouterState,F.currentRouterState,O,I).activate(E),F)))(this.rootContexts,I.routeReuseStrategy,Oe=>this.events.next(Oe),this.inputBindingEnabled),(0,Ee.q)(1),(0,ft.b)({next:Oe=>{var At;ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,I.navigated=!0,this.events.next(new $i(Oe.id,this.urlSerializer.serialize(Oe.extractedUrl),this.urlSerializer.serialize(I.currentUrlTree))),null===(At=I.titleStrategy)||void 0===At||At.updateTitle(Oe.targetRouterState.snapshot),Oe.resolve(!0)},complete:()=>{ee=!0}}),Ze(()=>{var Oe;ee||ye||this.cancelNavigationTransition(F,"",1),(null===(Oe=this.currentNavigation)||void 0===Oe?void 0:Oe.id)===F.id&&(this.currentNavigation=null)}),Wt(Oe=>{if(ye=!0,No(Oe)){Po(Oe)||(I.navigated=!0,I.restoreHistory(F,!0));const Pt=new Ni(F.id,this.urlSerializer.serialize(F.extractedUrl),Oe.message,Oe.cancellationCode);if(this.events.next(Pt),Po(Oe)){const kn=I.urlHandlingStrategy.merge(Oe.url,I.rawUrlTree),On={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===I.urlUpdateStrategy||ae(F.source)};I.scheduleNavigation(kn,Hi,null,On,{resolve:F.resolve,reject:F.reject,promise:F.promise})}else F.resolve(!1)}else{var At;I.restoreHistory(F,!0);const Pt=new _o(F.id,this.urlSerializer.serialize(F.extractedUrl),Oe,null!==(At=F.targetSnapshot)&&void 0!==At?At:void 0);this.events.next(Pt);try{F.resolve(I.errorHandler(Oe))}catch(kn){F.reject(kn)}}return Le.E}))}))}cancelNavigationTransition(I,F,ee){const ye=new Ni(I.id,this.urlSerializer.serialize(I.extractedUrl),F,ee);this.events.next(ye),I.resolve(!1)}}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();function ae(E){return E!==Hi}let $e=(()=>{var E;class S{buildTitle(I){let F,ee=I.root;for(;void 0!==ee;){var ye;F=null!==(ye=this.getResolvedTitleForRoute(ee))&&void 0!==ye?ye:F,ee=ee.children.find(Oe=>Oe.outlet===Ct)}return F}getResolvedTitleForRoute(I){return I.data[at]}}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(bt)},providedIn:"root"}),S})(),bt=(()=>{var E;class S extends $e{constructor(I){super(),this.title=I}updateTitle(I){const F=this.buildTitle(I);void 0!==F&&this.title.setTitle(F)}}return(E=S).\u0275fac=function(I){return new(I||E)(g.LFG(Bt.Dx))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),S})(),Kt=(()=>{var E;class S{}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(Sn)},providedIn:"root"}),S})();class pr{shouldDetach(S){return!1}store(S,O){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,O){return S.routeConfig===O.routeConfig}}let Sn=(()=>{var E;class S extends pr{}return(E=S).\u0275fac=function(){let O;return function(F){return(O||(O=g.n5z(E)))(F||E)}}(),E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();const tr=new g.OlP("",{providedIn:"root",factory:()=>({})});let Ln=(()=>{var E;class S{}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:function(){return(0,g.f3M)(dr)},providedIn:"root"}),S})(),dr=(()=>{var E;class S{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,F){return I}}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();var Sr=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(Sr||{});function jr(E,S){E.events.pipe((0,dt.h)(O=>O instanceof $i||O instanceof Ni||O instanceof _o||O instanceof mi),(0,Re.U)(O=>O instanceof $i||O instanceof mi?Sr.COMPLETE:O instanceof Ni&&(0===O.code||1===O.code)?Sr.REDIRECTING:Sr.FAILED),(0,dt.h)(O=>O!==Sr.REDIRECTING),(0,Ee.q)(1)).subscribe(()=>{S()})}function Yi(E){throw E}function Ii(E,S,O){return S.parse("/")}const ts={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ki=(()=>{var E;class S{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var I;if("computed"===this.canceledNavigationResolution)return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var I,F;this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this.options=(0,g.f3M)(tr,{optional:!0})||{},this.pendingTasks=(0,g.f3M)(g.HDt),this.errorHandler=this.options.errorHandler||Yi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ii,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Ln),this.routeReuseStrategy=(0,g.f3M)(Kt),this.titleStrategy=(0,g.f3M)($e),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=null!==(I=null===(F=(0,g.f3M)(os,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==I?I:[],this.navigationTransitions=(0,g.f3M)(L),this.urlSerializer=(0,g.f3M)(xt),this.location=(0,g.f3M)(pe.Ye),this.componentInputBindingEnabled=!!(0,g.f3M)(ur,{optional:!0}),this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zt(0,null),this.navigationTransitions.setupNavigations(this).subscribe(ee=>{var ye;this.lastSuccessfulId=ee.id,this.currentPageId=null!==(ye=this.browserPageId)&&void 0!==ye?ye:0},ee=>{this.console.warn(`Unhandled Navigation Error: ${ee}`)})}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hi,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const F="popstate"===I.type?"popstate":"hashchange";"popstate"===F&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,F,I.state)},0)}))}navigateToSyncWithBrowser(I,F,ee){const ye={replaceUrl:!0},Oe=null!=ee&&ee.navigationId?ee:null;if(ee){const Pt={...ee};delete Pt.navigationId,delete Pt.\u0275routerPageId,0!==Object.keys(Pt).length&&(ye.state=Pt)}const At=this.parseUrl(I);this.scheduleNavigation(At,F,Oe,ye)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(is),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,F={}){const{relativeTo:ee,queryParams:ye,fragment:Oe,queryParamsHandling:At,preserveFragment:Pt}=F,kn=Pt?this.currentUrlTree.fragment:Oe;let nr,On=null;switch(At){case"merge":On={...this.currentUrlTree.queryParams,...ye};break;case"preserve":On=this.currentUrlTree.queryParams;break;default:On=ye||null}null!==On&&(On=this.removeEmptyProps(On));try{nr=xn(ee?ee.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),nr=this.currentUrlTree.root}return Ur(nr,I,On,null!=kn?kn:null)}navigateByUrl(I,F={skipLocationChange:!1}){const ee=dn(I)?I:this.parseUrl(I),ye=this.urlHandlingStrategy.merge(ee,this.rawUrlTree);return this.scheduleNavigation(ye,Hi,null,F)}navigate(I,F={skipLocationChange:!1}){return function Zi(E){for(let S=0;S<E.length;S++)if(null==E[S])throw new g.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,F),F)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let F;try{F=this.urlSerializer.parse(I)}catch(ee){F=this.malformedUriErrorHandler(ee,this.urlSerializer,I)}return F}isActive(I,F){let ee;if(ee=!0===F?{...ts}:!1===F?{...qo}:F,dn(I))return _n(this.currentUrlTree,I,ee);const ye=this.parseUrl(I);return _n(this.currentUrlTree,ye,ee)}removeEmptyProps(I){return Object.keys(I).reduce((F,ee)=>{const ye=I[ee];return null!=ye&&(F[ee]=ye),F},{})}scheduleNavigation(I,F,ee,ye,Oe){if(this.disposed)return Promise.resolve(!1);let At,Pt,kn;Oe?(At=Oe.resolve,Pt=Oe.reject,kn=Oe.promise):kn=new Promise((nr,ai)=>{At=nr,Pt=ai});const On=this.pendingTasks.add();return jr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(On))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:ee,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:I,extras:ye,resolve:At,reject:Pt,promise:kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kn.catch(nr=>Promise.reject(nr))}setBrowserUrl(I,F){const ee=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(ee)||F.extras.replaceUrl){const At={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(ee,"",At)}else{var ye;const Oe={...F.extras.state,...this.generateNgRouterState(F.id,(null!==(ye=this.browserPageId)&&void 0!==ye?ye:0)+1)};this.location.go(ee,"",Oe)}}restoreHistory(I,F=!1){if("computed"===this.canceledNavigationResolution){var ee,ye;const Oe=null!==(ee=this.browserPageId)&&void 0!==ee?ee:this.currentPageId,At=this.currentPageId-Oe;0!==At?this.location.historyGo(At):this.currentUrlTree===(null===(ye=this.getCurrentNavigation())||void 0===ye?void 0:ye.finalUrl)&&0===At&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,F){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:F}:{navigationId:I}}}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),S})(),ps=(()=>{var E;class S{constructor(I,F,ee,ye,Oe,At){var Pt;this.router=I,this.route=F,this.tabIndexAttribute=ee,this.renderer=ye,this.el=Oe,this.locationStrategy=At,this.href=null,this.commands=null,this.onChanges=new He.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const kn=null===(Pt=Oe.nativeElement.tagName)||void 0===Pt?void 0:Pt.toLowerCase();this.isAnchorElement="a"===kn||"area"===kn,this.isAnchorElement?this.subscription=I.events.subscribe(On=>{On instanceof $i&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",I)}ngOnChanges(I){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(I,F,ee,ye,Oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==I||F||ee||ye||Oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var I;null===(I=this.subscription)||void 0===I||I.unsubscribe()}updateHref(){var I;this.href=null!==this.urlTree&&this.locationStrategy?null===(I=this.locationStrategy)||void 0===I?void 0:I.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const F=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",F)}applyAttributeValue(I,F){const ee=this.renderer,ye=this.el.nativeElement;null!==F?ee.setAttribute(ye,I,F):ee.removeAttribute(ye,I)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(E=S).\u0275fac=function(I){return new(I||E)(g.Y36(Ki),g.Y36(Un),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(pe.S$))},E.\u0275dir=g.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(I,F){1&I&&g.NdJ("click",function(ye){return F.onClick(ye.button,ye.ctrlKey,ye.shiftKey,ye.altKey,ye.metaKey)}),2&I&&g.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",g.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",g.VuI],replaceUrl:["replaceUrl","replaceUrl",g.VuI],routerLink:"routerLink"},standalone:!0,features:[g.Xq5,g.TTD]}),S})();class al{}let Gs=(()=>{var E;class S{preload(I,F){return F().pipe(Wt(()=>(0,ve.of)(null)))}}return(E=S).\u0275fac=function(I){return new(I||E)},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),S})(),or=(()=>{var E;class S{constructor(I,F,ee,ye,Oe){this.router=I,this.injector=ee,this.preloadingStrategy=ye,this.loader=Oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,dt.h)(I=>I instanceof $i),lt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,F){const ee=[];for(const Pt of F){var ye,Oe;Pt.providers&&!Pt._injector&&(Pt._injector=(0,g.MMx)(Pt.providers,I,`Route: ${Pt.path}`));const kn=null!==(ye=Pt._injector)&&void 0!==ye?ye:I,On=null!==(Oe=Pt._loadedInjector)&&void 0!==Oe?Oe:kn;var At;(Pt.loadChildren&&!Pt._loadedRoutes&&void 0===Pt.canLoad||Pt.loadComponent&&!Pt._loadedComponent)&&ee.push(this.preloadConfig(kn,Pt)),(Pt.children||Pt._loadedRoutes)&&ee.push(this.processRoutes(On,null!==(At=Pt.children)&&void 0!==At?At:Pt._loadedRoutes))}return(0,Ce.D)(ee).pipe((0,Xe.J)())}preloadConfig(I,F){return this.preloadingStrategy.preload(F,()=>{let ee;ee=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(I,F):(0,ve.of)(null);const ye=ee.pipe((0,Ve.z)(Oe=>{var At;return null===Oe?(0,ve.of)(void 0):(F._loadedRoutes=Oe.routes,F._loadedInjector=Oe.injector,this.processRoutes(null!==(At=Oe.injector)&&void 0!==At?At:I,Oe.routes))}));if(F.loadComponent&&!F._loadedComponent){const Oe=this.loader.loadComponent(F);return(0,Ce.D)([ye,Oe]).pipe((0,Xe.J)())}return ye})}}return(E=S).\u0275fac=function(I){return new(I||E)(g.LFG(Ki),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(al),g.LFG(b))},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),S})();const Ws=new g.OlP("");let xl=(()=>{var E;class S{constructor(I,F,ee,ye,Oe={}){this.urlSerializer=I,this.transitions=F,this.viewportScroller=ee,this.zone=ye,this.options=Oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Oe.scrollPositionRestoration=Oe.scrollPositionRestoration||"disabled",Oe.anchorScrolling=Oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof _r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof $i?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof mi&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof yn&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yn(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){var I,F;null===(I=this.routerEventsSubscription)||void 0===I||I.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return(E=S).\u0275fac=function(I){g.$Z()},E.\u0275prov=g.Yz7({token:E,factory:E.\u0275fac}),S})();function To(E,S){return{\u0275kind:E,\u0275providers:S}}function gs(){const E=(0,g.f3M)(g.zs3);return S=>{var O,I;const F=E.get(g.z2F);if(S!==F.components[0])return;const ee=E.get(Ki),ye=E.get(Ui);1===E.get(wn)&&ee.initialNavigation(),null===(O=E.get(Dt,null,g.XFs.Optional))||void 0===O||O.setUpPreloading(),null===(I=E.get(Ws,null,g.XFs.Optional))||void 0===I||I.init(),ee.resetRootComponentType(F.componentTypes[0]),ye.closed||(ye.next(),ye.complete(),ye.unsubscribe())}}const Ui=new g.OlP("",{factory:()=>new He.x}),wn=new g.OlP("",{providedIn:"root",factory:()=>1}),Dt=new g.OlP("");function Ot(E){return To(0,[{provide:Dt,useExisting:or},{provide:al,useExisting:E}])}const Ya=new g.OlP("ROUTER_FORROOT_GUARD"),yu=[pe.Ye,{provide:xt,useClass:Qr},Ki,Dr,{provide:Un,useFactory:function ra(E){return E.routerState.root},deps:[Ki]},b,[]];function Ka(){return new g.PXZ("Router",Ki)}let Vo=(()=>{var E;class S{constructor(I){}static forRoot(I,F){return{ngModule:S,providers:[yu,[],{provide:os,multi:!0,useValue:I},{provide:Ya,useFactory:Yn,deps:[[Ki,new g.FiY,new g.tp0]]},{provide:tr,useValue:F||{}},null!=F&&F.useHash?{provide:pe.S$,useClass:pe.Do}:{provide:pe.S$,useClass:pe.b0},{provide:Ws,useFactory:()=>{const E=(0,g.f3M)(pe.EM),S=(0,g.f3M)(g.R0b),O=(0,g.f3M)(tr),I=(0,g.f3M)(L),F=(0,g.f3M)(xt);return O.scrollOffset&&E.setOffset(O.scrollOffset),new xl(F,I,E,S,O)}},null!=F&&F.preloadingStrategy?Ot(F.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Ka},null!=F&&F.initialNavigation?Pa(F):[],null!=F&&F.bindToComponentInputs?To(8,[Ti,{provide:ur,useExisting:Ti}]).\u0275providers:[],[{provide:ul,useFactory:gs},{provide:g.tb,multi:!0,useExisting:ul}]]}}static forChild(I){return{ngModule:S,providers:[{provide:os,multi:!0,useValue:I}]}}}return(E=S).\u0275fac=function(I){return new(I||E)(g.LFG(Ya,8))},E.\u0275mod=g.oAB({type:E}),E.\u0275inj=g.cJS({}),S})();function Yn(E){return"guarded"}function Pa(E){return["disabled"===E.initialNavigation?To(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const S=(0,g.f3M)(Ki);return()=>{S.setUpLocationChangeListener()}}},{provide:wn,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?To(2,[{provide:wn,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:S=>{const O=S.get(pe.V_,Promise.resolve());return()=>O.then(()=>new Promise(I=>{const F=S.get(Ki),ee=S.get(Ui);jr(F,()=>{I(!0)}),S.get(L).afterPreactivation=()=>(I(!0),ee.closed?(0,ve.of)(void 0):ee),F.initialNavigation()}))}}]).\u0275providers:[]]}const ul=new g.OlP("")},3106:(qt,Ke,k)=>{"use strict";k.d(Ke,{Z:()=>Le});var g=k(9058),f=k(4537),W=k(534),J=k(7879);class Ce{constructor(Te,we){this._delegate=Te,this.firebase=we,(0,W._addComponent)(Te,new f.wA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(Te,we=W._DEFAULT_ENTRY_NAME){var oe;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(Te);return!ot.isInitialized()&&"EXPLICIT"===(null===(oe=ot.getComponent())||void 0===oe?void 0:oe.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:we})}_removeServiceInstance(Te,we=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(we)}_addComponent(Te){(0,W._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,W._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function Ae(){const rt=function Ue(rt){const Te={},we={__esModule:!0,initializeApp:function He(Ee,te={}){const dt=W.initializeApp(Ee,te);if((0,g.r3)(Te,dt.name))return Te[dt.name];const Ve=new rt(dt,we);return Te[dt.name]=Ve,Ve},app:ot,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function Re(Ee){const te=Ee.name,dt=te.replace("-compat","");if(W._registerComponent(Ee)&&"PUBLIC"===Ee.type){const Ve=(st=ot())=>{if("function"!=typeof st[dt])throw he.create("invalid-app-argument",{appName:te});return st[dt]()};void 0!==Ee.serviceProps&&(0,g.ZB)(Ve,Ee.serviceProps),we[dt]=Ve,rt.prototype[dt]=function(...st){return this._getService.bind(this,te).apply(this,Ee.multipleInstances?st:[])}}return"PUBLIC"===Ee.type?we[dt]:null},removeApp:function oe(Ee){delete Te[Ee]},useAsService:function ke(Ee,te){return"serverAuth"===te?null:te},modularAPIs:W}};function ot(Ee){if(!(0,g.r3)(Te,Ee=Ee||W._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Ee});return Te[Ee]}return we.default=we,Object.defineProperty(we,"apps",{get:function pe(){return Object.keys(Te).map(Ee=>Te[Ee])}}),ot.App=rt,we}(Ce);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:Ae,extendNamespace:function Te(we){(0,g.ZB)(rt,we)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),rt}(),Q=new J.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){Q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&Q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Le=fe;!function Me(rt){(0,W.registerVersion)("@firebase/app-compat","0.2.13",rt)}()},534:(qt,Ke,k)=>{"use strict";k.r(Ke),k.d(Ke,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>Yr,_DEFAULT_ENTRY_NAME:()=>vr,_addComponent:()=>un,_addOrOverwriteComponent:()=>Fr,_apps:()=>Mn,_clearComponents:()=>xt,_components:()=>qn,_getProvider:()=>Yt,_registerComponent:()=>ar,_removeServiceInstance:()=>Lr,deleteApp:()=>Cr,getApp:()=>Mr,getApps:()=>xr,initializeApp:()=>oi,onLog:()=>yr,registerVersion:()=>Vr,setLogLevel:()=>Wr});var g=k(5861),f=k(4537),W=k(7879),J=k(9058);const Ce=(pt,it)=>it.some(Lt=>pt instanceof Lt);let ve,he;const fe=new WeakMap,Q=new WeakMap,be=new WeakMap,Ie=new WeakMap,Me=new WeakMap;let Te={get(pt,it,Lt){if(pt instanceof IDBTransaction){if("done"===it)return Q.get(pt);if("objectStoreNames"===it)return pt.objectStoreNames||be.get(pt);if("store"===it)return Lt.objectStoreNames[1]?void 0:Lt.objectStore(Lt.objectStoreNames[0])}return He(pt[it])},set:(pt,it,Lt)=>(pt[it]=Lt,!0),has:(pt,it)=>pt instanceof IDBTransaction&&("done"===it||"store"===it)||it in pt};function ot(pt){return"function"==typeof pt?function oe(pt){return pt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pt)?function(...it){return pt.apply(pe(this),it),He(fe.get(this))}:function(...it){return He(pt.apply(pe(this),it))}:function(it,...Lt){const hn=pt.call(pe(this),it,...Lt);return be.set(hn,it.sort?it.sort():[it]),He(hn)}}(pt):(pt instanceof IDBTransaction&&function rt(pt){if(Q.has(pt))return;const it=new Promise((Lt,hn)=>{const fn=()=>{pt.removeEventListener("complete",en),pt.removeEventListener("error",Xn),pt.removeEventListener("abort",Xn)},en=()=>{Lt(),fn()},Xn=()=>{hn(pt.error||new DOMException("AbortError","AbortError")),fn()};pt.addEventListener("complete",en),pt.addEventListener("error",Xn),pt.addEventListener("abort",Xn)});Q.set(pt,it)}(pt),Ce(pt,function Ue(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pt,Te):pt)}function He(pt){if(pt instanceof IDBRequest)return function Le(pt){const it=new Promise((Lt,hn)=>{const fn=()=>{pt.removeEventListener("success",en),pt.removeEventListener("error",Xn)},en=()=>{Lt(He(pt.result)),fn()},Xn=()=>{hn(pt.error),fn()};pt.addEventListener("success",en),pt.addEventListener("error",Xn)});return it.then(Lt=>{Lt instanceof IDBCursor&&fe.set(Lt,pt)}).catch(()=>{}),Me.set(it,pt),it}(pt);if(Ie.has(pt))return Ie.get(pt);const it=ot(pt);return it!==pt&&(Ie.set(pt,it),Me.set(it,pt)),it}const pe=pt=>Me.get(pt),Ee=["get","getKey","getAll","getAllKeys","count"],te=["put","add","delete","clear"],dt=new Map;function Ve(pt,it){if(!(pt instanceof IDBDatabase)||it in pt||"string"!=typeof it)return;if(dt.get(it))return dt.get(it);const Lt=it.replace(/FromIndex$/,""),hn=it!==Lt,fn=te.includes(Lt);if(!(Lt in(hn?IDBIndex:IDBObjectStore).prototype)||!fn&&!Ee.includes(Lt))return;const en=function(){var Xn=(0,g.Z)(function*(Nr,...Tr){const mr=this.transaction(Nr,fn?"readwrite":"readonly");let er=mr.store;return hn&&(er=er.index(Tr.shift())),(yield Promise.all([er[Lt](...Tr),fn&&mr.done]))[0]});return function(Tr){return Xn.apply(this,arguments)}}();return dt.set(it,en),en}!function we(pt){Te=pt(Te)}(pt=>({...pt,get:(it,Lt,hn)=>Ve(it,Lt)||pt.get(it,Lt,hn),has:(it,Lt)=>!!Ve(it,Lt)||pt.has(it,Lt)}));class st{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(Lt=>{if(function lt(pt){const it=pt.getComponent();return"VERSION"===(null==it?void 0:it.type)}(Lt)){const hn=Lt.getImmediate();return`${hn.library}/${hn.version}`}return null}).filter(Lt=>Lt).join(" ")}}const ft="@firebase/app",In=new W.Yd("@firebase/app"),vr="[DEFAULT]",Jt={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,qn=new Map;function un(pt,it){try{pt.container.addComponent(it)}catch(Lt){In.debug(`Component ${it.name} failed to register with FirebaseApp ${pt.name}`,Lt)}}function Fr(pt,it){pt.container.addOrOverwriteComponent(it)}function ar(pt){const it=pt.name;if(qn.has(it))return In.debug(`There were multiple attempts to register component ${it}.`),!1;qn.set(it,pt);for(const Lt of Mn.values())un(Lt,pt);return!0}function Yt(pt,it){const Lt=pt.container.getProvider("heartbeat").getImmediate({optional:!0});return Lt&&Lt.triggerHeartbeat(),pt.container.getProvider(it)}function Lr(pt,it,Lt=vr){Yt(pt,it).clearInstance(Lt)}function xt(){qn.clear()}const $n=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Er{constructor(it,Lt,hn){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},Lt),this._name=Lt.name,this._automaticDataCollectionEnabled=Lt.automaticDataCollectionEnabled,this._container=hn,this.container.addComponent(new f.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw $n.create("app-deleted",{appName:this._name})}}const Yr="9.23.0";function oi(pt,it={}){let Lt=pt;"object"!=typeof it&&(it={name:it});const hn=Object.assign({name:vr,automaticDataCollectionEnabled:!1},it),fn=hn.name;if("string"!=typeof fn||!fn)throw $n.create("bad-app-name",{appName:String(fn)});if(Lt||(Lt=(0,J.aH)()),!Lt)throw $n.create("no-options");const en=Mn.get(fn);if(en){if((0,J.vZ)(Lt,en.options)&&(0,J.vZ)(hn,en.config))return en;throw $n.create("duplicate-app",{appName:fn})}const Xn=new f.H0(fn);for(const Tr of qn.values())Xn.addComponent(Tr);const Nr=new Er(Lt,hn,Xn);return Mn.set(fn,Nr),Nr}function Mr(pt=vr){const it=Mn.get(pt);if(!it&&pt===vr&&(0,J.aH)())return oi();if(!it)throw $n.create("no-app",{appName:pt});return it}function xr(){return Array.from(Mn.values())}function Cr(pt){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,g.Z)(function*(pt){const it=pt.name;Mn.has(it)&&(Mn.delete(it),yield Promise.all(pt.container.getProviders().map(Lt=>Lt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function Vr(pt,it,Lt){var hn;let fn=null!==(hn=Jt[pt])&&void 0!==hn?hn:pt;Lt&&(fn+=`-${Lt}`);const en=fn.match(/\s|\//),Xn=it.match(/\s|\//);if(en||Xn){const Nr=[`Unable to register library "${fn}" with version "${it}":`];return en&&Nr.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),en&&Xn&&Nr.push("and"),Xn&&Nr.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void In.warn(Nr.join(" "))}ar(new f.wA(`${fn}-version`,()=>({library:fn,version:it}),"VERSION"))}function yr(pt,it){if(null!==pt&&"function"!=typeof pt)throw $n.create("invalid-log-argument");(0,W.Am)(pt,it)}function Wr(pt){(0,W.Ub)(pt)}const fr="firebase-heartbeat-database",rr=1,Ne="firebase-heartbeat-store";let X=null;function V(){return X||(X=function Re(pt,it,{blocked:Lt,upgrade:hn,blocking:fn,terminated:en}={}){const Xn=indexedDB.open(pt,it),Nr=He(Xn);return hn&&Xn.addEventListener("upgradeneeded",Tr=>{hn(He(Xn.result),Tr.oldVersion,Tr.newVersion,He(Xn.transaction),Tr)}),Lt&&Xn.addEventListener("blocked",Tr=>Lt(Tr.oldVersion,Tr.newVersion,Tr)),Nr.then(Tr=>{en&&Tr.addEventListener("close",()=>en()),fn&&Tr.addEventListener("versionchange",mr=>fn(mr.oldVersion,mr.newVersion,mr))}).catch(()=>{}),Nr}(fr,rr,{upgrade:(pt,it)=>{0===it&&pt.createObjectStore(Ne)}}).catch(pt=>{throw $n.create("idb-open",{originalErrorMessage:pt.message})})),X}function B(){return(B=(0,g.Z)(function*(pt){try{return yield(yield V()).transaction(Ne).objectStore(Ne).get(yt(pt))}catch(it){if(it instanceof J.ZR)In.warn(it.message);else{const Lt=$n.create("idb-get",{originalErrorMessage:null==it?void 0:it.message});In.warn(Lt.message)}}})).apply(this,arguments)}function de(pt,it){return je.apply(this,arguments)}function je(){return(je=(0,g.Z)(function*(pt,it){try{const hn=(yield V()).transaction(Ne,"readwrite");yield hn.objectStore(Ne).put(it,yt(pt)),yield hn.done}catch(Lt){if(Lt instanceof J.ZR)In.warn(Lt.message);else{const hn=$n.create("idb-set",{originalErrorMessage:null==Lt?void 0:Lt.message});In.warn(hn.message)}}})).apply(this,arguments)}function yt(pt){return`${pt.name}!${pt.options.appId}`}class Gt{constructor(it){this.container=it,this._heartbeatsCache=null;const Lt=this.container.getProvider("app").getImmediate();this._storage=new xn(Lt),this._heartbeatsCachePromise=this._storage.read().then(hn=>(this._heartbeatsCache=hn,hn))}triggerHeartbeat(){var it=this;return(0,g.Z)(function*(){const hn=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fn=dn();if(null===it._heartbeatsCache&&(it._heartbeatsCache=yield it._heartbeatsCachePromise),it._heartbeatsCache.lastSentHeartbeatDate!==fn&&!it._heartbeatsCache.heartbeats.some(en=>en.date===fn))return it._heartbeatsCache.heartbeats.push({date:fn,agent:hn}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(en=>{const Xn=new Date(en.date).valueOf();return Date.now()-Xn<=2592e6}),it._storage.overwrite(it._heartbeatsCache)})()}getHeartbeatsHeader(){var it=this;return(0,g.Z)(function*(){if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null===it._heartbeatsCache||0===it._heartbeatsCache.heartbeats.length)return"";const Lt=dn(),{heartbeatsToSend:hn,unsentEntries:fn}=function Jn(pt,it=1024){const Lt=[];let hn=pt.slice();for(const fn of pt){const en=Lt.find(Xn=>Xn.agent===fn.agent);if(en){if(en.dates.push(fn.date),Ur(Lt)>it){en.dates.pop();break}}else if(Lt.push({agent:fn.agent,dates:[fn.date]}),Ur(Lt)>it){Lt.pop();break}hn=hn.slice(1)}return{heartbeatsToSend:Lt,unsentEntries:hn}}(it._heartbeatsCache.heartbeats),en=(0,J.L)(JSON.stringify({version:2,heartbeats:hn}));return it._heartbeatsCache.lastSentHeartbeatDate=Lt,fn.length>0?(it._heartbeatsCache.heartbeats=fn,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),en})()}}function dn(){return(new Date).toISOString().substring(0,10)}class xn{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,g.Z)(function*(){return(yield it._canUseIndexedDBPromise)&&(yield function G(pt){return B.apply(this,arguments)}(it.app))||{heartbeats:[]}})()}overwrite(it){var Lt=this;return(0,g.Z)(function*(){var hn;if(yield Lt._canUseIndexedDBPromise){const en=yield Lt.read();return de(Lt.app,{lastSentHeartbeatDate:null!==(hn=it.lastSentHeartbeatDate)&&void 0!==hn?hn:en.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var Lt=this;return(0,g.Z)(function*(){var hn;if(yield Lt._canUseIndexedDBPromise){const en=yield Lt.read();return de(Lt.app,{lastSentHeartbeatDate:null!==(hn=it.lastSentHeartbeatDate)&&void 0!==hn?hn:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...it.heartbeats]})}})()}}function Ur(pt){return(0,J.L)(JSON.stringify({version:2,heartbeats:pt})).length}!function qr(pt){ar(new f.wA("platform-logger",it=>new st(it),"PRIVATE")),ar(new f.wA("heartbeat",it=>new Gt(it),"PRIVATE")),Vr(ft,"0.9.13",pt),Vr(ft,"0.9.13","esm2017"),Vr("fire-js","")}("")},4537:(qt,Ke,k)=>{"use strict";k.d(Ke,{H0:()=>Ue,wA:()=>W});var g=k(5861),f=k(9058);class W{constructor(fe,Q,be){this.name=fe,this.instanceFactory=Q,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const J="[DEFAULT]";class Ce{constructor(fe,Q){this.name=fe,this.container=Q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const Q=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(Q)){const be=new f.BH;if(this.instancesDeferred.set(Q,be),this.isInitialized(Q)||this.shouldAutoInitialize())try{const Ie=this.getOrInitializeService({instanceIdentifier:Q});Ie&&be.resolve(Ie)}catch{}}return this.instancesDeferred.get(Q).promise}getImmediate(fe){var Q;const be=this.normalizeInstanceIdentifier(null==fe?void 0:fe.identifier),Ie=null!==(Q=null==fe?void 0:fe.optional)&&void 0!==Q&&Q;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(Me){if(Ie)return null;throw Me}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function he(Ae){return"EAGER"===Ae.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[Q,be]of this.instancesDeferred.entries()){const Ie=this.normalizeInstanceIdentifier(Q);try{const Me=this.getOrInitializeService({instanceIdentifier:Ie});be.resolve(Me)}catch{}}}}clearInstance(fe=J){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,g.Z)(function*(){const Q=Array.from(fe.instances.values());yield Promise.all([...Q.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...Q.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=J){return this.instances.has(fe)}getOptions(fe=J){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:Q={}}=fe,be=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ie=this.getOrInitializeService({instanceIdentifier:be,options:Q});for(const[Me,Le]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(Me)&&Le.resolve(Ie);return Ie}onInit(fe,Q){var be;const Ie=this.normalizeInstanceIdentifier(Q),Me=null!==(be=this.onInitCallbacks.get(Ie))&&void 0!==be?be:new Set;Me.add(fe),this.onInitCallbacks.set(Ie,Me);const Le=this.instances.get(Ie);return Le&&fe(Le,Ie),()=>{Me.delete(fe)}}invokeOnInitCallbacks(fe,Q){const be=this.onInitCallbacks.get(Q);if(be)for(const Ie of be)try{Ie(fe,Q)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:Q={}}){let be=this.instances.get(fe);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ae=fe,Ae===J?void 0:Ae),options:Q}),this.instances.set(fe,be),this.instancesOptions.set(fe,Q),this.invokeOnInitCallbacks(be,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,be)}catch{}var Ae;return be||null}normalizeInstanceIdentifier(fe=J){return this.component?this.component.multipleInstances?fe:J:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const Q=this.getProvider(fe.name);if(Q.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);Q.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const Q=new Ce(fe,this);return this.providers.set(fe,Q),Q}getProviders(){return Array.from(this.providers.values())}}},7879:(qt,Ke,k)=>{"use strict";k.d(Ke,{Am:()=>Ae,Ub:()=>Ue,Yd:()=>he,in:()=>f});const g=[];var f=function(fe){return fe[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",fe}(f||{});const W={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},J=f.INFO,Ce={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},ve=(fe,Q,...be)=>{if(Q<fe.logLevel)return;const Ie=(new Date).toISOString(),Me=Ce[Q];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${Q})`);console[Me](`[${Ie}]  ${fe.name}:`,...be)};class he{constructor(Q){this.name=Q,this._logLevel=J,this._logHandler=ve,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(Q){if(!(Q in f))throw new TypeError(`Invalid value "${Q}" assigned to \`logLevel\``);this._logLevel=Q}setLogLevel(Q){this._logLevel="string"==typeof Q?W[Q]:Q}get logHandler(){return this._logHandler}set logHandler(Q){if("function"!=typeof Q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Q}get userLogHandler(){return this._userLogHandler}set userLogHandler(Q){this._userLogHandler=Q}debug(...Q){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...Q),this._logHandler(this,f.DEBUG,...Q)}log(...Q){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...Q),this._logHandler(this,f.VERBOSE,...Q)}info(...Q){this._userLogHandler&&this._userLogHandler(this,f.INFO,...Q),this._logHandler(this,f.INFO,...Q)}warn(...Q){this._userLogHandler&&this._userLogHandler(this,f.WARN,...Q),this._logHandler(this,f.WARN,...Q)}error(...Q){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...Q),this._logHandler(this,f.ERROR,...Q)}}function Ue(fe){g.forEach(Q=>{Q.setLogLevel(fe)})}function Ae(fe,Q){for(const be of g){let Ie=null;Q&&Q.level&&(Ie=W[Q.level]),be.userLogHandler=null===fe?null:(Me,Le,...rt)=>{const Te=rt.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch{return null}}).filter(we=>we).join(" ");Le>=(null!=Ie?Ie:Me.logLevel)&&fe({level:f[Le].toLowerCase(),message:Te,args:rt,type:Me.name})}}}},5548:(qt,Ke,k)=>{"use strict";k.d(Ke,{Br:()=>bo,w:()=>vr,dr:()=>oi,oU:()=>xr,cs:()=>Fo,YG:()=>Wr,Sm:()=>fr,PM:()=>rr,nz:()=>B,wI:()=>je,W2:()=>yt,fr:()=>xn,jY:()=>Ur,Gu:()=>qr,gu:()=>pt,pK:()=>fn,Ie:()=>en,Q$:()=>Qn,I_:()=>me,Nh:()=>Ye,oz:()=>Qe,jP:()=>ho,Nd:()=>Mt,CK:()=>Dr,yq:()=>Ge,ZU:()=>Je,UN:()=>ro,g2:()=>jt,wd:()=>Gn,sr:()=>di,Pc:()=>P,r4:()=>$r,HT:()=>Si,IN:()=>Hs,t4:()=>Jo,YI:()=>fi,QI:()=>qn,j9:()=>un,yF:()=>hs});var g=k(5861),f=k(5879),W=k(95),J=k(7582),Ce=k(4829),ve=k(5592),he=k(1631),Ue=k(4266),Ae=k(4674),fe=k(7400);const Q=["addListener","removeListener"],be=["addEventListener","removeEventListener"],Ie=["on","off"];function Me(d,C,_,N){if((0,Ae.m)(_)&&(N=_,_=void 0),N)return Me(d,C,_).pipe((0,fe.Z)(N));const[ne,It]=function we(d){return(0,Ae.m)(d.addEventListener)&&(0,Ae.m)(d.removeEventListener)}(d)?be.map(on=>tn=>d[on](C,tn,_)):function rt(d){return(0,Ae.m)(d.addListener)&&(0,Ae.m)(d.removeListener)}(d)?Q.map(Le(d,C)):function Te(d){return(0,Ae.m)(d.on)&&(0,Ae.m)(d.off)}(d)?Ie.map(Le(d,C)):[];if(!ne&&(0,Ue.z)(d))return(0,he.z)(on=>Me(on,C,_))((0,Ce.Xf)(d));if(!ne)throw new TypeError("Invalid event target");return new ve.y(on=>{const tn=(...Bn)=>on.next(1<Bn.length?Bn:Bn[0]);return ne(tn),()=>It(tn)})}function Le(d,C){return _=>N=>d[_](C,N)}var oe=k(8645),ot=k(5619),He=k(2572),pe=k(2096),Re=k(6745),Ve=(k(6506),k(8899),k(5298),k(8077),k(7876)),st=k(544),lt=k(1273),ft=k(8354),In=(k(1767),k(8946)),le=(k(7643),k(4587),k(6953)),xe=k(2181),Be=k(4664),Ze=k(3997),Xe=k(6814);const Ct=Ve.i,Pe=["*"],Et=["outlet"],_t=["tabsInner"],Ut=[[["","slot","top"]],"*"],cn=["[slot=top]","*"],Nn=d=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(d):"function"==typeof requestAnimationFrame?requestAnimationFrame(d):setTimeout(d);let bn=(()=>{class d{constructor(_,N){this.injector=_,this.el=N,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(_){this.el.nativeElement.value=this.lastValue=_,_n(this.el)}handleValueChange(_,N){_===this.el.nativeElement&&(N!==this.lastValue&&(this.lastValue=N,this.onChange(N)),_n(this.el))}_handleBlurEvent(_){_===this.el.nativeElement&&(this.onTouched(),_n(this.el))}registerOnChange(_){this.onChange=_}registerOnTouched(_){this.onTouched=_}setDisabledState(_){this.el.nativeElement.disabled=_}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let _;try{_=this.injector.get(W.a5)}catch{}if(!_)return;_.statusChanges&&(this.statusChanges=_.statusChanges.subscribe(()=>_n(this.el)));const N=_.control;N&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(It=>{if(typeof N[It]<"u"){const on=N[It].bind(N);N[It]=(...tn)=>{on(...tn),_n(this.el)}}})}}return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.zs3),f.Y36(f.SBq))},d.\u0275dir=f.lG2({type:d,hostBindings:function(_,N){1&_&&f.NdJ("ionBlur",function(It){return N._handleBlurEvent(It.target)})}}),d})();const _n=d=>{Nn(()=>{const C=d.nativeElement,_=null!=C.value&&C.value.toString().length>0,N=Rn(C);br(C,N);const ne=C.closest("ion-item");ne&&br(ne,_?[...N,"item-has-value"]:N)})},Rn=d=>{const C=d.classList,_=[];for(let N=0;N<C.length;N++){const ne=C.item(N);null!==ne&&sr(ne,"ng-")&&_.push(`ion-${ne.substring(3)}`)}return _},br=(d,C)=>{const _=d.classList;_.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),_.add(...C)},sr=(d,C)=>d.substring(0,C.length)===C;let vr=(()=>{class d extends bn{constructor(_,N){super(_,N)}writeValue(_){this.el.nativeElement.checked=this.lastValue=_,_n(this.el)}_handleIonChange(_){this.handleValueChange(_,_.checked)}}return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.zs3),f.Y36(f.SBq))},d.\u0275dir=f.lG2({type:d,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(_,N){1&_&&f.NdJ("ionChange",function(It){return N._handleIonChange(It.target)})},features:[f._Bn([{provide:W.JU,useExisting:d,multi:!0}]),f.qOj]}),d})(),qn=(()=>{class d extends bn{constructor(_,N){super(_,N)}_handleChangeEvent(_){this.handleValueChange(_,_.value)}}return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.zs3),f.Y36(f.SBq))},d.\u0275dir=f.lG2({type:d,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(_,N){1&_&&f.NdJ("ionChange",function(It){return N._handleChangeEvent(It.target)})},features:[f._Bn([{provide:W.JU,useExisting:d,multi:!0}]),f.qOj]}),d})(),un=(()=>{class d extends bn{constructor(_,N){super(_,N)}_handleInputEvent(_){this.handleValueChange(_,_.value)}}return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.zs3),f.Y36(f.SBq))},d.\u0275dir=f.lG2({type:d,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(_,N){1&_&&f.NdJ("ionInput",function(It){return N._handleInputEvent(It.target)})},features:[f._Bn([{provide:W.JU,useExisting:d,multi:!0}]),f.qOj]}),d})();const Fr=(d,C)=>{const _=d.prototype;C.forEach(N=>{Object.defineProperty(_,N,{get(){return this.el[N]},set(ne){this.z.runOutsideAngular(()=>this.el[N]=ne)}})})},ar=(d,C)=>{const _=d.prototype;C.forEach(N=>{_[N]=function(){const ne=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,ne))}})},Yt=(d,C,_)=>{_.forEach(N=>d[N]=Me(C,N))};function xt(d){return function(_){const{defineCustomElementFn:N,inputs:ne,methods:It}=d;return void 0!==N&&N(),ne&&Fr(_,ne),It&&ar(_,It),_}}let oi=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-app"]],ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({})],d),d})(),xr=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],d),d})(),Wr=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement,Yt(this,this.el,["ionFocus","ionBlur"])}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],d),d})(),fr=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["collapse"]})],d),d})(),rr=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],d),d})(),B=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement,Yt(this,this.el,["ionChange","ionFocus","ionBlur"])}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],d),d})(),je=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],d),d})(),yt=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement,Yt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],d),d})(),xn=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["collapse","mode","translucent"]})],d),d})(),Ur=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["fixed"]})],d),d})(),qr=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["collapse","mode","translucent"]})],d),d})(),pt=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],d),d})(),fn=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement,Yt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],d),d})(),en=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],d),d})(),Qn=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["color","mode","position"]})],d),d})(),me=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement,Yt(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],d),d})(),Ye=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-reorder"]],ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({})],d),d})(),Qe=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement,Yt(this,this.el,["ionItemReorder"])}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-reorder-group"]],inputs:{disabled:"disabled"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["disabled"],methods:["complete"]})],d),d})(),Mt=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-row"]],ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({})],d),d})(),Dr=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["animated"]})],d),d})(),Ge=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["color","mode","selectedTab","translucent"]})],d),d})(),Je=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],d),d})(),jt=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement,Yt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],d),d})(),Gn=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["color","size"]})],d),d})(),di=(()=>{let d=class{constructor(_,N,ne){this.z=ne,_.detach(),this.el=N.nativeElement}};return d.\u0275fac=function(_){return new(_||d)(f.Y36(f.sBO),f.Y36(f.SBq),f.Y36(f.R0b))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Pe,decls:1,vars:0,template:function(_,N){1&_&&(f.F$t(),f.Hsn(0))},encapsulation:2,changeDetection:0}),d=(0,J.gn)([xt({inputs:["color","mode"]})],d),d})(),Io=(()=>{class d{get(_,N){const ne=Mi();return ne?ne.get(_,N):null}getBoolean(_,N){const ne=Mi();return!!ne&&ne.getBoolean(_,N)}getNumber(_,N){const ne=Mi();return ne?ne.getNumber(_,N):0}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const vi=new f.OlP("USERCONFIG"),Mi=()=>{if(typeof window<"u"){const d=window.Ionic;if(null!=d&&d.config)return d.config}return null};let Jo=(()=>{class d{constructor(_,N){this.doc=_,this.backButton=new oe.x,this.keyboardDidShow=new oe.x,this.keyboardDidHide=new oe.x,this.pause=new oe.x,this.resume=new oe.x,this.resize=new oe.x,N.run(()=>{var ne;let It;this.win=_.defaultView,this.backButton.subscribeWithPriority=function(on,tn){return this.subscribe(Bn=>Bn.register(on,lr=>N.run(()=>tn(lr))))},cr(this.pause,_,"pause"),cr(this.resume,_,"resume"),cr(this.backButton,_,"ionBackButton"),cr(this.resize,this.win,"resize"),cr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),cr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(on=>{It=on}),null!==(ne=this.win)&&void 0!==ne&&ne.cordova?_.addEventListener("deviceready",()=>{It("cordova")},{once:!0}):It("dom")})}is(_){return(0,Ve.a)(this.win,_)}platforms(){return(0,Ve.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(_){return zo(this.win.location.href,_)}isLandscape(){return!this.isPortrait()}isPortrait(){var _,N;return null===(_=(N=this.win).matchMedia)||void 0===_?void 0:_.call(N,"(orientation: portrait)").matches}testUserAgent(_){const N=this.win.navigator;return!!(null!=N&&N.userAgent&&N.userAgent.indexOf(_)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return d.\u0275fac=function(_){return new(_||d)(f.LFG(Xe.K0),f.LFG(f.R0b))},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const zo=(d,C)=>{C=C.replace(/[[\]\\]/g,"\\$&");const N=new RegExp("[\\?&]"+C+"=([^&#]*)").exec(d);return N?decodeURIComponent(N[1].replace(/\+/g," ")):null},cr=(d,C,_)=>{C&&C.addEventListener(_,N=>{d.next(null!=N?N.detail:void 0)})};let rn=(()=>{class d{constructor(_,N,ne,It){this.location=N,this.serializer=ne,this.router=It,this.direction=ur,this.animated=Ti,this.guessDirection="forward",this.lastNavId=-1,It&&It.events.subscribe(on=>{if(on instanceof Re.OD){const tn=on.restoredState?on.restoredState.navigationId:on.id;this.guessDirection=tn<this.lastNavId?"back":"forward",this.guessAnimation=on.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?on.id:tn}}),_.backButton.subscribeWithPriority(0,on=>{this.pop(),on()})}navigateForward(_,N={}){return this.setDirection("forward",N.animated,N.animationDirection,N.animation),this.navigate(_,N)}navigateBack(_,N={}){return this.setDirection("back",N.animated,N.animationDirection,N.animation),this.navigate(_,N)}navigateRoot(_,N={}){return this.setDirection("root",N.animated,N.animationDirection,N.animation),this.navigate(_,N)}back(_={animated:!0,animationDirection:"back"}){return this.setDirection("back",_.animated,_.animationDirection,_.animation),this.location.back()}pop(){var _=this;return(0,g.Z)(function*(){let N=_.topOutlet;for(;N;){if(yield N.pop())return!0;N=N.parentOutlet}return!1})()}setDirection(_,N,ne,It){this.direction=_,this.animated=Wn(_,N,ne),this.animationBuilder=It}setTopOutlet(_){this.topOutlet=_}consumeTransition(){let N,_="root";const ne=this.animationBuilder;return"auto"===this.direction?(_=this.guessDirection,N=this.guessAnimation):(N=this.animated,_=this.direction),this.direction=ur,this.animated=Ti,this.animationBuilder=void 0,{direction:_,animation:N,animationBuilder:ne}}navigate(_,N){if(Array.isArray(_))return this.router.navigate(_,N);{const ne=this.serializer.parse(_.toString());return void 0!==N.queryParams&&(ne.queryParams={...N.queryParams}),void 0!==N.fragment&&(ne.fragment=N.fragment),this.router.navigateByUrl(ne,N)}}}return d.\u0275fac=function(_){return new(_||d)(f.LFG(Jo),f.LFG(Xe.Ye),f.LFG(Re.Hx),f.LFG(Re.F0,8))},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();const Wn=(d,C,_)=>{if(!1!==C){if(void 0!==_)return _;if("forward"===d||"back"===d)return d;if("root"===d&&!0===C)return"forward"}},ur="auto",Ti=void 0;class Go{constructor(C={}){this.data=C}get(C){return this.data[C]}}let Jr=(()=>{class d{constructor(){this.zone=(0,f.f3M)(f.R0b),this.applicationRef=(0,f.f3M)(f.z2F)}create(_,N,ne){return new rs(_,N,this.applicationRef,this.zone,ne)}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac}),d})();class rs{constructor(C,_,N,ne,It){this.environmentInjector=C,this.injector=_,this.applicationRef=N,this.zone=ne,this.elementReferenceKey=It,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(C,_,N,ne){return this.zone.run(()=>new Promise(It=>{const on={...N};void 0!==this.elementReferenceKey&&(on[this.elementReferenceKey]=C),It(ri(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,C,_,on,ne,this.elementReferenceKey))}))}removeViewFromDom(C,_){return this.zone.run(()=>new Promise(N=>{const ne=this.elRefMap.get(_);if(ne){ne.destroy(),this.elRefMap.delete(_);const It=this.elEventsMap.get(_);It&&(It(),this.elEventsMap.delete(_))}N()}))}}const ri=(d,C,_,N,ne,It,on,tn,Bn,lr,gi)=>{const io=f.zs3.create({providers:Po(Bn),parent:_}),Gi=(0,f.LMc)(tn,{environmentInjector:C,elementInjector:io}),Bo=Gi.instance,oo=Gi.location.nativeElement;if(Bn&&(gi&&void 0!==Bo[gi]&&console.error(`[Ionic Error]: ${gi} is a reserved property when using ${on.tagName.toLowerCase()}. Rename or remove the "${gi}" property from ${tn.name}.`),Object.assign(Bo,Bn)),lr)for(const ta of lr)oo.classList.add(ta);const es=ii(d,Bo,oo);return on.appendChild(oo),N.attachView(Gi.hostView),ne.set(oo,Gi),It.set(oo,es),oo},co=[ft.L,ft.a,ft.b,ft.c,ft.d],ii=(d,C,_)=>d.run(()=>{const N=co.filter(ne=>"function"==typeof C[ne]).map(ne=>{const It=on=>C[ne](on.detail);return _.addEventListener(ne,It),()=>_.removeEventListener(ne,It)});return()=>N.forEach(ne=>ne())}),Pn=new f.OlP("NavParamsToken"),Po=d=>[{provide:Pn,useValue:d},{provide:Go,useFactory:No,deps:[Pn]}],No=d=>new Go(d),Zn=(d,C)=>((d=d.filter(_=>_.stackId!==C.stackId)).push(C),d),yi=(d,C)=>{const _=d.createUrlTree(["."],{relativeTo:C});return d.serializeUrl(_)},Us=(d,C)=>{if(!d)return;const _=Eo(C);for(let N=0;N<_.length;N++){if(N>=d.length)return _[N];if(_[N]!==d[N])return}},Eo=d=>d.split("/").map(C=>C.trim()).filter(C=>""!==C),zi=d=>{d&&(d.ref.destroy(),d.unlistenEvents())};class uo{constructor(C,_,N,ne,It,on){this.containerEl=_,this.router=N,this.navCtrl=ne,this.zone=It,this.location=on,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==C?Eo(C):void 0}createView(C,_){var N;const ne=yi(this.router,_),It=null==C||null===(N=C.location)||void 0===N?void 0:N.nativeElement,on=ii(this.zone,C.instance,It);return{id:this.nextId++,stackId:Us(this.tabsPrefix,ne),unlistenEvents:on,element:It,ref:C,url:ne}}getExistingView(C){const _=yi(this.router,C),N=this.views.find(ne=>ne.url===_);return N&&N.ref.changeDetectorRef.reattach(),N}setActive(C){var _,N;const ne=this.navCtrl.consumeTransition();let{direction:It,animation:on,animationBuilder:tn}=ne;const Bn=this.activeView,lr=((d,C)=>!C||d.stackId!==C.stackId)(C,Bn);lr&&(It="back",on=void 0);const gi=this.views.slice();let io;const Gi=this.router;Gi.getCurrentNavigation?io=Gi.getCurrentNavigation():null!==(_=Gi.navigations)&&void 0!==_&&_.value&&(io=Gi.navigations.value),null!==(N=io)&&void 0!==N&&null!==(N=N.extras)&&void 0!==N&&N.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Bo=this.views.includes(C),oo=this.insertView(C,It);Bo||C.ref.changeDetectorRef.detectChanges();const es=C.animationBuilder;return void 0===tn&&"back"===It&&!lr&&void 0!==es&&(tn=es),Bn&&(Bn.animationBuilder=tn),this.zone.runOutsideAngular(()=>this.wait(()=>(Bn&&Bn.ref.changeDetectorRef.detach(),C.ref.changeDetectorRef.reattach(),this.transition(C,Bn,on,this.canGoBack(1),!1,tn).then(()=>is(C,oo,gi,this.location,this.zone)).then(()=>({enteringView:C,direction:It,animation:on,tabSwitch:lr})))))}canGoBack(C,_=this.getActiveStackId()){return this.getStack(_).length>C}pop(C,_=this.getActiveStackId()){return this.zone.run(()=>{const N=this.getStack(_);if(N.length<=C)return Promise.resolve(!1);const ne=N[N.length-C-1];let It=ne.url;const on=ne.savedData;if(on){var tn;const lr=on.get("primary");null!=lr&&null!==(tn=lr.route)&&void 0!==tn&&null!==(tn=tn._routerState)&&void 0!==tn&&tn.snapshot.url&&(It=lr.route._routerState.snapshot.url)}const{animationBuilder:Bn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(It,{...ne.savedExtras,animation:Bn}).then(()=>!0)})}startBackTransition(){const C=this.activeView;if(C){const _=this.getStack(C.stackId),N=_[_.length-2],ne=N.animationBuilder;return this.wait(()=>this.transition(N,C,"back",this.canGoBack(2),!0,ne))}return Promise.resolve()}endBackTransition(C){C?(this.skipTransition=!0,this.pop(1)):this.activeView&&Vn(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(C){const _=this.getStack(C);return _.length>0?_[_.length-1]:void 0}getRootUrl(C){const _=this.getStack(C);return _.length>0?_[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(zi),this.activeView=void 0,this.views=[]}getStack(C){return this.views.filter(_=>_.stackId===C)}insertView(C,_){return this.activeView=C,this.views=((d,C,_)=>"root"===_?Zn(d,C):"forward"===_?((d,C)=>(d.indexOf(C)>=0?d=d.filter(N=>N.stackId!==C.stackId||N.id<=C.id):d.push(C),d))(d,C):((d,C)=>d.indexOf(C)>=0?d.filter(N=>N.stackId!==C.stackId||N.id<=C.id):Zn(d,C))(d,C))(this.views,C,_),this.views.slice()}transition(C,_,N,ne,It,on){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(_===C)return Promise.resolve(!1);const tn=C?C.element:void 0,Bn=_?_.element:void 0,lr=this.containerEl;return tn&&tn!==Bn&&(tn.classList.add("ion-page"),tn.classList.add("ion-page-invisible"),tn.parentElement!==lr&&lr.appendChild(tn),lr.commit)?lr.commit(tn,Bn,{duration:void 0===N?0:void 0,direction:N,showGoBack:ne,progressAnimation:It,animationBuilder:on}):Promise.resolve(!1)}wait(C){var _=this;return(0,g.Z)(function*(){void 0!==_.runningTask&&(yield _.runningTask,_.runningTask=void 0);const N=_.runningTask=C();return N.finally(()=>_.runningTask=void 0),N})()}}const is=(d,C,_,N,ne)=>"function"==typeof requestAnimationFrame?new Promise(It=>{requestAnimationFrame(()=>{Vn(d,C,_,N,ne),It()})}):Promise.resolve(),Vn=(d,C,_,N,ne)=>{ne.run(()=>_.filter(It=>!C.includes(It)).forEach(zi)),C.forEach(It=>{const tn=N.path().split("?")[0].split("#")[0];if(It!==d&&It.url!==tn){const Bn=It.element;Bn.setAttribute("aria-hidden","true"),Bn.classList.add("ion-page-hidden"),It.ref.changeDetectorRef.detach()}})};let ho=(()=>{class d{constructor(_,N,ne,It,on,tn,Bn,lr){this.parentOutlet=lr,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ot.X(null),this.activated=null,this._activatedRoute=null,this.name=Re.eC,this.stackEvents=new f.vpe,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Re.y6),this.location=(0,f.f3M)(f.s_b),this.environmentInjector=(0,f.f3M)(f.lqb),this.inputBinder=(0,f.f3M)(ko,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,f.f3M)(Io),this.navCtrl=(0,f.f3M)(rn),this.nativeEl=It.nativeElement,this.name=_||Re.eC,this.tabsPrefix="true"===N?yi(on,Bn):void 0,this.stackCtrl=new uo(this.tabsPrefix,this.nativeEl,on,this.navCtrl,tn,ne),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(_){this.nativeEl.animation=_}set animated(_){this.nativeEl.animated=_}set swipeGesture(_){this._swipeGesture=_,this.nativeEl.swipeHandler=_?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:N=>this.stackCtrl.endBackTransition(N)}:void 0}ngOnDestroy(){var _;this.stackCtrl.destroy(),null===(_=this.inputBinder)||void 0===_||_.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const _=this.getContext();null!=_&&_.route&&this.activateWith(_.route,_.injector)}new Promise(_=>(0,st.c)(this.nativeEl,_)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(_,N){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const N=this.getContext();this.activatedView.savedData=new Map(N.children.contexts);const ne=this.activatedView.savedData.get("primary");if(ne&&N.route&&(ne.route={...N.route}),this.activatedView.savedExtras={},N.route){const It=N.route.snapshot;this.activatedView.savedExtras.queryParams=It.queryParams,this.activatedView.savedExtras.fragment=It.fragment}}const _=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,N){var ne;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;let It,on=this.stackCtrl.getExistingView(_);if(on){It=this.activated=on.ref;const Bn=on.savedData;Bn&&(this.getContext().children.contexts=Bn),this.updateActivatedRouteProxy(It.instance,_)}else{var tn;const Bn=_._futureSnapshot,lr=this.parentContexts.getOrCreateContext(this.name).children,gi=new ot.X(null),io=this.createActivatedRouteProxy(gi,_),Gi=new fo(io,lr,this.location.injector),Bo=null!==(tn=Bn.routeConfig.component)&&void 0!==tn?tn:Bn.component;It=this.activated=this.location.createComponent(Bo,{index:this.location.length,injector:Gi,environmentInjector:null!=N?N:this.environmentInjector}),gi.next(It.instance),on=this.stackCtrl.createView(this.activated,_),this.proxyMap.set(It.instance,io),this.currentActivatedRoute$.next({component:It.instance,activatedRoute:_})}null===(ne=this.inputBinder)||void 0===ne||ne.bindActivatedRouteToOutletComponent(this),this.activatedView=on,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(on).then(Bn=>{this.activateEvents.emit(It.instance),this.stackEvents.emit(Bn)})}canGoBack(_=1,N){return this.stackCtrl.canGoBack(_,N)}pop(_=1,N){return this.stackCtrl.pop(_,N)}getLastUrl(_){const N=this.stackCtrl.getLastUrl(_);return N?N.url:void 0}getLastRouteView(_){return this.stackCtrl.getLastUrl(_)}getRootView(_){return this.stackCtrl.getRootUrl(_)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(_,N){const ne=new Re.gz;return ne._futureSnapshot=N._futureSnapshot,ne._routerState=N._routerState,ne.snapshot=N.snapshot,ne.outlet=N.outlet,ne.component=N.component,ne._paramMap=this.proxyObservable(_,"paramMap"),ne._queryParamMap=this.proxyObservable(_,"queryParamMap"),ne.url=this.proxyObservable(_,"url"),ne.params=this.proxyObservable(_,"params"),ne.queryParams=this.proxyObservable(_,"queryParams"),ne.fragment=this.proxyObservable(_,"fragment"),ne.data=this.proxyObservable(_,"data"),ne}proxyObservable(_,N){return _.pipe((0,xe.h)(ne=>!!ne),(0,Be.w)(ne=>this.currentActivatedRoute$.pipe((0,xe.h)(It=>null!==It&&It.component===ne),(0,Be.w)(It=>It&&It.activatedRoute[N]),(0,Ze.x)())))}updateActivatedRouteProxy(_,N){const ne=this.proxyMap.get(_);if(!ne)throw new Error("Could not find activated route proxy for view");ne._futureSnapshot=N._futureSnapshot,ne._routerState=N._routerState,ne.snapshot=N.snapshot,ne.outlet=N.outlet,ne.component=N.component,this.currentActivatedRoute$.next({component:_,activatedRoute:N})}}return d.\u0275fac=function(_){return new(_||d)(f.$8M("name"),f.$8M("tabs"),f.Y36(Xe.Ye),f.Y36(f.SBq),f.Y36(Re.F0),f.Y36(f.R0b),f.Y36(Re.gz),f.Y36(d,12))},d.\u0275dir=f.lG2({type:d,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),d})();class fo{constructor(C,_,N){this.route=C,this.childContexts=_,this.parent=N}get(C,_){return C===Re.gz?this.route:C===Re.y6?this.childContexts:this.parent.get(C,_)}}const ko=new f.OlP("");let ei=(()=>{class d{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(_){this.unsubscribeFromRouteData(_),this.subscribeToRouteData(_)}unsubscribeFromRouteData(_){var N;null===(N=this.outletDataSubscriptions.get(_))||void 0===N||N.unsubscribe(),this.outletDataSubscriptions.delete(_)}subscribeToRouteData(_){const{activatedRoute:N}=_,ne=(0,He.a)([N.queryParams,N.params,N.data]).pipe((0,Be.w)(([It,on,tn],Bn)=>(tn={...It,...on,...tn},0===Bn?(0,pe.of)(tn):Promise.resolve(tn)))).subscribe(It=>{if(!_.isActivated||!_.activatedComponentRef||_.activatedRoute!==N||null===N.component)return void this.unsubscribeFromRouteData(_);const on=(0,f.qFp)(N.component);if(on)for(const{templateName:tn}of on.inputs)_.activatedComponentRef.setInput(tn,It[tn]);else this.unsubscribeFromRouteData(_)});this.outletDataSubscriptions.set(_,ne)}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac}),d})(),ro=(()=>{class d{constructor(_){this.navCtrl=_,this.ionTabsWillChange=new f.vpe,this.ionTabsDidChange=new f.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onPageSelected(_){const N=_.enteringView.stackId;_.tabSwitch&&void 0!==N&&(this.ionTabsWillChange.emit({tab:N}),this.tabBar&&(this.tabBar.selectedTab=N),this.ionTabsDidChange.emit({tab:N}))}select(_){const N="string"==typeof _,ne=N?_:_.detail.tab,It=this.outlet.getActiveStackId()===ne,on=`${this.outlet.tabsPrefix}/${ne}`;if(N||_.stopPropagation(),It){const tn=this.outlet.getActiveStackId(),Bn=this.outlet.getLastRouteView(tn);if((null==Bn?void 0:Bn.url)===on)return;const lr=this.outlet.getRootView(ne);return this.navCtrl.navigateRoot(on,{...lr&&on===lr.url&&lr.savedExtras,animated:!0,animationDirection:"back"})}{const tn=this.outlet.getLastRouteView(ne);return this.navCtrl.navigateRoot((null==tn?void 0:tn.url)||on,{...null==tn?void 0:tn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(_=>{const N=_.el.getAttribute("slot");N!==this.tabBarSlot&&(this.tabBarSlot=N,this.relocateTabBar())})}relocateTabBar(){const _=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(_):this.tabsInner.nativeElement.after(_)}}return d.\u0275fac=function(_){return new(_||d)(f.Y36(rn))},d.\u0275cmp=f.Xpm({type:d,selectors:[["ion-tabs"]],contentQueries:function(_,N,ne){if(1&_&&(f.Suo(ne,Ge,5),f.Suo(ne,Ge,4)),2&_){let It;f.iGM(It=f.CRH())&&(N.tabBar=It.first),f.iGM(It=f.CRH())&&(N.tabBars=It)}},viewQuery:function(_,N){if(1&_&&(f.Gf(Et,5,ho),f.Gf(_t,7,f.SBq)),2&_){let ne;f.iGM(ne=f.CRH())&&(N.outlet=ne.first),f.iGM(ne=f.CRH())&&(N.tabsInner=ne.first)}},hostBindings:function(_,N){1&_&&f.NdJ("ionTabButtonClick",function(It){return N.select(It)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:cn,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(_,N){1&_&&(f.F$t(Ut),f.Hsn(0),f.TgZ(1,"div",0,1)(3,"ion-router-outlet",2,3),f.NdJ("stackEvents",function(It){return N.onPageSelected(It)}),f.qZA()(),f.Hsn(5,1))},dependencies:[ho],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),d})(),Fo=(()=>{class d{constructor(_,N,ne){this.routerOutlet=_,this.navCtrl=N,this.config=ne}onClick(_){var N;const ne=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(N=this.routerOutlet)&&void 0!==N&&N.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),_.preventDefault()):null!=ne&&(this.navCtrl.navigateBack(ne,{animation:this.routerAnimation}),_.preventDefault())}}return d.\u0275fac=function(_){return new(_||d)(f.Y36(ho,8),f.Y36(rn),f.Y36(Io))},d.\u0275dir=f.lG2({type:d,selectors:[["ion-back-button"]],hostBindings:function(_,N){1&_&&f.NdJ("click",function(It){return N.onClick(It)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),d})(),fi=(()=>{class d{constructor(_,N,ne,It,on){this.locationStrategy=_,this.navCtrl=N,this.elementRef=ne,this.router=It,this.routerLink=on,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var _;if(null!==(_=this.routerLink)&&void 0!==_&&_.urlTree){const N=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=N}}onClick(_){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),_.preventDefault()}}return d.\u0275fac=function(_){return new(_||d)(f.Y36(Xe.S$),f.Y36(rn),f.Y36(f.SBq),f.Y36(Re.F0),f.Y36(Re.rH,8))},d.\u0275dir=f.lG2({type:d,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,N){1&_&&f.NdJ("click",function(It){return N.onClick(It)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[f.TTD]}),d})();class wo{constructor(C){this.ctrl=C}create(C){return this.ctrl.create(C||{})}dismiss(C,_,N){return this.ctrl.dismiss(C,_,N)}getTop(){return this.ctrl.getTop()}}let bo=(()=>{class d extends wo{constructor(){super(In.a)}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Si=(()=>{class d extends wo{constructor(){super(In.l)}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})(),Hs=(()=>{class d extends wo{constructor(){super(In.m),this.angularDelegate=(0,f.f3M)(Jr),this.injector=(0,f.f3M)(f.zs3),this.environmentInjector=(0,f.f3M)(f.lqb)}create(_){return super.create({..._,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac}),d})(),da=(()=>{class d extends wo{constructor(){super(In.c),this.angularDelegate=(0,f.f3M)(Jr),this.injector=(0,f.f3M)(f.zs3),this.environmentInjector=(0,f.f3M)(f.lqb)}create(_){return super.create({..._,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac}),d})(),hs=(()=>{class d extends wo{constructor(){super(In.t)}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();class $r{shouldDetach(C){return!1}shouldAttach(C){return!1}store(C,_){}retrieve(C){return null}shouldReuseRoute(C,_){if(C.routeConfig!==_.routeConfig)return!1;const N=C.params,ne=_.params,It=Object.keys(N),on=Object.keys(ne);if(It.length!==on.length)return!1;for(const tn of It)if(ne[tn]!==N[tn])return!1;return!0}}const Lo=(d,C,_)=>()=>{if(C.defaultView&&typeof window<"u"){(0,lt.s)({...d,_zoneGate:It=>_.run(It)});const ne="__zone_symbol__addEventListener"in C.body?"__zone_symbol__addEventListener":"addEventListener";return function Bt(){var d=[];if(typeof window<"u"){var C=window;(!C.customElements||C.Element&&(!C.Element.prototype.closest||!C.Element.prototype.matches||!C.Element.prototype.remove||!C.Element.prototype.getRootNode))&&d.push(k.e(6748).then(k.t.bind(k,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||C.NodeList&&!C.NodeList.prototype.forEach||!C.fetch||!function(){try{var N=new URL("b","http://a");return N.pathname="c%20d","http://a/c%20d"===N.href&&N.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&d.push(k.e(2214).then(k.t.bind(k,2668,23)))}return Promise.all(d)}().then(()=>((d,C)=>typeof window>"u"?Promise.resolve():(0,le.p)().then(()=>(Ct(),(0,le.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),C))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Nn,jmp:It=>_.runOutsideAngular(It),ael(It,on,tn,Bn){It[ne](on,tn,Bn)},rel(It,on,tn,Bn){It.removeEventListener(on,tn,Bn)}}))}};let P=(()=>{class d{static forRoot(_){return{ngModule:d,providers:[{provide:vi,useValue:_},{provide:f.ip1,useFactory:Lo,multi:!0,deps:[vi,Xe.K0,f.R0b]},{provide:ko,useFactory:se,deps:[Re.F0]}]}}}return d.\u0275fac=function(_){return new(_||d)},d.\u0275mod=f.oAB({type:d}),d.\u0275inj=f.cJS({providers:[Jr,Hs,da],imports:[Xe.ez]}),d})();function se(d){return null!=d&&d.componentInputBindingEnabled?new ei:null}},3182:(qt,Ke,k)=>{"use strict";k.d(Ke,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=k(534);(0,g.registerVersion)("firebase","9.23.0","app")},7142:(qt,Ke,k)=>{"use strict";k.d(Ke,{Z:()=>g.Z});var g=k(3106);g.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(qt,Ke,k)=>{"use strict";k.r(Ke);var g=k(5861),f=k(3106),W=k(6878),J=k(9058),he=(k(534),k(7879),k(4537));function Ue(){return window}function Q(){return Q=(0,g.Z)(function*(V,G,B){var de;const{BuildInfo:je}=Ue();(0,W.as)(G.sessionId,"AuthEvent did not contain a session ID");const yt=yield function we(V){return oe.apply(this,arguments)}(G.sessionId),$t={};return(0,W.at)()?$t.ibi=je.packageName:(0,W.au)()?$t.apn=je.packageName:(0,W.av)(V,"operation-not-supported-in-this-environment"),je.displayName&&($t.appDisplayName=je.displayName),$t.sessionId=yt,(0,W.aw)(V,B,G.type,void 0,null!==(de=G.eventId)&&void 0!==de?de:void 0,$t)}),Q.apply(this,arguments)}function Ie(){return(Ie=(0,g.Z)(function*(V){const{BuildInfo:G}=Ue(),B={};(0,W.at)()?B.iosBundleId=G.packageName:(0,W.au)()?B.androidPackageName=G.packageName:(0,W.av)(V,"operation-not-supported-in-this-environment"),yield(0,W.ax)(V,B)})).apply(this,arguments)}function rt(){return(rt=(0,g.Z)(function*(V,G,B){const{cordova:de}=Ue();let je=()=>{};try{yield new Promise((yt,$t)=>{let Vt=null;function Gt(){var xn;yt();const Ur=null===(xn=de.plugins.browsertab)||void 0===xn?void 0:xn.close;"function"==typeof Ur&&Ur(),"function"==typeof(null==B?void 0:B.close)&&B.close()}function dn(){Vt||(Vt=window.setTimeout(()=>{$t((0,W.az)(V,"redirect-cancelled-by-user"))},2e3))}function Jn(){"visible"===(null==document?void 0:document.visibilityState)&&dn()}G.addPassiveListener(Gt),document.addEventListener("resume",dn,!1),(0,W.au)()&&document.addEventListener("visibilitychange",Jn,!1),je=()=>{G.removePassiveListener(Gt),document.removeEventListener("resume",dn,!1),document.removeEventListener("visibilitychange",Jn,!1),Vt&&window.clearTimeout(Vt)}})}finally{je()}})).apply(this,arguments)}function oe(){return(oe=(0,g.Z)(function*(V){const G=function ot(V){if((0,W.as)(/[0-9a-zA-Z]+/.test(V),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(V);const G=new ArrayBuffer(V.length),B=new Uint8Array(G);for(let de=0;de<V.length;de++)B[de]=V.charCodeAt(de);return B}(V),B=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(B)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class pe extends W.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(G)),super.onEvent(G)}initialized(){var G=this;return(0,g.Z)(function*(){yield G.initPromise})()}}function Ee(V){return te.apply(this,arguments)}function te(){return(te=(0,g.Z)(function*(V){const G=yield st()._get(lt(V));return G&&(yield st()._remove(lt(V))),G})).apply(this,arguments)}function Ve(){const V=[];for(let B=0;B<20;B++){const de=Math.floor(62*Math.random());V.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(de))}return V.join("")}function st(){return(0,W.aC)(W.b)}function lt(V){return(0,W.aD)("authEvent",V.config.apiKey,V.name)}function In(V){if(null==V||!V.includes("?"))return{};const[G,...B]=V.split("?");return(0,J.zd)(B.join("?"))}const le=class ht{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aE,this._overrideRedirectResult=W.aF}_initialize(G){var B=this;return(0,g.Z)(function*(){const de=G._key();let je=B.eventManagers.get(de);return je||(je=new pe(G),B.eventManagers.set(de,je),B.attachCallbackListeners(G,je)),je})()}_openPopup(G){(0,W.av)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,B,de,je){var yt=this;return(0,g.Z)(function*(){!function Te(V){var G,B,de,je,yt,$t,Vt,Gt,dn,Jn;const xn=Ue();(0,W.aA)("function"==typeof(null===(G=null==xn?void 0:xn.universalLinks)||void 0===G?void 0:G.subscribe),V,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.aA)(typeof(null===(B=null==xn?void 0:xn.BuildInfo)||void 0===B?void 0:B.packageName)<"u",V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.aA)("function"==typeof(null===(yt=null===(je=null===(de=null==xn?void 0:xn.cordova)||void 0===de?void 0:de.plugins)||void 0===je?void 0:je.browsertab)||void 0===yt?void 0:yt.openUrl),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aA)("function"==typeof(null===(Gt=null===(Vt=null===($t=null==xn?void 0:xn.cordova)||void 0===$t?void 0:$t.plugins)||void 0===Vt?void 0:Vt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.aA)("function"==typeof(null===(Jn=null===(dn=null==xn?void 0:xn.cordova)||void 0===dn?void 0:dn.InAppBrowser)||void 0===Jn?void 0:Jn.open),V,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const $t=yield yt._initialize(G);yield $t.initialized(),$t.resetRedirect(),(0,W.aG)(),yield yt._originValidation(G);const Vt=function Re(V,G,B=null){return{type:G,eventId:B,urlResponse:null,sessionId:Ve(),postBody:null,tenantId:V.tenantId,error:(0,W.az)(V,"no-auth-event")}}(G,de,je);yield function ke(V,G){return st()._set(lt(V),G)}(G,Vt);const Gt=yield function fe(V,G,B){return Q.apply(this,arguments)}(G,Vt,B),dn=yield function Me(V){const{cordova:G}=Ue();return new Promise(B=>{G.plugins.browsertab.isAvailable(de=>{let je=null;de?G.plugins.browsertab.openUrl(V):je=G.InAppBrowser.open(V,(0,W.ay)()?"_blank":"_system","location=yes"),B(je)})})}(Gt);return function Le(V,G,B){return rt.apply(this,arguments)}(G,$t,dn)})()}_isIframeWebStorageSupported(G,B){throw new Error("Method not implemented.")}_originValidation(G){const B=G._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function be(V){return Ie.apply(this,arguments)}(G)),this.originValidationPromises[B]}attachCallbackListeners(G,B){const{universalLinks:de,handleOpenURL:je,BuildInfo:yt}=Ue(),$t=setTimeout((0,g.Z)(function*(){yield Ee(G),B.onEvent(ge())}),500),Vt=function(){var Jn=(0,g.Z)(function*(xn){clearTimeout($t);const Ur=yield Ee(G);let qr=null;Ur&&null!=xn&&xn.url&&(qr=function dt(V,G){var B,de;const je=function Wt(V){const G=In(V),B=G.link?decodeURIComponent(G.link):void 0,de=In(B).link,je=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return In(je).link||je||de||B||V}(G);if(je.includes("/__/auth/callback")){const yt=In(je),$t=yt.firebaseError?function ft(V){try{return JSON.parse(V)}catch{return null}}(decodeURIComponent(yt.firebaseError)):null,Vt=null===(de=null===(B=null==$t?void 0:$t.code)||void 0===B?void 0:B.split("auth/"))||void 0===de?void 0:de[1],Gt=Vt?(0,W.az)(Vt):null;return Gt?{type:V.type,eventId:V.eventId,tenantId:V.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:V.type,eventId:V.eventId,tenantId:V.tenantId,sessionId:V.sessionId,urlResponse:je,postBody:null}}return null}(Ur,xn.url)),B.onEvent(qr||ge())});return function(Ur){return Jn.apply(this,arguments)}}();typeof de<"u"&&"function"==typeof de.subscribe&&de.subscribe(null,Vt);const Gt=je,dn=`${yt.packageName.toLowerCase()}://`;Ue().handleOpenURL=function(){var Jn=(0,g.Z)(function*(xn){if(xn.toLowerCase().startsWith(dn)&&Vt({url:xn}),"function"==typeof Gt)try{Gt(xn)}catch(Ur){console.error(Ur)}});return function(xn){return Jn.apply(this,arguments)}}()}};function ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.az)("no-auth-event")}}function Bt(){var V;return(null===(V=null==self?void 0:self.location)||void 0===V?void 0:V.protocol)||null}function at(V=(0,J.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!V.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ut(){try{const V=self.localStorage,G=W.aL();if(V)return V.setItem(G,"1"),V.removeItem(G),!function _t(V=(0,J.z$)()){return function Pe(){return(0,J.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Et(V=(0,J.z$)()){return/Edge\/\d+/.test(V)}(V)}()||(0,J.hl)()}catch{return cn()&&(0,J.hl)()}return!1}function cn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function an(){return(function Ct(){return"http:"===Bt()||"https:"===Bt()}()||(0,J.ru)()||at())&&!function gt(){return(0,J.b$)()||(0,J.UG)()}()&&Ut()&&!cn()}function mn(){return at()&&typeof document<"u"}function bn(){return(bn=(0,g.Z)(function*(){return!!mn()&&new Promise(V=>{const G=setTimeout(()=>{V(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),V(!0)})})})).apply(this,arguments)}const Rn={LOCAL:"local",NONE:"none",SESSION:"session"},br=W.aA,sr="persistence";function Jt(V){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,g.Z)(function*(V){yield V._initializationPromise;const G=un(),B=W.aD(sr,V.config.apiKey,V.name);G&&G.setItem(B,V._getPersistence())})).apply(this,arguments)}function un(){var V;try{return(null===(V=function _n(){return typeof window<"u"?window:null}())||void 0===V?void 0:V.sessionStorage)||null}catch{return null}}const Fr=W.aA;class ar{constructor(){this.browserResolver=W.aC(W.k),this.cordovaResolver=W.aC(le),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aE,this._overrideRedirectResult=W.aF}_initialize(G){var B=this;return(0,g.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,B,de,je){var yt=this;return(0,g.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openPopup(G,B,de,je)})()}_openRedirect(G,B,de,je){var yt=this;return(0,g.Z)(function*(){return yield yt.selectUnderlyingResolver(),yt.assertedUnderlyingResolver._openRedirect(G,B,de,je)})()}_isIframeWebStorageSupported(G,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,B)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return mn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Fr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,g.Z)(function*(){if(G.underlyingResolver)return;const B=yield function Nn(){return bn.apply(this,arguments)}();G.underlyingResolver=B?G.cordovaResolver:G.browserResolver})()}}function Yt(V){return V.unwrap()}function xt(V){return $n(V)}function $n(V){const{_tokenResponse:G}=V instanceof J.ZR?V.customData:V;if(!G)return null;if(!(V instanceof J.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return W.P.credentialFromResult(V);const B=G.providerId;if(!B||B===W.p.PASSWORD)return null;let de;switch(B){case W.p.GOOGLE:de=W.V;break;case W.p.FACEBOOK:de=W.U;break;case W.p.GITHUB:de=W.W;break;case W.p.TWITTER:de=W.Z;break;default:const{oauthIdToken:je,oauthAccessToken:yt,oauthTokenSecret:$t,pendingToken:Vt,nonce:Gt}=G;return yt||$t||je||Vt?Vt?B.startsWith("saml.")?W.aO._create(B,Vt):W.L._fromParams({providerId:B,signInMethod:B,pendingToken:Vt,idToken:je,accessToken:yt}):new W.X(B).credential({idToken:je,accessToken:yt,rawNonce:Gt}):null}return V instanceof J.ZR?de.credentialFromError(V):de.credentialFromResult(V)}function Er(V,G){return G.catch(B=>{throw B instanceof J.ZR&&function Qr(V,G){var B;const de=null===(B=G.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null==G?void 0:G.code))G.resolver=new Mr(V,W.aq(V,G));else if(de){const je=$n(G),yt=G;je&&(yt.credential=je,yt.tenantId=de.tenantId||void 0,yt.email=de.email||void 0,yt.phoneNumber=de.phoneNumber||void 0)}}(V,B),B}).then(B=>{const je=B.user;return{operationType:B.operationType,credential:xt(B),additionalUserInfo:W.ao(B),user:xr.getOrCreate(je)}})}function Yr(V,G){return oi.apply(this,arguments)}function oi(){return(oi=(0,g.Z)(function*(V,G){const B=yield G;return{verificationId:B.verificationId,confirm:de=>Er(V,B.confirm(de))}})).apply(this,arguments)}class Mr{constructor(G,B){this.resolver=B,this.auth=function Lr(V){return V.wrapped()}(G)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return Er(Yt(this.auth),this.resolver.resolveSignIn(G))}}class xr{constructor(G){this._delegate=G,this.multiFactor=W.ar(G)}static getOrCreate(G){return xr.USER_MAP.has(G)||xr.USER_MAP.set(G,new xr(G)),xr.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var B=this;return(0,g.Z)(function*(){return Er(B.auth,W.a0(B._delegate,G))})()}linkWithPhoneNumber(G,B){var de=this;return(0,g.Z)(function*(){return Yr(de.auth,W.l(de._delegate,G,B))})()}linkWithPopup(G){var B=this;return(0,g.Z)(function*(){return Er(B.auth,W.d(B._delegate,G,ar))})()}linkWithRedirect(G){var B=this;return(0,g.Z)(function*(){return yield Jt(W.aH(B.auth)),W.g(B._delegate,G,ar)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var B=this;return(0,g.Z)(function*(){return Er(B.auth,W.a1(B._delegate,G))})()}reauthenticateWithPhoneNumber(G,B){return Yr(this.auth,W.r(this._delegate,G,B))}reauthenticateWithPopup(G){return Er(this.auth,W.e(this._delegate,G,ar))}reauthenticateWithRedirect(G){var B=this;return(0,g.Z)(function*(){return yield Jt(W.aH(B.auth)),W.h(B._delegate,G,ar)})()}sendEmailVerification(G){return W.ae(this._delegate,G)}unlink(G){var B=this;return(0,g.Z)(function*(){return yield W.an(B._delegate,G),B})()}updateEmail(G){return W.aj(this._delegate,G)}updatePassword(G){return W.ak(this._delegate,G)}updatePhoneNumber(G){return W.u(this._delegate,G)}updateProfile(G){return W.ai(this._delegate,G)}verifyBeforeUpdateEmail(G,B){return W.af(this._delegate,G,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xr.USER_MAP=new WeakMap;const Cr=W.aA;let Pr=(()=>{class V{constructor(B,de){if(this.app=B,de.isInitialized())return this._delegate=de.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=B.options;Cr(je,"invalid-api-key",{appName:B.name}),Cr(je,"invalid-api-key",{appName:B.name});const yt=typeof window<"u"?ar:void 0;this._delegate=de.initialize({options:{persistence:yr(je,B.name),popupRedirectResolver:yt}}),this._delegate._updateErrorMap(W.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,de){W.I(this._delegate,B,de)}applyActionCode(B){return W.a5(this._delegate,B)}checkActionCode(B){return W.a6(this._delegate,B)}confirmPasswordReset(B,de){return W.a4(this._delegate,B,de)}createUserWithEmailAndPassword(B,de){var je=this;return(0,g.Z)(function*(){return Er(je._delegate,W.a8(je._delegate,B,de))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return W.ad(this._delegate,B)}isSignInWithEmailLink(B){return W.ab(this._delegate,B)}getRedirectResult(){var B=this;return(0,g.Z)(function*(){Cr(an(),B._delegate,"operation-not-supported-in-this-environment");const de=yield W.j(B._delegate,ar);return de?Er(B._delegate,Promise.resolve(de)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function xe(V,G){(0,W.aH)(V)._logFramework(G)}(this._delegate,B)}onAuthStateChanged(B,de,je){const{next:yt,error:$t,complete:Vt}=Vr(B,de,je);return this._delegate.onAuthStateChanged(yt,$t,Vt)}onIdTokenChanged(B,de,je){const{next:yt,error:$t,complete:Vt}=Vr(B,de,je);return this._delegate.onIdTokenChanged(yt,$t,Vt)}sendSignInLinkToEmail(B,de){return W.aa(this._delegate,B,de)}sendPasswordResetEmail(B,de){return W.a3(this._delegate,B,de||void 0)}setPersistence(B){var de=this;return(0,g.Z)(function*(){let je;switch(function vr(V,G){br(Object.values(Rn).includes(G),V,"invalid-persistence-type"),(0,J.b$)()?br(G!==Rn.SESSION,V,"unsupported-persistence-type"):(0,J.UG)()?br(G===Rn.NONE,V,"unsupported-persistence-type"):cn()?br(G===Rn.NONE||G===Rn.LOCAL&&(0,J.hl)(),V,"unsupported-persistence-type"):br(G===Rn.NONE||Ut(),V,"unsupported-persistence-type")}(de._delegate,B),B){case Rn.SESSION:je=W.a;break;case Rn.LOCAL:je=(yield W.aC(W.i)._isAvailable())?W.i:W.b;break;case Rn.NONE:je=W.N;break;default:return W.av("argument-error",{appName:de._delegate.name})}return de._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return Er(this._delegate,W._(this._delegate))}signInWithCredential(B){return Er(this._delegate,W.$(this._delegate,B))}signInWithCustomToken(B){return Er(this._delegate,W.a2(this._delegate,B))}signInWithEmailAndPassword(B,de){return Er(this._delegate,W.a9(this._delegate,B,de))}signInWithEmailLink(B,de){return Er(this._delegate,W.ac(this._delegate,B,de))}signInWithPhoneNumber(B,de){return Yr(this._delegate,W.s(this._delegate,B,de))}signInWithPopup(B){var de=this;return(0,g.Z)(function*(){return Cr(an(),de._delegate,"operation-not-supported-in-this-environment"),Er(de._delegate,W.c(de._delegate,B,ar))})()}signInWithRedirect(B){var de=this;return(0,g.Z)(function*(){return Cr(an(),de._delegate,"operation-not-supported-in-this-environment"),yield Jt(de._delegate),W.f(de._delegate,B,ar)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return W.a7(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return V.Persistence=Rn,V})();function Vr(V,G,B){let de=V;"function"!=typeof V&&({next:de,error:G,complete:B}=V);const je=de;return{next:$t=>je($t&&xr.getOrCreate($t)),error:G,complete:B}}function yr(V,G){const B=function qn(V,G){const B=un();if(!B)return[];const de=W.aD(sr,V,G);switch(B.getItem(de)){case Rn.NONE:return[W.N];case Rn.LOCAL:return[W.i,W.a];case Rn.SESSION:return[W.a];default:return[]}}(V,G);if(typeof self<"u"&&!B.includes(W.i)&&B.push(W.i),typeof window<"u")for(const de of[W.b,W.a])B.includes(de)||B.push(de);return B.includes(W.N)||B.push(W.N),B}class Wr{constructor(){this.providerId="phone",this._delegate=new W.P(Yt(f.Z.auth()))}static credential(G,B){return W.P.credential(G,B)}verifyPhoneNumber(G,B){return this._delegate.verifyPhoneNumber(G,B)}unwrap(){return this._delegate}}Wr.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,Wr.PROVIDER_ID=W.P.PROVIDER_ID;const fr=W.aA;class rr{constructor(G,B,de=f.Z.app()){var je;fr(null===(je=de.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:de.name}),this._delegate=new W.R(G,B,de.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X(V){V.INTERNAL.registerComponent(new he.wA("auth-compat",G=>{const B=G.getProvider("app-compat").getImmediate(),de=G.getProvider("auth");return new Pr(B,de)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.Q,FacebookAuthProvider:W.U,GithubAuthProvider:W.W,GoogleAuthProvider:W.V,OAuthProvider:W.X,SAMLAuthProvider:W.Y,PhoneAuthProvider:Wr,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:rr,TwitterAuthProvider:W.Z,Auth:Pr,AuthCredential:W.J,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.4.2")}(f.Z)},5861:(qt,Ke,k)=>{"use strict";function g(W,J,Ce,ve,he,Ue,Ae){try{var fe=W[Ue](Ae),Q=fe.value}catch(be){return void Ce(be)}fe.done?J(Q):Promise.resolve(Q).then(ve,he)}function f(W){return function(){var J=this,Ce=arguments;return new Promise(function(ve,he){var Ue=W.apply(J,Ce);function Ae(Q){g(Ue,ve,he,Ae,fe,"next",Q)}function fe(Q){g(Ue,ve,he,Ae,fe,"throw",Q)}Ae(void 0)})}}k.d(Ke,{Z:()=>f})},7582:(qt,Ke,k)=>{"use strict";function J(le,ge){var xe={};for(var Be in le)Object.prototype.hasOwnProperty.call(le,Be)&&ge.indexOf(Be)<0&&(xe[Be]=le[Be]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ze=0;for(Be=Object.getOwnPropertySymbols(le);Ze<Be.length;Ze++)ge.indexOf(Be[Ze])<0&&Object.prototype.propertyIsEnumerable.call(le,Be[Ze])&&(xe[Be[Ze]]=le[Be[Ze]])}return xe}function Ce(le,ge,xe,Be){var Bt,Ze=arguments.length,Xe=Ze<3?ge:null===Be?Be=Object.getOwnPropertyDescriptor(ge,xe):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Xe=Reflect.decorate(le,ge,xe,Be);else for(var Ct=le.length-1;Ct>=0;Ct--)(Bt=le[Ct])&&(Xe=(Ze<3?Bt(Xe):Ze>3?Bt(ge,xe,Xe):Bt(ge,xe))||Xe);return Ze>3&&Xe&&Object.defineProperty(ge,xe,Xe),Xe}function be(le,ge,xe,Be){return new(xe||(xe=Promise))(function(Xe,Bt){function Ct(Pe){try{gt(Be.next(Pe))}catch(Et){Bt(Et)}}function at(Pe){try{gt(Be.throw(Pe))}catch(Et){Bt(Et)}}function gt(Pe){Pe.done?Xe(Pe.value):function Ze(Xe){return Xe instanceof xe?Xe:new xe(function(Bt){Bt(Xe)})}(Pe.value).then(Ct,at)}gt((Be=Be.apply(le,ge||[])).next())})}function He(le){return this instanceof He?(this.v=le,this):new He(le)}function pe(le,ge,xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ze,Be=xe.apply(le,ge||[]),Xe=[];return Ze={},Bt("next"),Bt("throw"),Bt("return"),Ze[Symbol.asyncIterator]=function(){return this},Ze;function Bt(_t){Be[_t]&&(Ze[_t]=function(Ut){return new Promise(function(cn,an){Xe.push([_t,Ut,cn,an])>1||Ct(_t,Ut)})})}function Ct(_t,Ut){try{!function at(_t){_t.value instanceof He?Promise.resolve(_t.value.v).then(gt,Pe):Et(Xe[0][2],_t)}(Be[_t](Ut))}catch(cn){Et(Xe[0][3],cn)}}function gt(_t){Ct("next",_t)}function Pe(_t){Ct("throw",_t)}function Et(_t,Ut){_t(Ut),Xe.shift(),Xe.length&&Ct(Xe[0][0],Xe[0][1])}}function ke(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ge=le[Symbol.asyncIterator];return ge?ge.call(le):(le=function rt(le){var ge="function"==typeof Symbol&&Symbol.iterator,xe=ge&&le[ge],Be=0;if(xe)return xe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Be>=le.length&&(le=void 0),{value:le&&le[Be++],done:!le}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),xe={},Be("next"),Be("throw"),Be("return"),xe[Symbol.asyncIterator]=function(){return this},xe);function Be(Xe){xe[Xe]=le[Xe]&&function(Bt){return new Promise(function(Ct,at){!function Ze(Xe,Bt,Ct,at){Promise.resolve(at).then(function(gt){Xe({value:gt,done:Ct})},Bt)}(Ct,at,(Bt=le[Xe](Bt)).done,Bt.value)})}}}k.d(Ke,{FC:()=>pe,KL:()=>ke,_T:()=>J,gn:()=>Ce,mG:()=>be,qq:()=>He}),"function"==typeof SuppressedError&&SuppressedError}},qt=>{qt(qt.s=7725)}]);